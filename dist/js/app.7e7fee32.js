(function(){var e={6700:function(e,t,l){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function o(e){var t=i(e);return l(t)}function i(e){if(!l.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id=6700},5399:function(e,t,l){"use strict";var a=l(9242),o=l(3396);const i={id:"app",class:"relative"};function r(e,t,l,a,r,s){const n=(0,o.up)("navbar-header"),d=(0,o.up)("a-layout-header"),c=(0,o.up)("router-view"),u=(0,o.up)("a-layout-content"),m=(0,o.up)("a-layout"),p=(0,o.up)("a-config-provider");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(p,{locale:r.zhTW},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"absolute h-screen w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(n,{title:r.headerTitle},null,8,["title"])])),_:1}),(0,o.Wm)(u,{class:"absolute w-full",style:{top:"64px",bottom:"0"}},{default:(0,o.w5)((()=>[r.isReload?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"overflow-auto"})):(0,o.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["locale"])])}var s=l(7139),n=l.p+"img/EZPLUS_white.2cf17131.svg";const d=e=>((0,o.dD)("data-v-3fb48986"),e=e(),(0,o.Cn)(),e),c={class:"navbar z-50 flex h-16 w-full items-center bg-blue-500 px-5 sm:space-x-5"},u=d((()=>(0,o._)("img",{src:n,alt:"",class:"h-10"},null,-1))),m={class:"hidden flex-1 sm:block"},p={class:"hidden space-x-2 sm:block"},h=d((()=>(0,o._)("div",{class:"flex cursor-pointer rounded p-2 text-white hover:bg-blue-600"},[(0,o._)("i",{class:"ri-notification-3-line"})],-1))),w={class:"demo-basic"},f={class:"ac-navbar-message-box"},g={class:"ac-navbar-message-box-header"},b=d((()=>(0,o._)("span",{class:"arco-react-typography ac-navbar-message-box-header-title"},"通知",-1))),y=d((()=>(0,o._)("span",null,"全部已讀",-1))),_={class:"ac-navbar-message-box-list"},v=["href"],k={class:"arco-react-badge"},x={class:"arco-react-typography ac-navbar-message-box-item-title",style:{"margin-bottom":"0px"}},L={class:"arco-react-typography ac-navbar-message-box-item-date",style:{"margin-bottom":"0px","margin-top":"4px"}},W=(0,o.uE)('<div class="hidden space-x-2 sm:block" data-v-3fb48986><div class="flex cursor-pointer rounded p-2 text-white hover:bg-blue-600" data-v-3fb48986><i class="ri-user-line" data-v-3fb48986></i> 王大明 </div></div><div class="ml-auto cursor-pointer rounded p-2 text-white hover:bg-blue-600 sm:hidden" data-v-3fb48986><i class="ri-menu-fill" data-v-3fb48986></i></div>',2);function D(e,t,l,a,i,r){const n=(0,o.up)("top-menu"),d=(0,o.up)("a-button"),D=(0,o.up)("a-badge"),V=(0,o.up)("a-trigger");return(0,o.wg)(),(0,o.iD)("div",c,[u,(0,o._)("div",m,[(0,o.Wm)(n,{class:"body-height"})]),(0,o._)("div",p,[(0,o.Wm)(V,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",w,[(0,o._)("div",f,[(0,o._)("div",g,[b,(0,o.Wm)(d,{type:"text"},{default:(0,o.w5)((()=>[y])),_:1})]),(0,o._)("div",_,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.message,(e=>((0,o.wg)(),(0,o.iD)("a",{key:e.id,class:"ac-navbar-message-box-item",href:e.link,target:"_blank",rel:"noreferrer"},[(0,o._)("span",k,[(0,o._)("div",x,[(0,o.Uk)((0,s.zw)(e.title)+" ",1),(0,o.Wm)(D,{class:(0,s.C_)({hidden:!0===e.read}),count:9,dot:"",dotStyle:{width:"5px",height:"5px"}},null,8,["class"])])]),(0,o._)("div",L,(0,s.zw)(e.date),1)],8,v)))),128))])])])])),default:(0,o.w5)((()=>[h])),_:1})]),W])}const V={class:"flex h-10 w-full items-center space-x-2",style:{top:"60px"}};function C(e,t,l,a,i,r){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",V,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tabsList,((e,t)=>((0,o.wg)(),(0,o.j4)(n,{key:t,to:e.link,class:"rounded-md px-4 py-2 text-base text-white hover:bg-blue-900 hover:bg-opacity-40","class-active":"active"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.name),1)])),_:2},1032,["to"])))),128))])}var S={name:"sideMenu",data(){return{collapsed:!0,checkHidden:!1,screenWidth:"",selected:0,tabsList:[{id:0,name:"會議記錄總表",link:"/meetingList"},{id:1,name:"待辦事項",link:"/toDoList"},{id:2,name:"KPI專區",link:"/kpi"},{id:3,name:"系統參數",link:"/setting"},{id:4,name:"個人化設定",link:"/setting_person"}],active:!1}},methods:{listClose(){this.checkHidden=!this.checkHidden}},mounted(){this.screenWidth=document.body.clientWidth,window.onresize=()=>(()=>{this.screenWidth=document.body.clientWidth,this.screenWidth<1240?this.checkHidden=!0:this.screenWidth>1240&&(this.checkHidden=!1)})()}},T=l(89);const j=(0,T.Z)(S,[["render",C],["__scopeId","data-v-04d1dbcc"]]);var U=j,M={name:"NavbarHeader",components:{topMenu:U},props:{title:{type:String,default:""}},data(){return{message:[{title:"測試",date:"2022-08-25",link:"",read:!1},{title:"測試",date:"2022-08-25",link:"",read:!1},{title:"測試",date:"2022-08-25",link:"",read:!0},{title:"測試",date:"2022-08-25",link:"",read:!0},{title:"測試",date:"2022-08-25",link:"",read:!0},{title:"測試",date:"2022-08-25",link:"",read:!0},{title:"測試",date:"2022-08-25",link:"",read:!0},{title:"測試",date:"2022-08-25",link:"",read:!0}]}}};const H=(0,T.Z)(M,[["render",D],["__scopeId","data-v-3fb48986"]]);var z=H,Y=l(5067),$={name:"app",components:{NavbarHeader:z},provide(){return{reload:this.reload}},data(){return{zhTW:Y.Z,isReload:!0,collapsed:!0,checkHidden:!1,selected:0,active:!1,headerTitle:"會議記錄系統"}},methods:{listClose(){this.checkHidden=!this.checkHidden},reload(){this.isReload=!1,this.$nextTick((()=>{this.isReload=!0}))}}};const N=(0,T.Z)($,[["render",r]]);var O=N,B=l(2483);const K={class:"meeting_list h-full w-full p-5"},I={class:"flex-col space-y-10 rounded-xl bg-white p-10 shadow-6"},P={class:"title-before mb-5 flex border-b border-b-gray-300 pb-5"},F={class:"flex flex-1 space-x-2"},A={class:"inline-block flex items-center space-x-4"},q=(0,o._)("div",{class:"flex-1 text-right"},"快速搜尋：",-1),E=["innerHTML"],Z=["innerHTML"],R=["innerHTML"],J={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},G=["innerHTML"],Q=["innerHTML"],X=["innerHTML"],ee=["innerHTML"],te={key:1,class:"flex items-center space-x-2"},le={class:"truncate"},ae={key:0},oe=["innerHTML"],ie=(0,o._)("div",{class:"w-full text-center"},"編修",-1),re=(0,o._)("i",{class:"ri-pencil-fill"},null,-1),se=(0,o._)("i",{class:"ri-pencil-fill"},null,-1),ne=(0,o._)("i",{class:"ri-eye-fill"},null,-1),de={class:"flax mb-5 space-x-4"},ce={class:"flex w-full items-center justify-center space-x-2"};function ue(e,t,l,i,r,n){const d=(0,o.up)("a-button"),c=(0,o.up)("el-input"),u=(0,o.up)("el-option"),m=(0,o.up)("el-select"),p=(0,o.up)("el-table-column"),h=(0,o.up)("el-button"),w=(0,o.up)("el-date-picker"),f=(0,o.up)("a-trigger"),g=(0,o.up)("a-tag"),b=(0,o.up)("el-table"),y=(0,o.up)("el-pagination"),_=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",K,[(0,o._)("div",I,[(0,o._)("div",P,[(0,o._)("div",F,[(0,o.Wm)(d,{type:"primary",onClick:n.add},{default:(0,o.w5)((()=>[(0,o.Uk)("新增會議記錄")])),_:1},8,["onClick"]),(0,o.Wm)(d,{type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("個人會辦")])),_:1}),(0,o.Wm)(d,{type:"primary",status:"success"},{default:(0,o.w5)((()=>[(0,o.Uk)("匯出資料")])),_:1})]),(0,o._)("div",A,[q,(0,o.Wm)(c,{modelValue:r.wholeSearch,"onUpdate:modelValue":t[0]||(t[0]=e=>r.wholeSearch=e),placeholder:"請輸入關鍵字",class:"flex-1"},null,8,["modelValue"])])]),(0,o.Wm)(b,{border:"",data:n.tables.slice((r.currentPage-1)*r.pageSize,r.currentPage*r.pageSize),ref:"multipleTable","header-cell-style":n.handerMethod},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{label:"類型",prop:"type",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"type"},{header:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:r.search.type,"onUpdate:modelValue":t[1]||(t[1]=e=>r.search.type=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.typeSelect,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.type)},null,8,E)])),_:1})])),_:1}),(0,o.Wm)(p,{label:"專案編碼及名稱",prop:"name",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"name","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(c,{placeholder:"關鍵字",modelValue:r.search.name,"onUpdate:modelValue":t[2]||(t[2]=e=>r.search.name=e)},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.name)},null,8,Z)])),_:1})])),_:1}),(0,o.Wm)(p,{label:"會議主題",prop:"theme",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"theme"},{header:(0,o.w5)((()=>[(0,o.Wm)(c,{placeholder:"關鍵字",modelValue:r.search.theme,"onUpdate:modelValue":t[3]||(t[3]=e=>r.search.theme=e)},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.theme)},null,8,R)])),_:1})])),_:1}),(0,o.Wm)(p,{label:"會議日期",prop:"date",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"date"},{header:(0,o.w5)((()=>[(0,o.Wm)(f,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",J,[(0,o.Wm)(w,{modelValue:r.search.start,"onUpdate:modelValue":t[4]||(t[4]=e=>r.search.start=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.search.end,"onUpdate:modelValue":t[5]||(t[5]=e=>r.search.end=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("日期搜尋")])),_:1})])),_:1})])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.date)},null,8,G)])),_:1})])),_:1}),(0,o.Wm)(p,{label:"負責人員",prop:"principal",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"principal"},{header:(0,o.w5)((()=>[(0,o.Wm)(c,{placeholder:"關鍵字",modelValue:r.search.principalName,"onUpdate:modelValue":t[6]||(t[6]=e=>r.search.principalName=e)},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.principal.name)},null,8,Q)])),_:1})])),_:1}),(0,o.Wm)(p,{label:"部門",prop:"chairman",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"chairman"},{header:(0,o.w5)((()=>[(0,o.Wm)(c,{placeholder:"關鍵字",modelValue:r.search.principalDepartment,"onUpdate:modelValue":t[7]||(t[7]=e=>r.search.principalDepartment=e)},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.principal.department)},null,8,X)])),_:1})])),_:1}),(0,o.Wm)(p,{label:"出席人員",prop:"member",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"member",width:"130","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(c,{placeholder:"關鍵字",modelValue:r.search.member,"onUpdate:modelValue":t[8]||(t[8]=e=>r.search.member=e)},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.member)},null,8,ee)])),_:1})])),_:1}),(0,o.Wm)(p,{label:"簽核",prop:"approvals",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"approvals","min-width":"110"},{header:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:r.search.approvals,"onUpdate:modelValue":t[9]||(t[9]=e=>r.search.approvals=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.approvalsSelect,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.value,label:e.value,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>["已簽核"===e.row.approvals?((0,o.wg)(),(0,o.j4)(g,{key:0,color:"arcoblue",innerHTML:n.showDate(e.row.approvals)},null,8,["innerHTML"])):"待送簽"===e.row.approvals?((0,o.wg)(),(0,o.iD)("div",te,[(0,o.wy)((0,o.Wm)(g,{color:"red",innerHTML:n.showDate(e.row.approvals)},null,8,["innerHTML"]),[[a.F8,"待送簽"===e.row.approvals]]),(0,o.wy)((0,o.Wm)(d,{type:"primary",onClick:t=>n.sendPetition(e.row)},{default:(0,o.w5)((()=>[(0,o.Uk)("送簽")])),_:2},1032,["onClick"]),[[a.F8,"待送簽"===e.row.approvals&&"王大明"===e.row.principal.name]])])):((0,o.wg)(),(0,o.j4)(g,{key:2,color:"purple",innerHTML:n.showDate(e.row.approvals)},null,8,["innerHTML"]))])),_:1})])),_:1}),(0,o.Wm)(p,{label:"會辦",prop:"countersign"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{"show-overflow-tooltip":"","min-width":"40"},{default:(0,o.w5)((e=>[(0,o.wy)((0,o.Wm)(d,{type:"primary",status:"success",onClick:t=>n.edit_countersign(e.$index,e.row)},{default:(0,o.w5)((()=>[(0,o.Uk)("編輯")])),_:2},1032,["onClick"]),[[a.F8,!1===r.countersignEdit]])])),_:1})])),_:1}),(0,o.Wm)(p,{label:"會辦人員",prop:"countersign"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"countersign",width:"130","show-overflow-tooltip":""},{default:(0,o.w5)((e=>[(0,o._)("div",le,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.row.countersign,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e.id},(0,s.zw)(e.name)+",",1)))),128))])])),_:1})])),_:1}),(0,o.Wm)(p,{label:"備註",prop:"remark",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{prop:"remark","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(c,{placeholder:"關鍵字",modelValue:r.search.remark,"onUpdate:modelValue":t[10]||(t[10]=e=>r.search.remark=e)},null,8,["modelValue"])])),default:(0,o.w5)((e=>[""===e.row.remark?((0,o.wg)(),(0,o.iD)("span",ae,"無")):((0,o.wg)(),(0,o.iD)("span",{key:1,class:"truncate",innerHTML:n.showDate(e.row.remark)},null,8,oe))])),_:1})])),_:1}),(0,o.Wm)(p,{label:"編修",align:"center",fixed:"right",width:"100"},{header:(0,o.w5)((()=>[ie])),default:(0,o.w5)((e=>["待送簽"===e.row.approvals&&"王大明"===e.row.principal.name?((0,o.wg)(),(0,o.j4)(d,{key:0,type:"text",class:"ml-0 w-full",onClick:t=>n.Edit_PricingList(e.$index,e.row)},{default:(0,o.w5)((()=>[(0,o.Uk)(" 修改 "),re])),_:2},1032,["onClick"])):(0,o.kq)("",!0),"已簽核"!==e.row.approvals&&"建一部2"===e.row.principal.department?((0,o.wg)(),(0,o.j4)(d,{key:1,type:"text",class:"ml-0 w-full",onClick:t=>n.Edit_PricingList(e.$index,e.row)},{default:(0,o.w5)((()=>[(0,o.Uk)(" 修改 "),se])),_:2},1032,["onClick"])):((0,o.wg)(),(0,o.j4)(d,{key:2,type:"text",status:"success",class:"ml-0 w-full",onClick:t=>n.View_PricingList(e.$index,e.row)},{default:(0,o.w5)((()=>[(0,o.Uk)(" 檢視 "),ne])),_:2},1032,["onClick"]))])),_:1})])),_:1},8,["data","header-cell-style"]),(0,o.Wm)(y,{onSizeChange:n.handleSizeChange,onCurrentChange:n.handleCurrentChange,"current-page":r.currentPage,"page-sizes":[5,10,20,40],"page-size":r.pageSize,layout:"total, sizes,prev, pager, next",total:r.dataList.length,"prev-text":"上一頁","next-text":"下一頁"},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])]),(0,o.Wm)(_,{title:"選擇人員",draggable:"",modelValue:r.dialogVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>r.dialogVisible=e),"show-close":!1},{default:(0,o.w5)((()=>[(0,o._)("div",de,[(0,o.Wm)(b,{ref:"memberTables",data:r.memberList,onSelectionChange:n.select,"row-key":n.getRowKeys},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{type:"selection",width:"50"}),(0,o.Wm)(p,{label:"編號",prop:"id"}),(0,o.Wm)(p,{label:"姓名",prop:"name"}),(0,o.Wm)(p,{label:"部門",prop:"department"})])),_:1},8,["data","onSelectionChange","row-key"])]),(0,o._)("div",ce,[(0,o.Wm)(d,{status:"primary",onClick:n.memberListDialog_Cancel},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1},8,["onClick"]),(0,o.Wm)(d,{type:"primary",onClick:n.memberListDialog_Confirm},{default:(0,o.w5)((()=>[(0,o.Uk)("確定")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])],64)}l(7658);var me=l(70);const pe=me.ZP.create({baseURL:"https://krytabo.github.io/meetings_vue3"}),he=()=>pe.get("/memberList.json"),we=()=>pe.get("/meetingList.json"),fe=()=>pe.get("/toDoList.json");var ge={name:"HomeView",components:{},created(){this.getApi()},data(){return{editForm:{id:"",countersign:""},searchText:"",inputContent:"",dialogVisible:!1,wholeSearch:"",currentPage:1,pageSize:10,keywordSearch:"",loading:!0,loadingData:0,color:"#673ab7",dateSearch:"",typeSelect:[{text:"專案",value:"專案"},{text:"例行性會議",value:"例行性會議"},{text:"建築行政",value:"建築行政"},{text:"一般行政",value:"一般行政"}],approvalsSelect:[{value:"待送簽"},{value:"待簽核"},{value:"已簽核"}],dataList:[],memberList:[],countersignEdit:!1,search:{type:"",name:"",theme:"",principalName:"",principalDepartment:"",chairman:"",member:"",approvals:"",remark:"",start:"",end:""}}},methods:{getApi(){we().then((e=>{this.dataList=e.data})),he().then((e=>{this.memberList=e.data})),setTimeout((()=>{100===this.loadingData&&(this.loading=!1)}),1500)},Edit_PricingList(e,t){let l=JSON.stringify(t);this.$router.push({path:"editMeeting",query:{res:l,editStatus:!0}})},View_PricingList(e,t){let l=JSON.stringify(t);this.$router.push({path:"editMeeting",query:{res:l,editStatus:!1}})},add(){this.$router.push({name:"addMeeting"})},getTime(e){var t=new Date;0!==e&&t.setTime(t.getTime()-864e5*e);const l=(t.getHours()+"").padStart(2,"0"),a=(t.getMinutes()+"").padStart(2,"0"),o=(t.getSeconds()+"").padStart(2,"0");let i=t.getDay(),r=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],s=r[i];return this.form.time=s,`${l}:${a}:${o}`},sendPetition(e,t){console.log(t),this.$swal.fire({title:"你確定嗎？",text:"即將送出簽核",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定送出",cancelButtonText:"取消",closeOnConfirm:!1})},select(e){this.editForm.countersign=e},edit_countersign(e,t){this.dialogVisible=!0,this.editForm=JSON.parse(JSON.stringify(t));let l=t;console.log(t.countersign),this.$nextTick((()=>{this.$refs.memberTables.clearSelection(),l.countersign.forEach((e=>{this.memberList.forEach((t=>{e.id===t.id&&this.$refs.memberTables.toggleRowSelection(t)}))}))}))},getRowKeys(e){return e.id},memberListDialog_Confirm(){let e=this.editForm.id,t=this.editForm;this.axios.patch(`http://localhost:3000/meetingList/${e}`,t).then((e=>{this.editForm.id=e.data.id,this.getApi(),this.dialogVisible=!1})).catch((e=>{console.error("There was an error!",e)}))},memberListDialog_Cancel(){this.dialogVisible=!1},handerMethod({row:e,columnIndex:t}){if(1===e[0].level&&(e[8].colSpan=2,e[9].colSpan=0,9===t))return{display:"none"}},showDate(e){return e+="",-1!==e.indexOf(this.wholeSearch)&&""!==this.wholeSearch?e.replace(this.wholeSearch,'<span style="color: #000; background: gold">'+this.wholeSearch+"</span>"):e},filterHandler(e,t,l){const a=l["property"];return t[a]===e},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},handleDelete(e,t){this.configForm=t;const l=this.configForm.id;this.$swal.fire({title:"你確定嗎？",text:"資料刪除後將無法復原",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定刪除",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{e.isConfirmed&&this.axios.delete(`http://localhost:3000/configForm/${l}`,t).then((e=>{this.configForm.id=e.data.id,this.getApi()})).catch((e=>{console.error("There was an error!",e)}))})).catch((()=>{}))},localizeDate(e){if(!e||!e.includes("-"))return e;const[t,l,a]=e.split("-");return new Date(`${l}/${a}/${t}`)}},computed:{tables(){const e=this.wholeSearch,t=this.search.type,l=this.search.name,a=this.search.theme,o=this.search.principalName,i=this.search.principalDepartment,r=this.search.member,s=this.search.approvals,n=this.search.remark;if(e)return this.dataList.filter((t=>Object.keys(t).some((l=>String(t[l]).toLowerCase().includes(e.toLowerCase())))));if(t)return this.dataList.filter((e=>String(e.type).toLowerCase().includes(t.toLowerCase())));if(l)return this.dataList.filter((e=>String(e.name).toLowerCase().includes(l.toLowerCase())));if(a)return this.dataList.filter((e=>String(e.theme).toLowerCase().includes(a.toLowerCase())));if(o)return this.dataList.filter((e=>String(e.principal.name).toLowerCase().includes(o.toLowerCase())));if(i)return this.dataList.filter((e=>String(e.principal.department).toLowerCase().includes(i.toLowerCase())));if(r)return this.dataList.filter((e=>String(e.member).toLowerCase().includes(r.toLowerCase())));if(s)return this.dataList.filter((e=>String(e.approvals).toLowerCase().includes(s.toLowerCase())));if(n)return this.dataList.filter((e=>String(e.remark).toLowerCase().includes(n.toLowerCase())));{const e=this.localizeDate(this.search.start),t=this.localizeDate(this.search.end);return this.dataList.filter((l=>{const a=new Date(l.date);return e&&t?e<=a&&a<=t:e&&!t?e<=a:!(!e&&t)||a<=t}))}}},watch:{},mounted(){}};const be=(0,T.Z)(ge,[["render",ue]]);var ye=be;const _e={class:"mx-5 mb-5 flex-col flex-col space-y-7 rounded-xl bg-white p-10 shadow-6"},ve={class:"title-before flex h-14 border-b border-b-gray-300 pb-5"},ke={key:0,class:"flex-1 text-left text-3xl font-bold"},xe={key:1,class:"flex-1 text-left text-3xl font-bold"},Le={class:"flex h-10 space-x-2"},We={class:"grid grid-cols-2 gap-4"},De={key:1},Ve={key:0,class:"w-full"},Ce={key:1},Se={class:"flex space-x-3"},Te={class:"justify-star flex flex-1 space-x-3"},je={class:"meetingForm flex flex-col space-y-4 rounded-lg bg-gray-100 p-5"},Ue={class:"grid grid-cols-4 gap-4"},Me={key:1},He={key:1},ze={class:"flex"},Ye=(0,o._)("p",{class:"mx-2"},"至",-1),$e={class:"grid grid-cols-2 gap-4"},Ne={key:1},Oe={key:1},Be={key:1},Ke={key:0,class:"flex flex-col space-y-2 rounded-lg bg-gray-200 p-4"},Ie={class:"flex space-x-2"},Pe={class:"ml-2 text-gray-500"},Fe={class:"flex flex-col space-y-1"},Ae=(0,o._)("p",{class:"w-full text-left"},"上傳的檔案",-1),qe={class:"flex flex-col space-y-2 rounded-md bg-white p-4"},Ee={key:1,class:"truncate"},Ze={key:1,class:"truncate"},Re={key:0},Je={key:1},Ge={key:0,class:"truncate text-green-500"},Qe={key:1,class:"truncate text-red-500"},Xe={key:1,class:"truncate"},et={key:1,class:"truncate"},tt={key:1},lt={key:1,class:"truncate"},at={class:"truncate"},ot={key:1,class:"truncate"},it={key:0},rt={key:1},st={class:"flax mb-5 space-x-4"},nt={class:"flex w-full items-center justify-center space-x-2"},dt=["innerHTML"],ct=["innerHTML"],ut=["innerHTML"],mt=["innerHTML"],pt=["innerHTML"],ht=["innerHTML"],wt=["innerHTML"],ft=["innerHTML"];function gt(e,t,l,i,r,n){const d=(0,o.up)("breadcrumb"),c=(0,o.up)("el-button"),u=(0,o.up)("a-button"),m=(0,o.up)("member-list-dialog"),p=(0,o.up)("el-form-item"),h=(0,o.up)("el-cascader"),w=(0,o.up)("el-input"),f=(0,o.up)("member-list-dialog-even"),g=(0,o.up)("el-radio"),b=(0,o.up)("el-radio-group"),y=(0,o.up)("a-tag"),_=(0,o.up)("el-checkbox"),v=(0,o.up)("el-checkbox-group"),k=(0,o.up)("a-upload"),x=(0,o.up)("el-table-column"),L=(0,o.up)("el-option"),W=(0,o.up)("el-select"),D=(0,o.up)("el-date-picker"),V=(0,o.up)("el-table"),C=(0,o.up)("el-form"),S=(0,o.up)("el-dialog"),T=(0,o.up)("a-modal"),j=(0,o.up)("el-scrollbar");return(0,o.wg)(),(0,o.j4)(j,{class:"h-full w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(d),(0,o._)("div",_e,[(0,o._)("div",ve,[!0===r.editStatus?((0,o.wg)(),(0,o.iD)("p",ke,"會議記錄表-"+(0,s.zw)(r.formTitle),1)):((0,o.wg)(),(0,o.iD)("p",xe,"會議記錄表")),(0,o._)("div",Le,[(0,o.Wm)(c,{plain:"",onClick:t[0]||(t[0]=t=>e.$router.push({path:"/meetingList"}))},{default:(0,o.w5)((()=>[(0,o.Uk)("返回")])),_:1}),(0,o._)("div",{class:(0,s.C_)([{hidden:!1===r.editStatus},"flex h-10 space-x-2"])},[(0,o.Wm)(u,{type:"primary",status:"danger",onClick:n.finishButton,disabled:!0===r.form.finish},{default:(0,o.w5)((()=>[(0,o.Uk)("結束會議")])),_:1},8,["onClick","disabled"]),(0,o.wy)((0,o.Wm)(u,{type:"outline",onClick:n.patchData},{default:(0,o.w5)((()=>[(0,o.Uk)("暫存")])),_:1},8,["onClick"]),[[a.F8,!1===r.newMeeting]]),(0,o.wy)((0,o.Wm)(u,{type:"outline",onClick:n.postData},{default:(0,o.w5)((()=>[(0,o.Uk)("暫存")])),_:1},8,["onClick"]),[[a.F8,!0===r.newMeeting]]),(0,o.wy)((0,o.Wm)(u,{type:"primary",onClick:t[1]||(t[1]=e=>n.patchApprove("form"))},{default:(0,o.w5)((()=>[(0,o.Uk)("送簽")])),_:1},512),[[a.F8,!1===r.newMeeting]]),(0,o.wy)((0,o.Wm)(u,{type:"primary",onClick:t[2]||(t[2]=e=>n.postApprove("form"))},{default:(0,o.w5)((()=>[(0,o.Uk)("送簽")])),_:1},512),[[a.F8,!0===r.newMeeting]])],2)])]),(0,o.Wm)(C,{ref:"form",rules:r.rules,model:r.form,inline:!0,class:"meeting_form flex flex-col space-y-3"},{default:(0,o.w5)((()=>[(0,o._)("div",We,[(0,o.Wm)(p,{label:"負責人",prop:"principal",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[!0===r.editStatus?((0,o.wg)(),(0,o.j4)(m,{key:0,modelValue:r.form.principal,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.principal=e),value:r.form.principal.name},null,8,["modelValue","value"])):((0,o.wg)(),(0,o.iD)("p",De,(0,s.zw)(r.form.principal.name),1))])),_:1}),(0,o.Wm)(p,{label:"專案代碼及名稱",prop:"name",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[!0===r.editStatus?((0,o.wg)(),(0,o.iD)("div",Ve,[!1===r.selectDialogFrist?((0,o.wg)(),(0,o.j4)(h,{key:0,modelValue:r.form.name,"onUpdate:modelValue":t[4]||(t[4]=e=>r.form.name=e),options:r.options,clearable:"",onChange:n.handleChange,class:"w-full flex-1"},null,8,["modelValue","options","onChange"])):((0,o.wg)(),(0,o.j4)(h,{key:1,modelValue:r.form.name,"onUpdate:modelValue":t[5]||(t[5]=e=>r.form.name=e),options:r.options,clearable:"",onChange:n.handleChange,class:"w-full flex-1"},null,8,["modelValue","options","onChange"]))])):((0,o.wg)(),(0,o.iD)("p",Ce,(0,s.zw)(r.form.name),1))])),_:1})]),(0,o._)("div",{class:(0,s.C_)(["flex flex-col space-y-4 rounded-lg bg-gray-100 p-5",{hidden:!1===r.editStatus}])},[(0,o._)("div",Se,[(0,o._)("div",Te,[(0,o.Wm)(u,{type:"primary",status:"success",disabled:""===r.form.name||0===r.form.name.length,onClick:n.openopenDialogOption},{default:(0,o.w5)((()=>[(0,o.Uk)("目前待辦")])),_:1},8,["disabled","onClick"]),(0,o.Wm)(u,{type:"primary",status:"success",disabled:""===r.form.name||0===r.form.name.length,onClick:n.openMeetingDialog},{default:(0,o.w5)((()=>[(0,o.Uk)("前次會議記錄")])),_:1},8,["disabled","onClick"])]),(0,o.Wm)(c,{plain:"",onClick:n.clearTextarea,disabled:""===r.form.textarea},{default:(0,o.w5)((()=>[(0,o.Uk)("清空")])),_:1},8,["onClick","disabled"]),(0,o.Wm)(u,{type:"primary",disabled:""===r.form.textarea,onClick:n.send},{default:(0,o.w5)((()=>[(0,o.Uk)("新增")])),_:1},8,["disabled","onClick"])]),(0,o.Wm)(w,{type:"textarea",rows:5,placeholder:"請輸入摘要內容",modelValue:r.form.textarea,"onUpdate:modelValue":t[6]||(t[6]=e=>r.form.textarea=e)},null,8,["modelValue"])],2),(0,o._)("div",je,[(0,o._)("div",Ue,[(0,o.Wm)(p,{"label-width":"80px",label:"主席",prop:"chairman",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[!0===r.editStatus?((0,o.wg)(),(0,o.j4)(m,{key:0,modelValue:r.form.chairman,"onUpdate:modelValue":t[7]||(t[7]=e=>r.form.chairman=e),value:r.form.chairman.name},null,8,["modelValue","value"])):((0,o.wg)(),(0,o.iD)("p",Me,(0,s.zw)(r.form.chairman.name),1))])),_:1}),(0,o.Wm)(p,{label:"紀錄",prop:"record",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[!0===r.editStatus?((0,o.wg)(),(0,o.j4)(m,{key:0,modelValue:r.form.record,"onUpdate:modelValue":t[8]||(t[8]=e=>r.form.record=e),value:r.form.record.name},null,8,["modelValue","value"])):((0,o.wg)(),(0,o.iD)("p",He,(0,s.zw)(r.form.record.name),1))])),_:1}),(0,o.Wm)(p,{label:"會議日期",prop:"date",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(r.form.date)+" ",1)])),_:1}),(0,o.Wm)(p,{label:"會議時間",prop:"time",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o._)("div",ze,[(0,o._)("p",null,(0,s.zw)(r.form.time),1),Ye,(0,o.Uk)(" "+(0,s.zw)(r.form.endTime)+" ",1)])])),_:1})]),(0,o._)("div",$e,[(0,o.Wm)(p,{label:"會議主題",prop:"theme",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[!0===r.editStatus?((0,o.wg)(),(0,o.j4)(w,{key:0,modelValue:r.form.theme,"onUpdate:modelValue":t[9]||(t[9]=e=>r.form.theme=e),placeholder:"請輸入內容"},null,8,["modelValue"])):((0,o.wg)(),(0,o.iD)("p",Ne,(0,s.zw)(r.form.theme),1))])),_:1}),(0,o.Wm)(p,{label:"出席人員",prop:"member",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[!0===r.editStatus?((0,o.wg)(),(0,o.j4)(f,{key:0,modelValue:r.form.member,"onUpdate:modelValue":t[10]||(t[10]=e=>r.form.member=e),value:r.form.member,disabled:"false"},null,8,["modelValue","value"])):((0,o.wg)(),(0,o.iD)("p",Oe,(0,s.zw)(r.form.member.toString()),1))])),_:1})]),(0,o.Wm)(p,{"label-width":"80px",label:"備註",prop:"remark",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[!0===r.editStatus?((0,o.wg)(),(0,o.j4)(w,{key:0,modelValue:r.form.remark,"onUpdate:modelValue":t[11]||(t[11]=e=>r.form.remark=e),type:"textarea",rows:2,placeholder:"請輸入內容"},null,8,["modelValue"])):((0,o.wg)(),(0,o.iD)("p",Be,(0,s.zw)(r.form.remark),1))])),_:1}),(0,o.Wm)(p,{label:"客戶提供內容",prop:"accessory",class:"radio_center flex"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:r.form.offer,"onUpdate:modelValue":t[14]||(t[14]=e=>r.form.offer=e),class:"justify-star flex items-center",disabled:!1===r.editStatus},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{label:0,modelValue:r.form.offer,"onUpdate:modelValue":t[12]||(t[12]=e=>r.form.offer=e)},{default:(0,o.w5)((()=>[(0,o.Uk)("否")])),_:1},8,["modelValue"]),(0,o.Wm)(g,{label:1,modelValue:r.form.offer,"onUpdate:modelValue":t[13]||(t[13]=e=>r.form.offer=e)},{default:(0,o.w5)((()=>[(0,o.Uk)("是")])),_:1},8,["modelValue"])])),_:1},8,["modelValue","disabled"])])),_:1}),1===r.form.offer?((0,o.wg)(),(0,o.iD)("div",Ke,[(0,o._)("div",{class:(0,s.C_)({hidden:!0===r.editStatus})},[(0,o._)("div",Ie,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.form.accessory,(e=>((0,o.wg)(),(0,o.j4)(y,{key:e.id,color:"arcoblue",class:(0,s.C_)({block:""===e.accessoryNo})},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,s.zw)(e.accessoryLabel),1),(0,o._)("p",Pe,(0,s.zw)(e.accessoryNo),1)])),_:2},1032,["class"])))),128))]),(0,o._)("div",Fe,[Ae,(0,o._)("div",qe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.form.fileList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.uid,class:"flex w-full space-x-2 rounded px-4 py-2 text-left",style:{background:"#f7f8fa"}},(0,s.zw)(e.name),1)))),128))])])],2),(0,o._)("div",{class:(0,s.C_)({hidden:!1===r.editStatus})},[(0,o.Wm)(v,{modelValue:r.form.rulesId,"onUpdate:modelValue":t[15]||(t[15]=e=>r.form.rulesId=e),disabled:!1===r.editStatus},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.accessoryList,((e,t)=>((0,o.wg)(),(0,o.j4)(_,{label:e.accessoryLabel,key:t,velus:e.accessoryLabel,onChange:t=>n.handleChecked(t,e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.accessoryLabel)+" ",1),(0,o.wy)((0,o.Wm)(w,{class:"w-56",modelValue:e.accessoryNo,"onUpdate:modelValue":t=>e.accessoryNo=t,size:"small",placeholder:"請輸入內容"},null,8,["modelValue","onUpdate:modelValue"]),[[a.F8,"光碟"===e.accessoryLabel||"建材樣品"===e.accessoryLabel||"其他"===e.accessoryLabel]])])),_:2},1032,["label","velus","onChange"])))),128))])),_:1},8,["modelValue","disabled"]),(0,o.Wm)(k,{action:"http://localhost:3000/meetingList","auto-upload":!1,multiple:"","default-file-list":r.form.fileList,onChange:n.onChange,disabled:!1===r.editStatus},null,8,["default-file-list","onChange","disabled"])],2)])):(0,o.kq)("",!0)]),(0,o.Wm)(V,{data:r.form.detailList},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{fixed:"",prop:"name",label:"內容摘要","show-overflow-tooltip":""},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.j4)(w,{key:0,modelValue:e.row.content,"onUpdate:modelValue":t=>e.row.content=t,placeholder:"請輸入摘要內容",clearable:""},null,8,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.iD)("span",Ee,(0,s.zw)(e.row.content),1))])),_:1}),(0,o.Wm)(x,{prop:"name",label:"流水編號","show-overflow-tooltip":""},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.j4)(w,{key:0,modelValue:e.row.number,"onUpdate:modelValue":t=>e.row.number=t,placeholder:"請輸入內容",clearable:""},null,8,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.iD)("span",Ze,(0,s.zw)(e.row.number),1))])),_:1}),(0,o.Wm)(x,{prop:"name",label:"結論待辦",width:"100px"},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.iD)("div",Re,[(0,o.Wm)(W,{modelValue:e.row.conclusion,"onUpdate:modelValue":t=>e.row.conclusion=t,class:"w-full flex-1",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.conclusionOption,(e=>((0,o.wg)(),(0,o.j4)(L,{key:e.id,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])):((0,o.wg)(),(0,o.iD)("div",Je,["結案"===e.row.conclusion?((0,o.wg)(),(0,o.iD)("span",Ge,(0,s.zw)(e.row.conclusion),1)):((0,o.wg)(),(0,o.iD)("span",Qe,(0,s.zw)(e.row.conclusion),1))]))])),_:1}),(0,o.Wm)(x,{prop:"name",label:"專案代碼及名稱","show-overflow-tooltip":""},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.j4)(h,{key:0,modelValue:e.row.name,"onUpdate:modelValue":t=>e.row.name=t,options:r.options,clearable:"",onChange:t=>n.handleTableChange(t,e.$index)},null,8,["modelValue","onUpdate:modelValue","options","onChange"])):((0,o.wg)(),(0,o.iD)("span",Xe,(0,s.zw)(e.row.name),1))])),_:1}),(0,o.Wm)(x,{prop:"principal",label:"負責人","show-overflow-tooltip":""},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.j4)(m,{key:0,modelValue:e.row.principal,"onUpdate:modelValue":t=>e.row.principal=t,value:e.row.principal.name},null,8,["modelValue","onUpdate:modelValue","value"])):((0,o.wg)(),(0,o.iD)("span",et,(0,s.zw)(e.row.principal.name),1))])),_:1}),(0,o.Wm)(x,{prop:"date",label:"預計日期",width:"180px"},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.j4)(D,{key:0,modelValue:e.row.date,"onUpdate:modelValue":t=>e.row.date=t,type:"date",placeholder:"請選擇日期",clearable:"",format:"YYYY/MM/DD","value-format":"YYYY年MM月DD日"},null,8,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.iD)("span",tt,(0,s.zw)(e.row.date),1))])),_:1}),(0,o.Wm)(x,{prop:"member",label:"相關人員","show-overflow-tooltip":""},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.j4)(u,{key:0,type:"primary",status:"success",onClick:t=>n.edit_countersign(e.$index,e.row)},{default:(0,o.w5)((()=>[(0,o.Uk)("編輯")])),_:2},1032,["onClick"])):((0,o.wg)(),(0,o.iD)("span",lt,(0,s.zw)(e.row.member.toString()),1)),(0,o._)("div",at,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.row.member,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e.id},(0,s.zw)(e.name)+",",1)))),128))])])),_:1}),(0,o.Wm)(x,{prop:"accessory",label:"附件","show-overflow-tooltip":""},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.j4)(k,{key:0,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",limit:1},{"upload-button":(0,o.w5)((()=>[(0,o.Wm)(u,{type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("選擇檔案")])),_:1})])),_:1})):((0,o.wg)(),(0,o.iD)("span",ot,(0,s.zw)(e.row.accessory),1))])),_:1}),!0===r.editStatus?((0,o.wg)(),(0,o.j4)(x,{key:0,label:"操作",align:"center",fixed:"right",width:"120px"},{default:(0,o.w5)((e=>[!0===e.row.edit?((0,o.wg)(),(0,o.iD)("div",it,[(0,o.Wm)(c,{type:"text",onClick:t=>e.row.edit=!e.row.edit,class:"text-red-500"},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:2},1032,["onClick"]),(0,o.Wm)(c,{type:"text",onClick:t=>e.row.edit=!e.row.edit&&this.getApi},{default:(0,o.w5)((()=>[(0,o.Uk)("確定")])),_:2},1032,["onClick"])])):((0,o.wg)(),(0,o.iD)("div",rt,[(0,o.Wm)(c,{type:"text",class:"text-red-500",onClick:t=>n.handleDelete(e.$index)},{default:(0,o.w5)((()=>[(0,o.Uk)("刪除")])),_:2},1032,["onClick"]),(0,o.Wm)(c,{type:"text",onClick:t=>e.row.edit=!e.row.edit},{default:(0,o.w5)((()=>[(0,o.Uk)("編輯")])),_:2},1032,["onClick"])]))])),_:1})):(0,o.kq)("",!0)])),_:1},8,["data"])])),_:1},8,["rules","model"])]),(0,o.Wm)(S,{title:"選擇人員",draggable:"",modelValue:r.dialogVisible,"onUpdate:modelValue":t[16]||(t[16]=e=>r.dialogVisible=e),"show-close":!1},{default:(0,o.w5)((()=>[(0,o._)("div",st,[(0,o.Wm)(V,{ref:"memberTables",data:r.memberList,onSelectionChange:n.select,"row-key":n.getRowKeys},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{type:"selection",width:"50"}),(0,o.Wm)(x,{label:"編號",prop:"id"}),(0,o.Wm)(x,{label:"姓名",prop:"name"}),(0,o.Wm)(x,{label:"部門",prop:"department"})])),_:1},8,["data","onSelectionChange","row-key"])]),(0,o._)("div",nt,[(0,o.Wm)(u,{status:"primary",onClick:n.memberListDialog_Cancel},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1},8,["onClick"]),(0,o.Wm)(u,{type:"primary",onClick:n.memberListDialog_Confirm},{default:(0,o.w5)((()=>[(0,o.Uk)("確定")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"]),(0,o.Wm)(T,{title:r.dialogTitle,visible:r.openDialogOption,"onUpdate:visible":t[18]||(t[18]=e=>r.openDialogOption=e),width:1e3,draggable:"",class:"list_select"},{footer:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"outline",onClick:n.selectMeetingCancelButton},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1},8,["onClick"]),(0,o.Wm)(u,{type:"primary",onClick:n.selectMeetingDoneButton},{default:(0,o.w5)((()=>[(0,o.Uk)("送出")])),_:1},8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Wm)(V,{ref:"filterTable",data:n.tables,"highlight-current-row":"",onCurrentChange:n.handleCurrentChange},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{type:"index",label:"序號",width:"60",align:"center"}),(0,o.Wm)(x,{prop:"date",label:"待辦發生日期",width:"150"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.date)},null,8,dt)])),_:1}),(0,o.Wm)(x,{prop:"meetingList",label:"待辦事項",width:"250"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.meetingList)},null,8,ct)])),_:1}),(0,o.Wm)(x,{prop:"no",label:"流水號編碼",width:"300"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.no)},null,8,ut)])),_:1}),(0,o.Wm)(x,{prop:"status",label:"執行狀態",align:"center"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.status)},null,8,mt)])),_:1}),(0,o.Wm)(x,{prop:"name",label:"專案代碼及名稱",width:"250","column-key":"tagKey"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.name)},null,8,pt)])),_:1}),(0,o.Wm)(x,{prop:"principal",label:"負責人"},{header:(0,o.w5)((()=>[(0,o.Wm)(w,{modelValue:r.form.principal.name,"onUpdate:modelValue":t[17]||(t[17]=e=>r.form.principal.name=e)},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.principal)},null,8,ht)])),_:1}),(0,o.Wm)(x,{prop:"doneDate",label:"預計完成日期",width:"150"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.doneDate)},null,8,wt)])),_:1}),(0,o.Wm)(x,{prop:"member",label:"相關人員",width:"250"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.member)},null,8,ft)])),_:1}),(0,o.Wm)(x,{prop:"accessory",label:"附件",width:"150"})])),_:1},8,["data","onCurrentChange"])])),_:1},8,["title","visible"])])),_:1})}function bt(e,t,l,a,i,r){const n=(0,o.up)("router-link"),d=(0,o.up)("el-breadcrumb-item"),c=(0,o.up)("el-breadcrumb");return(0,o.wg)(),(0,o.j4)(c,{separator:"/",class:"m-5 rounded bg-gray-100 p-4"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.lists,(e=>((0,o.wg)(),(0,o.j4)(d,{key:e.path},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{to:e.name},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.meta.title),1)])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1})}var yt={name:"breadcrumbPage",data(){return{lists:[]}},created(){this.lists=this.$route.matched},watch:{$route(e){this.lists=e.matched}}};const _t=(0,T.Z)(yt,[["render",bt]]);var vt=_t,kt=l(6797),xt=l.n(kt);const Lt={class:"flex w-full"},Wt={class:"cursor-pointer"},Dt={style:{"text-align":"right",margin:"0"}},Vt={key:0,class:"flex items-center justify-center rounded border border-gray-300 bg-gray-200 px-3 text-gray-400 hover:cursor-not-allowed"};function Ct(e,t,l,a,i,r){const n=(0,o.up)("el-input"),d=(0,o.up)("a-input"),c=(0,o.up)("el-table-column"),u=(0,o.up)("el-table"),m=(0,o.up)("el-button"),p=(0,o.up)("el-popover");return(0,o.wg)(),(0,o.iD)("div",Lt,[(0,o.Wm)(n,{placeholder:"請選擇",modelValue:i.search,"onUpdate:modelValue":t[0]||(t[0]=e=>i.search=e),class:"flex-1",onInput:r.onInput,disabled:!0===l.disabled},null,8,["modelValue","onInput","disabled"]),(0,o.Wm)(p,{trigger:"click",ref:"visible",width:"auto"},{reference:(0,o.w5)((()=>[!0===l.disabled?((0,o.wg)(),(0,o.iD)("div",Vt,"選擇")):((0,o.wg)(),(0,o.iD)("div",{key:1,class:"flex items-center justify-center rounded border border-gray-300 bg-white px-3 hover:cursor-pointer hover:bg-gray-800 hover:text-white",onClick:t[2]||(t[2]=(...e)=>r.test&&r.test(...e))},"選擇"))])),default:(0,o.w5)((()=>[(0,o.Wm)(d,{placeholder:"請輸入關鍵字",modelValue:i.searchMember,"onUpdate:modelValue":t[1]||(t[1]=e=>i.searchMember=e),onInput:r.onInput},null,8,["modelValue","onInput"]),(0,o.Wm)(u,{ref:"filterTable",data:r.tables,"highlight-current-row":"",onCurrentChange:r.handleCurrentChange},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{prop:"id",label:"員工編號",width:"250"},{default:(0,o.w5)((e=>[(0,o._)("span",Wt,(0,s.zw)(e.row.id),1)])),_:1}),(0,o.Wm)(c,{prop:"department",label:"部門名稱",width:"250"}),(0,o.Wm)(c,{prop:"name",label:"員工姓名",width:"300",class:"cursor-pointer"})])),_:1},8,["data","onCurrentChange"]),(0,o._)("div",Dt,[(0,o.Wm)(m,{onClick:r.selectMeetingDoneButton},{default:(0,o.w5)((()=>[(0,o.Uk)("確定")])),_:1},8,["onClick"])])])),_:1},512)])}var St={name:"tableSelect",components:{},props:{selectObject:{type:String,default:""},value:{type:String,default:""},modelValue:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1}},data(){return{tag:"",memberListDialog:!1,visible:!1,search:this.value,searchMember:"",memberListSelect:"",memberList:[],checkedDetail:[]}},mounted(){he().then((e=>{this.memberList=e.data}))},methods:{test(){this.search=null},handleCurrentChange(e){this.$emit("update:modelValue",e),this.memberListSelect=e},selectMeetingDoneButton(){this.search=this.memberListSelect.name,this.searchMember="",this.$refs.visible.hide()},onInput(e){this.$emit("update:modelValue",e)}},computed:{tables:function(){const e=this.searchMember;return e?this.memberList.filter((t=>Object.keys(t).some((l=>String(t[l]).indexOf(e.toUpperCase())>-1)))):this.memberList}}};const Tt=(0,T.Z)(St,[["render",Ct]]);var jt=Tt;const Ut={class:"member_select flex w-full"},Mt={class:"cursor-pointer"},Ht={style:{"text-align":"right",margin:"0"}},zt={key:0,class:"flex items-center justify-center rounded border border-gray-300 bg-gray-200 px-3 text-gray-400 hover:cursor-not-allowed"},Yt={key:1,class:"flex items-center justify-center rounded border border-gray-300 bg-white px-3 hover:cursor-pointer hover:bg-gray-800 hover:text-white"};function $t(e,t,l,a,i,r){const n=(0,o.up)("a-input-tag"),d=(0,o.up)("a-input"),c=(0,o.up)("el-checkbox"),u=(0,o.up)("el-table-column"),m=(0,o.up)("el-table"),p=(0,o.up)("el-button"),h=(0,o.up)("el-popover");return(0,o.wg)(),(0,o.iD)("div",Ut,[!0===l.disabled?((0,o.wg)(),(0,o.j4)(n,{key:0,modelValue:i.search,"onUpdate:modelValue":t[0]||(t[0]=e=>i.search=e),placeholder:"請選擇",class:"flex-1 border border-gray-200 text-left",style:{background:"#f5f7fa"},disabled:""},null,8,["modelValue"])):((0,o.wg)(),(0,o.j4)(n,{key:1,modelValue:i.search,"onUpdate:modelValue":t[1]||(t[1]=e=>i.search=e),placeholder:"請選擇",class:"flex-1 border border-gray-300 bg-white text-left",onChange:r.onInput},null,8,["modelValue","onChange"])),(0,o.Wm)(h,{trigger:"click",ref:"visible",width:"auto"},{reference:(0,o.w5)((()=>[!0===l.disabled?((0,o.wg)(),(0,o.iD)("div",zt,"選擇")):((0,o.wg)(),(0,o.iD)("div",Yt,"選擇"))])),default:(0,o.w5)((()=>[(0,o.Wm)(d,{placeholder:"請輸入關鍵字",modelValue:i.searchMember,"onUpdate:modelValue":t[2]||(t[2]=e=>i.searchMember=e)},null,8,["modelValue"]),(0,o.Wm)(m,{ref:"multipleTable",data:r.tables,onSelectionChange:r.SelectionChange},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"selection",width:"55"},{defaule:(0,o.w5)((e=>[(0,o.Wm)(c,{onChange:t=>r.SelectionChange(e)},null,8,["onChange"])])),_:1}),(0,o.Wm)(u,{prop:"id",label:"員工編號",width:"250"},{default:(0,o.w5)((e=>[(0,o._)("span",Mt,(0,s.zw)(e.row.id),1)])),_:1}),(0,o.Wm)(u,{prop:"department",label:"部門名稱",width:"250"}),(0,o.Wm)(u,{prop:"name",label:"員工姓名",width:"300",class:"cursor-pointer"})])),_:1},8,["data","onSelectionChange"]),(0,o._)("div",Ht,[(0,o.Wm)(p,{onClick:r.selectMeetingDoneButton},{default:(0,o.w5)((()=>[(0,o.Uk)("確定")])),_:1},8,["onClick"])])])),_:1},512)])}var Nt={name:"tableSelect",components:{},props:{selectObject:{type:String,default:""},value:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:""},disabled:{type:Boolean,default:!0}},data(){return{tag:"",memberListDialog:!1,visible:!1,search:this.value,searchMember:"",memberListSelect:"",memberListSelect2:[],memberList:[],checkedDetail:[],inputValue:""}},mounted(){he().then((e=>{this.memberList=e.data}))},methods:{handleInputConfirm(){let e=this.inputValue;e&&this.search.push(e),this.inputValue=""},handleClose(e){this.search.splice(this.search.indexOf(e),1)},selectMeetingDoneButton(){let e=this.checkedDetail;this.$emit("update:modelValue",e),this.search=e,this.$refs.visible.hide()},onInput(e){this.$emit("update:modelValue",e)},SelectionChange(e){for(let t=0;t<e.length;t++)this.checkedDetail[t]=e[t].name}},computed:{tables:function(){const e=this.searchMember;return e?this.memberList.filter((t=>Object.keys(t).some((l=>String(t[l]).indexOf(e.toUpperCase())>-1)))):this.memberList}},watch:{multipleTable(){this.$nextTick((()=>{this.$refs.multipleTable.toggleRowSelection(this.tables[0],!0)}))}}};const Ot=(0,T.Z)(Nt,[["render",$t]]);var Bt=Ot;let Kt=[{value:"專案",label:"專案"},{value:"例行性會議",label:"例行性會議"},{value:"建築行政",label:"建築行政"},{value:"一般行政",label:"一般行政"}],It=[{pro:"專案",label:"A18002-公共工程投標案"},{pro:"專案",label:"A22003-億集科技例行會議"},{pro:"例行性會議",label:"UD0840-0840早會"},{pro:"例行性會議",label:"UD1330-1330部門會議"},{pro:"建築行政",label:"MYN2B/-製圖準則"},{pro:"建築行政",label:"MYN2D/-室內"},{pro:"一般行政",label:"GYN06/-財務會計"}];var Pt={name:"HomeView",components:{breadcrumb:vt,memberListDialog:jt,memberListDialogEven:Bt},watch:{},data(){return{dialogVisible:!1,value1:[],value2:"",number:"",loading:!0,loadingData:0,color:"#673ab7",selectDialogFrist:!1,formTitle:"",editStatus:!0,newMeeting:!1,rulesId:[],memberList:[],editForm:{id:"",countersign:""},columns:[{title:"內容摘要",colKey:"content",dataIndex:"content",slotName:"content",fixed:"left",width:140},{title:"流水編號",colKey:"number",dataIndex:"number",slotName:"number"},{title:"結論待辦",colKey:"conclusion",dataIndex:"conclusion",slotName:"conclusion",width:100},{title:"專案代碼及名稱",colKey:"name",dataIndex:"name",slotName:"name"},{title:"負責人",colKey:"principal",dataIndex:"principal",slotName:"principal"},{title:"預計日期",colKey:"date",dataIndex:"date",slotName:"date",width:100},{title:"相關人員",colKey:"member",dataIndex:"member",slotName:"member"},{title:"附件",colKey:"accessory",dataIndex:"accessory",slotName:"accessory",width:150},{title:"狀態",colKey:"edit",dataIndex:"edit",slotName:"edit"},{title:"操作",colKey:"options",slotName:"options",fixed:"right",width:30}],select1:Kt,select2:[],conclusionOption:[{id:0,name:"待辦"},{id:1,name:"結案"}],accessoryList:[{id:0,accessoryLabel:"書籍",accessoryNo:""},{id:1,accessoryLabel:"文件",accessoryNo:""},{id:2,accessoryLabel:"光碟",accessoryNo:""},{id:3,accessoryLabel:"物件",accessoryNo:""},{id:4,accessoryLabel:"建材樣品",accessoryNo:""},{id:5,accessoryLabel:"其他",accessoryNo:""}],options:[{id:0,value:"全部",label:"全部"},{id:1,value:"專案",label:"專案",children:[{id:11,value:"A18002-公共工程投標案",label:"A18002-公共工程投標案"},{id:12,value:"A22003-億集科技例行會議",label:"A22003-億集科技例行會議"}]},{id:2,value:"例行性會議",label:"例行性會議",children:[{id:21,value:"UD0840-0840早會",label:"UD0840-0840早會"},{id:22,value:"UD1330-1330部門會議",label:"UD1330-1330部門會議"}]},{id:3,value:"建築行政",label:"建築行政",children:[{id:31,value:"MYN2B/-製圖準則",label:"MYN2B/-製圖準則"},{id:32,value:"MYN2D/-室內",label:"MYN2D/-室內"}]},{id:4,value:"一般行政",label:"一般行政",children:[{id:41,value:"GYN06/-財務會計",label:"GYN06/-財務會計"}]}],personSelect:[{text:"王大明",value:"王大明"},{text:"張三",value:"張三"},{text:"李四",value:"李四"},{text:"蔡先生",value:"蔡先生"},{text:"吳先生",value:"吳先生"}],form:{finish:!1,id:"",principal:"",type:"",name:[],textarea:"",chairman:"",record:"",date:"",time:"",endTime:"",theme:"",member:[],remark:"",approvals:"待送簽",offer:0,accessory:[],rulesId:[],fileList:[],detailList:[]},rules:{principal:[{required:!0,message:"請選擇負責人",trigger:"blur"}],chairman:[{required:!0,message:"請選擇主席",trigger:"change"}],record:[{required:!0,message:"請選擇紀錄人員",trigger:"change"}],date:[{type:"date",required:!0,message:"請選擇日期",trigger:"change"}],theme:[{required:!0,message:"請輸入會議主題",trigger:"blur"}],member:[{required:!0,message:"請輸入出席人員",trigger:"blur"}]},dialogTitle:"",openDialogOption:!1,toDoList:[],toDoListSelectSearch:"",toDoListSelect:"",toDoListPrincipal:"",test:"",index:1,detailList:[],initFileList:[],isIndeterminate:!0,limit:1,checkAll:!1,rowSelection:{type:"radio"},nowWeek:"",aa:"",bb:"",timer:""}},created(){this.getApi(),this.getinfo()},methods:{getTime(e){var t=new Date;0!=e&&t.setTime(t.getTime()-864e5*e);const l=(t.getHours()+"").padStart(2,"0"),a=(t.getMinutes()+"").padStart(2,"0");return`${l}:${a}`},getDate(e){var t=new Date;0!==e&&t.setTime(t.getTime()+864e5*e);const l=t.getFullYear(),a=(t.getMonth()+1+"").padStart(2,"0"),o=(t.getDate()+"").padStart(2,"0");let i=t.getDay(),r=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],s=r[i];return this.nowWeek=s,`${l}-${a}-${o}`},getinfo(){if(this.$route.query&&this.$route.query.res){let e=JSON.parse(this.$route.query.res);this.form=Object.assign({},e),this.formTitle="編輯",this.editStatus=JSON.parse(this.$route.query.editStatus),this.newMeeting=!1,console.log("有值",this.$route.query)}else this.form={finish:!1,id:"",principal:"",type:"",name:"",textarea:"",chairman:"",record:"",date:JSON.parse(JSON.stringify(this.getDate(0))),time:JSON.parse(JSON.stringify(this.getTime(0))),endTime:"",theme:"",member:[],remark:"",approvals:"待送簽",offer:0,accessory:[],fileList:[],detailList:[]},this.formTitle="新增",this.newMeeting=!0,console.log(this.form.time)},getApi(){he().then((e=>{this.memberList=e.data})),fe().then((e=>{this.toDoList=e.data.toDoList,this.loadingData=100,this.loading=!1,this.toDoListSelectSearch=this.form.name}))},saveButton(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$router.push({path:"/meetingList"})}))},finishButton(){this.form.endTime=JSON.parse(JSON.stringify(this.getTime(0))),this.form.finish=!0},addPriceForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$swal.fire({title:"存檔完成！",icon:"success",confirmButtonColor:"#0084ff",confirmButtonText:"確定"}).then((e=>{e.isConfirmed&&this.axios.post("http://localhost:3000/meetingList?_sort=id",{finish:this.form.finish,id:this.form.id,principal:this.form.principal,type:this.form.type,name:this.form.name,textarea:this.form.textarea,chairman:this.form.chairman,record:this.form.record,date:this.form.date,time:this.form.time,endTime:this.form.endTime,theme:this.form.theme,member:this.form.member,remark:this.form.remark,approvals:"待送簽",offer:this.form.offer,accessory:this.form.accessory,fileList:this.form.fileList,detailList:this.form.detailList}).then((e=>{this.form.id=e.data.id,this.getApi()})).catch((e=>{console.error("There was an error!",e)}))}))}))},postData(){this.$swal.fire({title:"存檔完成！",icon:"success",showCancelButton:!0,confirmButtonColor:"#0084ff",confirmButtonText:"返回列表",cancelButtonText:"繼續編輯"}).then((e=>{this.axios.post("http://localhost:3000/meetingList?_sort=id",{finish:this.form.finish,id:this.form.id,principal:this.form.principal,type:this.form.type,name:this.form.name,textarea:this.form.textarea,chairman:this.form.chairman,record:this.form.record,date:this.form.date,time:this.form.time,endTime:this.form.endTime,theme:this.form.theme,member:this.form.member,remark:this.form.remark,approvals:"待送簽",offer:this.form.offer,accessory:this.form.accessory,rulesId:this.form.rulesId,fileList:this.form.fileList,detailList:this.form.detailList}).then((e=>{this.configForm.id=e.data.id,this.getApi()})).catch((e=>{console.error("There was an error!",e)})),e.isConfirmed&&(this.getApi(),this.$router.push({path:"/meetingList"}))}))},patchData(){this.$swal.fire({title:"存檔完成！",icon:"success",showCancelButton:!0,confirmButtonColor:"#0084ff",confirmButtonText:"返回列表",cancelButtonText:"繼續編輯"}).then((e=>{const t=this.form,l=this.form.id;this.axios.patch(`http://localhost:3000/meetingList/${l}`,t).then((e=>{this.form.id=e.data.id,this.getApi()})).catch((e=>{console.error("There was an error!",e)})),e.isConfirmed&&(this.getApi(),this.$router.push({path:"/meetingList"}))}))},postApprove(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$swal.fire({title:"你確定嗎？",text:"即將送出簽核",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定送出",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{this.axios.post("http://localhost:3000/meetingList?_sort=id",{finish:this.form.finish,id:this.form.id,principal:this.form.principal,type:this.form.type,name:this.form.name,textarea:this.form.textarea,chairman:this.form.chairman,record:this.form.record,date:this.form.date,time:this.form.time,endTime:this.form.endTime,theme:this.form.theme,member:this.form.member,remark:this.form.remark,approvals:"待簽核",offer:this.form.offer,accessory:this.form.accessory,rulesId:this.form.rulesId,fileList:this.form.fileList,detailList:this.form.detailList}).then((e=>{this.configForm.id=e.data.id,this.getApi()})).catch((e=>{console.error("There was an error!",e)})),e.isConfirmed&&(this.getApi(),this.$router.push({path:"/meetingList"}))}))}))},patchApprove(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$swal.fire({title:"你確定嗎？",text:"會議狀態即將改為「待簽核」",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定送簽",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{const t=this.form,l=this.form.id;e.isConfirmed&&(this.form.approvals="待簽核",this.axios.patch(`http://localhost:3000/meetingList/${l}`,t).then((e=>{this.form.id=e.data.id,this.getApi(),this.$router.push({path:"/meetingList"})})).catch((e=>{console.error("There was an error!",e)})))})).catch((()=>{}))}))},getRole(e){let t=[];for(var l of(this.form.name=[],It))e===l.pro&&t.push({label:l.label,value:l.label}),this.select2=t},getList(e){this.toDoListSelectSearch=e},handleChange(e){"全部"===e.slice(0).toString()?(this.toDoListSelectSearch="",this.form.name=e.slice(0).toString()):(this.toDoListSelectSearch=e.slice(1).toString(),this.form.name=e.slice(1).toString()),console.log(this.toDoListSelectSearch)},handleTableChange(e,t){"全部"===e.slice(0).toString()?this.form.detailList[t].name=e.slice(0).toString():this.form.detailList[t].name=e.slice(1).toString()},handleChange2(e){this.test=e.slice(1).toString(),console.log(e.slice(1).toString()),console.log(this.form.detailList.name,123)},showDate(e){return e+="",-1!==e.indexOf(this.toDoListSelectSearch)&&""!==this.toDoListSelectSearch?e.replace(this.toDoListSelectSearch,'<span style="color: #000; background: gold">'+this.toDoListSelectSearch+"</span>"):e},getNowTime(){let e,t,l,a=new Date;[e,t,l]=[a.getFullYear(),a.getMonth(),a.getDate()];let o=new Date(e,t,l,7);this.value1.push(o)},onChange(e){this.form.fileList=e},send(){this.form.detailList.push({content:this.form.textarea,number:"系統自動帶出",conclusion:"待辦",name:this.form.name,principal:this.form.principal,date:JSON.parse(JSON.stringify(this.getDate(7))),member:"",accessory:"",edit:!1}),console.log(this.form.detailList[0]),""===this.form.detailList[0].principal?(this.form.detailList[0].name=this.form.name,this.form.detailList[0].principal=this.form.principal,console.log("目前沒有")):console.log("目前有資料"),this.form.textarea=""},clearTextarea(){this.$swal.fire({title:"你確定嗎？",text:"摘要內容清空後後將無法復原",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定清空",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{e.isConfirmed&&(this.form.textarea="")})).catch((()=>{}))},formatDate(e,t){let l=e[t.property];if(null!=l)return xt()(l).format("YYYY-MM-DD HH:mm:ss")},handleDelete(e){this.$swal.fire({title:"你確定嗎？",text:"資料刪除後將無法復原",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定刪除",cancelButtonText:"取消",closeOnConfirm:!1}).then((t=>{t.isConfirmed&&this.form.detailList.splice(e,1)})).catch((()=>{}))},handleCellEnter(e){e.edit=!0},handleCellLeave(e){e.edit=!1},editData(e){e.edit=!0},confirmData(e){e.edit=!1,this.$notify({title:"Success",message:"編輯成功",type:"success",duration:2e3})},openopenDialogOption(){this.openDialogOption=!0,this.dialogTitle="目前待辦列表"},openMeetingDialog(){this.openDialogOption=!0,this.dialogTitle="前次會議記錄列表"},handleCurrentChange(e){this.toDoListSelect=e},selectMeetingDoneButton(e){this.form.textarea=this.toDoListSelect.meetingList,this.openDialogOption=!1,this.toDoListSelect="",this.$refs.filterTable.setCurrentRow(e),this.selectDialogFrist=!0},selectMeetingCancelButton(e){this.openDialogOption=!1,this.toDoListSelect="",this.$refs.filterTable.setCurrentRow(e)},select(e){this.editForm.countersign=e},edit_countersign(e,t){this.dialogVisible=!0,this.editForm=JSON.parse(JSON.stringify(t));let l=t;console.log(t.countersign),this.$nextTick((()=>{this.$refs.memberTables.clearSelection(),l.countersign.forEach((e=>{this.memberList.forEach((t=>{e.id===t.id&&this.$refs.memberTables.toggleRowSelection(t)}))}))}))},getRowKeys(e){return e.id},memberListDialog_Confirm(e){let t=e;t.member=this.editForm,this.dialogVisible=!1,console.log(t.member)},memberListDialog_Cancel(){this.dialogVisible=!1},handleSelect(e){console.log(e)},handleChecked(e,t){e?this.form.accessory.push(t):this.deleteItem(t.id,this.form.accessory)},deleteItem(e,t){for(var l in t)t[l].id===e&&t.splice(l,1)},beforeRemove(e){return this.$confirm(`確定刪除 ${e.name}？`)}},computed:{tables:function(){const e=this.toDoListSelectSearch,t=this.form.principal.name;return e?this.toDoList.filter((t=>String(t.name).toLowerCase().includes(e.toLowerCase()))):t?this.toDoList.filter((e=>String(e.principal).toLowerCase().includes(t.toLowerCase()))):this.toDoList}}};const Ft=(0,T.Z)(Pt,[["render",gt]]);var At=Ft;function qt(e,t,l,a,i,r){const s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(s)}var Et={name:"parentPage"};const Zt=(0,T.Z)(Et,[["render",qt]]);var Rt=Zt;const Jt={class:"h-full flex-1 p-5"},Gt={class:"flex-1 flex-col space-y-10 rounded-xl bg-white p-10 shadow-6"},Qt={class:"inline-block flex space-x-4"},Xt=(0,o._)("div",{class:"flex-1 text-right"},"快速搜尋：",-1),el=(0,o._)("i",{class:"ri-search-line"},null,-1),tl={class:"demo-basic"},ll=["innerHTML"],al=(0,o._)("i",{class:"ri-search-line"},null,-1),ol={class:"demo-basic"},il=["innerHTML"],rl=(0,o._)("i",{class:"ri-search-line"},null,-1),sl={class:"demo-basic"},nl=["innerHTML"],dl=(0,o._)("i",{class:"ri-search-line"},null,-1),cl={class:"demo-basic"},ul=["innerHTML"],ml=(0,o._)("i",{class:"ri-search-line"},null,-1),pl={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},hl=["innerHTML"],wl=(0,o._)("i",{class:"ri-search-line"},null,-1),fl={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},gl=["innerHTML"],bl=(0,o._)("i",{class:"ri-search-line"},null,-1),yl={class:"demo-basic"},_l=["innerHTML"],vl=(0,o._)("i",{class:"ri-search-line"},null,-1),kl={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},xl=["innerHTML"],Ll=["innerHTML"],Wl={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},Dl=(0,o._)("i",{class:"ri-search-line"},null,-1),Vl={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},Cl=["innerHTML"],Sl=(0,o._)("i",{class:"ri-search-line"},null,-1),Tl={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},jl=["innerHTML"],Ul={key:0},Ml={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},Hl={class:"flex"},zl=(0,o._)("i",{class:"ri-arrow-right-line"},null,-1),Yl=["innerHTML"],$l=["innerHTML"],Nl=["innerHTML"],Ol=["innerHTML"],Bl={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},Kl=["innerHTML"],Il={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},Pl=["innerHTML"],Fl=["innerHTML"],Al={class:"flex w-full"},ql=["innerHTML"],El={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},Zl=["innerHTML"],Rl={key:0,class:"flex w-full space-x-2"},Jl={key:1,class:"flex flex-1 flex-col space-y-2"},Gl={class:"flex flex-col"},Ql=["innerHTML"],Xl=["innerHTML"],ea=["innerHTML"],ta=["innerHTML"],la={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},aa=["innerHTML"],oa={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},ia=["innerHTML"],ra={class:"space-2 flex w-full flex-col"},sa=["innerHTML"],na=["innerHTML"],da={key:2,class:"flex space-x-2"},ca={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},ua={class:"flex w-full space-x-2"},ma={class:"flex flex-col"},pa=["innerHTML"],ha=["innerHTML"],wa=["innerHTML"],fa=["innerHTML"],ga={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},ba=["innerHTML"],ya={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},_a=["innerHTML"],va=["innerHTML"],ka={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},xa=["innerHTML"],La=["innerHTML"],Wa={key:0},Da={class:"demo-basic rounded-md border border-gray-200 bg-white p-2 shadow-xl"},Va={class:"flex"},Ca=(0,o._)("i",{class:"ri-arrow-right-line"},null,-1);function Sa(e,t,l,i,r,n){const d=(0,o.up)("el-input"),c=(0,o.up)("a-button"),u=(0,o.up)("el-table-column"),m=(0,o.up)("a-trigger"),p=(0,o.up)("el-option"),h=(0,o.up)("el-select"),w=(0,o.up)("el-date-picker"),f=(0,o.up)("el-table"),g=(0,o.up)("el-form"),b=(0,o.up)("a-tab-pane"),y=(0,o.up)("el-button"),_=(0,o.up)("el-radio"),v=(0,o.up)("el-radio-group"),k=(0,o.up)("a-upload"),x=(0,o.up)("el-checkbox"),L=(0,o.up)("a-tabs");return(0,o.wg)(),(0,o.iD)("div",Jt,[(0,o._)("div",Gt,[(0,o.Wm)(L,{"default-active-key":"1",class:"toDo_tabs"},{extra:(0,o.w5)((()=>[(0,o._)("div",Qt,[Xt,(0,o.Wm)(d,{modelValue:r.wholeSearch,"onUpdate:modelValue":t[0]||(t[0]=e=>r.wholeSearch=e),placeholder:"請輸入關鍵字",class:"flex-1"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(b,{key:"1"},{title:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"toDo_tabs_button",onClick:n.tab1},{default:(0,o.w5)((()=>[(0,o.Uk)("待辦事項總表")])),_:1},8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Wm)(g,{ref:"validateForm",inline:!0,model:e.editableTableData},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{data:n.tables,style:{width:"100%"},border:"","cell-style":n.rowClass},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{fixed:"",label:"序號",type:"index",width:"60",align:"center"}),(0,o.Wm)(u,{fixed:"",prop:"projectNo",label:"專案編碼",sortable:""},{header:(0,o.w5)((()=>[(0,o.Uk)(" 專案編碼 "),(0,o._)("div",{onClick:t[2]||(t[2]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",tl,[(0,o.Wm)(d,{modelValue:r.search.projectNo,"onUpdate:modelValue":t[1]||(t[1]=e=>r.search.projectNo=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[el])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.projectNo)},null,8,ll)])),_:1}),(0,o.Wm)(u,{fixed:"",prop:"meetingList",label:"內容",width:"230",sortable:""},{header:(0,o.w5)((()=>[(0,o.Uk)(" 內容 "),(0,o._)("div",{onClick:t[4]||(t[4]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",ol,[(0,o.Wm)(d,{modelValue:r.search.meetingList,"onUpdate:modelValue":t[3]||(t[3]=e=>r.search.meetingList=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[al])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.meetingList)},null,8,il)])),_:1}),(0,o.Wm)(u,{fixed:"",prop:"principal",label:"負責人",sortable:""},{header:(0,o.w5)((()=>[(0,o.Uk)(" 負責人 "),(0,o._)("div",{onClick:t[6]||(t[6]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",sl,[(0,o.Wm)(d,{modelValue:r.search.principal,"onUpdate:modelValue":t[5]||(t[5]=e=>r.search.principal=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[rl])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.principal)},null,8,nl)])),_:1}),(0,o.Wm)(u,{prop:"department",label:"部門",sortable:""},{header:(0,o.w5)((()=>[(0,o.Uk)(" 部門 "),(0,o._)("div",{onClick:t[8]||(t[8]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",cl,[(0,o.Wm)(h,{modelValue:r.search.department,"onUpdate:modelValue":t[7]||(t[7]=e=>r.search.department=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.headerSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[dl])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.department)},null,8,ul)])),_:1}),(0,o.Wm)(u,{prop:"date",label:"待辦發生",sortable:""},{header:(0,o.w5)((()=>[(0,o.Uk)(" 待辦發生 "),(0,o._)("div",{onClick:t[11]||(t[11]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",pl,[(0,o.Wm)(w,{modelValue:r.startDate,"onUpdate:modelValue":t[9]||(t[9]=e=>r.startDate=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.endDate,"onUpdate:modelValue":t[10]||(t[10]=e=>r.endDate=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[ml])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.date)},null,8,hl)])),_:1}),(0,o.Wm)(u,{prop:"doneDate",label:"預計完成",sortable:""},{header:(0,o.w5)((()=>[(0,o.Uk)(" 預計完成 "),(0,o._)("div",{onClick:t[14]||(t[14]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",fl,[(0,o.Wm)(w,{modelValue:r.search.start,"onUpdate:modelValue":t[12]||(t[12]=e=>r.search.start=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.search.end,"onUpdate:modelValue":t[13]||(t[13]=e=>r.search.end=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[wl])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.doneDate)},null,8,gl)])),_:1}),(0,o.Wm)(u,{prop:"status",label:"執行狀態",sortable:""},{header:(0,o.w5)((()=>[(0,o.Uk)(" 執行狀態 "),(0,o._)("div",{onClick:t[16]||(t[16]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",yl,[(0,o.Wm)(h,{modelValue:r.search.status,"onUpdate:modelValue":t[15]||(t[15]=e=>r.search.status=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.statusSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[bl])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.status)},null,8,_l)])),_:1}),(0,o.Wm)(u,{prop:"signedStatus",label:"簽核狀態",sortable:""},{header:(0,o.w5)((()=>[(0,o.Uk)(" 簽核狀態 "),(0,o._)("div",{onClick:t[18]||(t[18]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",kl,[(0,o.Wm)(h,{modelValue:r.search.signedStatus,"onUpdate:modelValue":t[17]||(t[17]=e=>r.search.signedStatus=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.auditStatusSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[vl])),_:1})])),_:1})])])),default:(0,o.w5)((e=>["待送簽"===e.row.auditStatus?((0,o.wg)(),(0,o.iD)("p",{key:0,class:"flex-1 text-center text-gray-500",innerHTML:n.showDate(e.row.auditStatus)},null,8,xl)):(0,o.kq)("",!0),"待簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.iD)("p",{key:1,class:"flex-1 text-center text-blue-500",innerHTML:n.showDate(e.row.auditStatus)},null,8,Ll)):(0,o.kq)("",!0),"已簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.j4)(m,{key:2,trigger:"click"},{content:(0,o.w5)((()=>[(0,o._)("div",Wl,[(0,o.Wm)(f,{ref:"filterTable",data:e.row.signedStatus},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"index",label:"序號",width:"60",align:"center"}),(0,o.Wm)(u,{prop:"level",label:"關卡",width:"150"}),(0,o.Wm)(u,{prop:"status",label:"狀態",width:"100"}),(0,o.Wm)(u,{prop:"date",label:"時間",width:"180"}),(0,o.Wm)(u,{prop:"commit",label:"說明",width:"150"})])),_:2},1032,["data"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"text",innerHTML:n.showDate(e.row.auditStatus),class:"w-full text-gray-500"},null,8,["innerHTML"])])),_:2},1024)):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(u,{prop:"defer",label:"遞延次數",width:"120",sortable:"",align:"center"},{header:(0,o.w5)((()=>[(0,o.Uk)(" 遞延次數 "),(0,o._)("div",{onClick:t[20]||(t[20]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",Vl,[(0,o.Wm)(d,{modelValue:r.search.defer,"onUpdate:modelValue":t[19]||(t[19]=e=>r.search.defer=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[Dl])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.defer)},null,8,Cl)])),_:1}),(0,o.Wm)(u,{prop:"KPI",label:"KPI",width:"100",sortable:"",align:"center"},{header:(0,o.w5)((()=>[(0,o.Uk)(" KPI "),(0,o._)("div",{onClick:t[22]||(t[22]=(0,a.iM)((()=>{}),["stop"]))},[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",Tl,[(0,o.Wm)(d,{modelValue:r.search.KPI,"onUpdate:modelValue":t[21]||(t[21]=e=>r.search.KPI=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[Sl])),_:1})])),_:1})])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.KPI)},null,8,jl)])),_:1}),(0,o.Wm)(u,{prop:"transfer",label:"移轉紀錄",width:"150",sortable:"",align:"center"},{default:(0,o.w5)((e=>[0===e.row.transfer.length?((0,o.wg)(),(0,o.iD)("span",Ul)):((0,o.wg)(),(0,o.j4)(m,{key:1,trigger:"click"},{content:(0,o.w5)((()=>[(0,o._)("div",Ml,[(0,o.Wm)(f,{ref:"filterTable",data:e.row.transfer},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"index",label:"序號",width:"60",align:"center"}),(0,o.Wm)(u,{prop:"date",label:"時間",width:"150"}),(0,o.Wm)(u,{prop:"record",label:"移轉紀錄",width:"150"},{default:(0,o.w5)((e=>[(0,o._)("div",Hl,[(0,o._)("span",null,(0,s.zw)(e.row.record.form),1),zl,(0,o._)("span",null,(0,s.zw)(e.row.record.to),1)])])),_:2},1024),(0,o.Wm)(u,{prop:"edit",label:"修改人員",width:"150"})])),_:2},1032,["data"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"text",long:""},{default:(0,o.w5)((()=>[(0,o.Uk)("紀錄")])),_:1})])),_:2},1024))])),_:1}),(0,o.Wm)(u,{label:"會議記錄",width:"100",align:"center",fixed:"right"},{default:(0,o.w5)((e=>[(0,o.Wm)(c,{onClick:t=>n.Edit_PricingList(e.$index,e.row),type:"primary",status:"success",size:"small"},{default:(0,o.w5)((()=>[(0,o.Uk)("檢視")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","cell-style"])])),_:1},8,["model"])])),_:1}),(0,o.Wm)(b,{key:"2"},{title:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"toDo_tabs_button",onClick:n.tab1},{default:(0,o.w5)((()=>[(0,o.Uk)("當日到期待辦事項(本人)")])),_:1},8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Wm)(g,{ref:"ruleForm",inline:!0,model:r.inServForm},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{data:n.tables,style:{width:"100%"},"table-layout":"fixed","cell-style":n.rowClass},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{fixed:"",label:"序號",type:"index",width:"60",align:"center"}),(0,o.Wm)(u,{fixed:"",prop:"projectNo",label:"專案編碼",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"projectNo","min-width":"120","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.projectNo,"onUpdate:modelValue":t[23]||(t[23]=e=>r.search.projectNo=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.projectNo)},null,8,Yl)])),_:1})])),_:1}),(0,o.Wm)(u,{fixed:"",prop:"meetingList",label:"內容",width:"230",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"meetingList","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.meetingList,"onUpdate:modelValue":t[24]||(t[24]=e=>r.search.meetingList=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.meetingList)},null,8,$l)])),_:1})])),_:1}),(0,o.Wm)(u,{fixed:"",prop:"principal",label:"負責人",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"principal","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.principal,"onUpdate:modelValue":t[25]||(t[25]=e=>r.search.principal=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.principal)},null,8,Nl)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"department",label:"部門",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"department","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.department,"onUpdate:modelValue":t[26]||(t[26]=e=>r.search.department=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.headerSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.department)},null,8,Ol)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"date",label:"待辦發生",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"date",width:"150"},{header:(0,o.w5)((()=>[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",Bl,[(0,o.Wm)(w,{modelValue:r.startDate,"onUpdate:modelValue":t[27]||(t[27]=e=>r.startDate=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.endDate,"onUpdate:modelValue":t[28]||(t[28]=e=>r.endDate=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("日期搜尋")])),_:1})])),_:1})])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.date)},null,8,Kl)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"doneDate",label:"預計完成",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"doneDate",width:"150"},{header:(0,o.w5)((()=>[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",Il,[(0,o.Wm)(w,{modelValue:r.search.start,"onUpdate:modelValue":t[29]||(t[29]=e=>r.search.start=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.search.end,"onUpdate:modelValue":t[30]||(t[30]=e=>r.search.end=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("日期搜尋")])),_:1})])),_:1})])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.doneDate)},null,8,Pl)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"status",label:"執行狀態",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"status","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.status,"onUpdate:modelValue":t[31]||(t[31]=e=>r.search.status=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.statusSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.status)},null,8,Fl)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"signedStatus",label:"簽核狀態",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"signedStatus","min-width":"200","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.signedStatus,"onUpdate:modelValue":t[32]||(t[32]=e=>r.search.signedStatus=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.auditStatusSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("div",Al,["待送簽"===e.row.auditStatus?((0,o.wg)(),(0,o.iD)("p",{key:0,class:"flex-1 text-center text-gray-500",innerHTML:n.showDate(e.row.auditStatus)},null,8,ql)):(0,o.kq)("",!0),"待送簽"===e.row.auditStatus&&"王大明"===e.row.principal?((0,o.wg)(),(0,o.j4)(c,{key:1,onClick:t=>n.patchApprove(e.row),type:"primary",class:"ml-2 w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("送簽")])),_:2},1032,["onClick"])):(0,o.kq)("",!0),"確認簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.j4)(c,{key:2,onClick:t=>n.sendPetition(e.row),type:"primary",class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("確認簽核")])),_:2},1032,["onClick"])):(0,o.kq)("",!0),"已簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.j4)(m,{key:3,trigger:"click"},{content:(0,o.w5)((()=>[(0,o._)("div",El,[(0,o.Wm)(f,{ref:"filterTable",data:e.row.signedStatus},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"index",label:"序號",width:"60",align:"center"}),(0,o.Wm)(u,{prop:"level",label:"關卡",width:"150"}),(0,o.Wm)(u,{prop:"status",label:"狀態",width:"100"}),(0,o.Wm)(u,{prop:"date",label:"時間",width:"180"}),(0,o.Wm)(u,{prop:"commit",label:"說明",width:"150"})])),_:2},1032,["data"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"text",innerHTML:n.showDate(e.row.auditStatus),class:"w-full text-gray-500"},null,8,["innerHTML"])])),_:2},1024)):(0,o.kq)("",!0),"待簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.iD)("p",{key:4,class:"flex-1 text-center text-blue-500",innerHTML:n.showDate(e.row.auditStatus)},null,8,Zl)):(0,o.kq)("",!0)])])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"principalDone",label:"回覆是否完成",width:"400"},{default:(0,o.w5)((e=>["王大明"===e.row.principal&&"待送簽"===e.row.auditStatus?((0,o.wg)(),(0,o.iD)("div",Rl,[(0,o.Wm)(v,{modelValue:e.row.principalDone,"onUpdate:modelValue":t=>e.row.principalDone=t,class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{label:!0},{default:(0,o.w5)((()=>[(0,o.Uk)("是")])),_:1}),(0,o.Wm)(_,{label:!1},{default:(0,o.w5)((()=>[(0,o.Uk)("否")])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"]),!0===e.row.principalDone?((0,o.wg)(),(0,o.j4)(k,{key:0,class:"flex-1",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",limit:1},{"upload-button":(0,o.w5)((()=>[(0,o.Wm)(c,{type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("選擇檔案")])),_:1})])),_:1})):((0,o.wg)(),(0,o.iD)("div",Jl,[(0,o.Wm)(d,{class:"flex-1",type:"textarea",rows:1,placeholder:"請輸入內容",modelValue:e.row.principalCommit,"onUpdate:modelValue":t=>e.row.principalCommit=t},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(w,{class:"w-full flex-1",type:"date",placeholder:"請選擇日期",modelValue:e.row.un_doneDate,"onUpdate:modelValue":t=>e.row.un_doneDate=t},null,8,["modelValue","onUpdate:modelValue"])]))])):((0,o.wg)(),(0,o.j4)(v,{key:1,modelValue:e.row.principalDone,"onUpdate:modelValue":t=>e.row.principalDone=t,class:"text-center",disabled:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{label:!0},{default:(0,o.w5)((()=>[(0,o.Uk)("是")])),_:1}),(0,o.Wm)(_,{label:!1},{default:(0,o.w5)((()=>[(0,o.Uk)("否")])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"]))])),_:1}),(0,o.Wm)(u,{prop:"KPI",label:"KPI",width:"200",align:"center"},{default:(0,o.w5)((e=>[(0,o._)("div",Gl,[(0,o.Wm)(x,{modelValue:e.row.KPIOption,"onUpdate:modelValue":t=>e.row.KPIOption=t,disabled:""},{default:(0,o.w5)((()=>[(0,o.Uk)("評分")])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(h,{modelValue:e.row.KPI,"onUpdate:modelValue":t=>e.row.KPI=t,size:"mini",placeholder:"請選擇",clearable:"",filterable:"","allow-create":"",disabled:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.KPISelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.value,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])),_:1}),(0,o.Wm)(u,{prop:"managerCommit",label:"直屬主管意見",width:"250"},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{type:"textarea",rows:2,placeholder:"請輸入內容",modelValue:e.row.managerCommit,"onUpdate:modelValue":t=>e.row.managerCommit=t,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(u,{label:"會議記錄",width:"100",fixed:"right"},{default:(0,o.w5)((e=>[(0,o.Wm)(c,{onClick:t=>n.Edit_PricingList(e.$index,e.row),type:"primary",status:"success",size:"small"},{default:(0,o.w5)((()=>[(0,o.Uk)("檢視")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","cell-style"])])),_:1},8,["model"])])),_:1}),(0,o.Wm)(b,{key:"3"},{title:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"toDo_tabs_button",onClick:n.tab1},{default:(0,o.w5)((()=>[(0,o.Uk)("當日到期待辦事項(主管)")])),_:1},8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Wm)(g,{ref:"validateForm",inline:!0,model:e.editableTableData},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{data:n.tables,style:{width:"100%"},"table-layout":"fixed","cell-style":n.rowClass},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{fixed:"",label:"序號",type:"index",width:"60",align:"center"}),(0,o.Wm)(u,{fixed:"",prop:"projectNo",label:"專案編碼",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"projectNo","min-width":"120","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.projectNo,"onUpdate:modelValue":t[33]||(t[33]=e=>r.search.projectNo=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.projectNo)},null,8,Ql)])),_:1})])),_:1}),(0,o.Wm)(u,{fixed:"",prop:"meetingList",label:"內容",width:"230",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"meetingList","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.meetingList,"onUpdate:modelValue":t[34]||(t[34]=e=>r.search.meetingList=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.meetingList)},null,8,Xl)])),_:1})])),_:1}),(0,o.Wm)(u,{fixed:"",prop:"principal",label:"負責人",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"principal","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.principal,"onUpdate:modelValue":t[35]||(t[35]=e=>r.search.principal=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.principal)},null,8,ea)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"department",label:"部門",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"department","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.department,"onUpdate:modelValue":t[36]||(t[36]=e=>r.search.department=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.headerSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.department)},null,8,ta)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"date",label:"待辦發生",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"date",width:"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",la,[(0,o.Wm)(w,{modelValue:r.startDate,"onUpdate:modelValue":t[37]||(t[37]=e=>r.startDate=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.endDate,"onUpdate:modelValue":t[38]||(t[38]=e=>r.endDate=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("日期搜尋")])),_:1})])),_:1})])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.date)},null,8,aa)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"doneDate",label:"預計完成",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"doneDate",width:"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",oa,[(0,o.Wm)(w,{modelValue:r.search.start,"onUpdate:modelValue":t[39]||(t[39]=e=>r.search.start=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.search.end,"onUpdate:modelValue":t[40]||(t[40]=e=>r.search.end=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("日期搜尋")])),_:1})])),_:1})])),default:(0,o.w5)((e=>["待簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.j4)(w,{key:0,class:"w-full flex-1",type:"date",placeholder:"請選擇日期",modelValue:e.row.doneDate,"onUpdate:modelValue":t=>e.row.doneDate=t},null,8,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.j4)(w,{key:1,class:"w-full flex-1",type:"date",placeholder:"請選擇日期",modelValue:e.row.doneDate,"onUpdate:modelValue":t=>e.row.doneDate=t,disabled:""},null,8,["modelValue","onUpdate:modelValue"]))])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"status",label:"執行狀態",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"status","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.status,"onUpdate:modelValue":t[41]||(t[41]=e=>r.search.status=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.statusSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.status)},null,8,ia)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"signedStatus",label:"簽核狀態",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"signedStatus","min-width":"200","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.signedStatus,"onUpdate:modelValue":t[42]||(t[42]=e=>r.search.signedStatus=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.auditStatusSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("div",ra,["待送簽"===e.row.auditStatus?((0,o.wg)(),(0,o.iD)("p",{key:0,class:"flex-1 text-center text-gray-500",innerHTML:n.showDate(e.row.auditStatus)},null,8,sa)):(0,o.kq)("",!0),"待簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.iD)("p",{key:1,class:"flex-1 text-center text-blue-500",innerHTML:n.showDate(e.row.auditStatus)},null,8,na)):(0,o.kq)("",!0),"待簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.iD)("div",da,[(0,o.Wm)(c,{onClick:t=>n.patchPASS(e.row),type:"primary",class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("簽核通過")])),_:2},1032,["onClick"]),(0,o.Wm)(c,{onClick:t=>n.patchReturn(e.row),type:"primary",class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("退件")])),_:2},1032,["onClick"])])):(0,o.kq)("",!0),"已簽核"===e.row.auditStatus?((0,o.wg)(),(0,o.j4)(m,{key:3,trigger:"click"},{content:(0,o.w5)((()=>[(0,o._)("div",ca,[(0,o.Wm)(f,{ref:"filterTable",data:e.row.signedStatus},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"index",label:"序號",width:"60",align:"center"}),(0,o.Wm)(u,{prop:"level",label:"關卡",width:"150"}),(0,o.Wm)(u,{prop:"status",label:"狀態",width:"100"}),(0,o.Wm)(u,{prop:"date",label:"時間",width:"180"}),(0,o.Wm)(u,{prop:"commit",label:"說明",width:"150"})])),_:2},1032,["data"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"text",innerHTML:n.showDate(e.row.auditStatus),class:"w-full text-gray-500"},null,8,["innerHTML"])])),_:2},1024)):(0,o.kq)("",!0)])])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"principalDone",label:"回覆是否完成",width:"400"},{default:(0,o.w5)((e=>[(0,o._)("div",ua,[(0,o.Wm)(v,{modelValue:e.row.principalDone,"onUpdate:modelValue":t=>e.row.principalDone=t,class:"text-center",disabled:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{label:!0},{default:(0,o.w5)((()=>[(0,o.Uk)("是")])),_:1}),(0,o.Wm)(_,{label:!1},{default:(0,o.w5)((()=>[(0,o.Uk)("否")])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])])),_:1}),(0,o.Wm)(u,{prop:"KPI",label:"KPI",width:"200"},{default:(0,o.w5)((e=>[(0,o._)("div",ma,[(0,o.Wm)(x,{modelValue:e.row.KPIOption,"onUpdate:modelValue":t=>e.row.KPIOption=t},{default:(0,o.w5)((()=>[(0,o.Uk)("評分")])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(h,{modelValue:e.row.KPI,"onUpdate:modelValue":t=>e.row.KPI=t,size:"mini",placeholder:"請選擇","allow-create":"",disabled:!1===e.row.KPIOption},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.KPISelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.value,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])])),_:1}),(0,o.Wm)(u,{prop:"managerCommit",label:"直屬主管意見",width:"250"},{default:(0,o.w5)((e=>[(0,o.Wm)(d,{type:"textarea",rows:2,placeholder:"請輸入內容",modelValue:e.row.managerCommit,"onUpdate:modelValue":t=>e.row.managerCommit=t},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,o.Wm)(u,{label:"會議記錄",width:"100",fixed:"right"},{default:(0,o.w5)((e=>[(0,o.Wm)(c,{onClick:t=>n.Edit_PricingList(e.$index,e.row),type:"primary",status:"success",size:"small"},{default:(0,o.w5)((()=>[(0,o.Uk)("檢視")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","cell-style"])])),_:1},8,["model"])])),_:1}),(0,o.Wm)(b,{key:"4"},{title:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"toDo_tabs_button",onClick:n.tab3},{default:(0,o.w5)((()=>[(0,o.Uk)("個人待辦事項")])),_:1},8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Wm)(g,{ref:"validateForm",inline:!0,model:e.editableTableData},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{data:n.tables,ref:"filterTable",style:{width:"100%"},"cell-style":n.rowClass},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{fixed:"",label:"序號",type:"index",width:"60",align:"center"}),(0,o.Wm)(u,{fixed:"",prop:"projectNo",label:"專案編碼",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"projectNo",label:"專案編碼","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.projectNo,"onUpdate:modelValue":t[43]||(t[43]=e=>r.search.projectNo=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.projectNo)},null,8,pa)])),_:1})])),_:1}),(0,o.Wm)(u,{fixed:"",prop:"meetingList",label:"內容",width:"230",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"meetingList",label:"內容","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.meetingList,"onUpdate:modelValue":t[44]||(t[44]=e=>r.search.meetingList=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.meetingList)},null,8,ha)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"principal",label:"負責人"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{label:"負責人","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.principal,"onUpdate:modelValue":t[45]||(t[45]=e=>r.search.principal=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.personSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.principal)},null,8,wa)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"department",label:"部門",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"department",label:"部門","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.department,"onUpdate:modelValue":t[46]||(t[46]=e=>r.search.department=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.headerSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.department)},null,8,fa)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"date",label:"待辦發生",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"date",width:"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",ga,[(0,o.Wm)(w,{modelValue:r.startDate,"onUpdate:modelValue":t[47]||(t[47]=e=>r.startDate=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.endDate,"onUpdate:modelValue":t[48]||(t[48]=e=>r.endDate=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("日期搜尋")])),_:1})])),_:1})])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.date)},null,8,ba)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"doneDate",label:"預計完成",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"doneDate",width:"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(m,{trigger:"click","unmount-on-close":!1},{content:(0,o.w5)((()=>[(0,o._)("div",ya,[(0,o.Wm)(w,{modelValue:r.search.start,"onUpdate:modelValue":t[49]||(t[49]=e=>r.search.start=e),type:"date",placeholder:"開始","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),(0,o.Wm)(w,{modelValue:r.search.end,"onUpdate:modelValue":t[50]||(t[50]=e=>r.search.end=e),type:"date",placeholder:"結束","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("日期搜尋")])),_:1})])),_:1})])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.doneDate)},null,8,_a)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"status",label:"執行狀態",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"status","min-width":"150","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.status,"onUpdate:modelValue":t[51]||(t[51]=e=>r.search.status=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.statusSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{class:"truncate",innerHTML:n.showDate(e.row.status)},null,8,va)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"signedStatus",label:"簽核狀態",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"signedStatus","min-width":"200","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:r.search.signedStatus,"onUpdate:modelValue":t[52]||(t[52]=e=>r.search.signedStatus=e),size:"mini",placeholder:"請選擇",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.auditStatusSelect,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),default:(0,o.w5)((e=>["待送簽"===e.row.auditStatus?((0,o.wg)(),(0,o.j4)(c,{key:0,onClick:t=>n.sendPetition(e.row),type:"primary",class:"w-full"},{default:(0,o.w5)((()=>[(0,o.Uk)("送簽")])),_:2},1032,["onClick"])):((0,o.wg)(),(0,o.j4)(m,{key:1,trigger:"click"},{content:(0,o.w5)((()=>[(0,o._)("div",ka,[(0,o.Wm)(f,{ref:"filterTable",data:e.row.signedStatus},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"index",label:"序號",width:"60",align:"center"}),(0,o.Wm)(u,{prop:"level",label:"關卡",width:"150"}),(0,o.Wm)(u,{prop:"status",label:"狀態",width:"100"}),(0,o.Wm)(u,{prop:"date",label:"時間",width:"180"}),(0,o.Wm)(u,{prop:"commit",label:"說明",width:"150"})])),_:2},1032,["data"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"text",innerHTML:n.showDate(e.row.auditStatus),class:"w-full"},null,8,["innerHTML"])])),_:2},1024))])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"defer",label:"遞延次數",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"defer",width:"120","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.defer,"onUpdate:modelValue":t[53]||(t[53]=e=>r.search.defer=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.defer)},null,8,xa)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"KPI",label:"KPI",sortable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{prop:"KPI",width:"100","show-overflow-tooltip":""},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:r.search.KPI,"onUpdate:modelValue":t[54]||(t[54]=e=>r.search.KPI=e),size:"mini",placeholder:"關鍵字"},null,8,["modelValue"])])),default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.KPI)},null,8,La)])),_:1})])),_:1}),(0,o.Wm)(u,{prop:"transfer",label:"移轉紀錄",width:"150",sortable:"","show-overflow-tooltip":""},{default:(0,o.w5)((e=>[0===e.row.transfer.length?((0,o.wg)(),(0,o.iD)("span",Wa)):((0,o.wg)(),(0,o.j4)(m,{key:1,trigger:"click"},{content:(0,o.w5)((()=>[(0,o._)("div",Da,[(0,o.Wm)(f,{ref:"filterTable",data:e.row.transfer},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"index",label:"序號",width:"60",align:"center"}),(0,o.Wm)(u,{prop:"date",label:"時間",width:"150"}),(0,o.Wm)(u,{prop:"record",label:"移轉紀錄",width:"150"},{default:(0,o.w5)((e=>[(0,o._)("div",Va,[(0,o._)("span",null,(0,s.zw)(e.row.record.form),1),Ca,(0,o._)("span",null,(0,s.zw)(e.row.record.to),1)])])),_:2},1024),(0,o.Wm)(u,{prop:"edit",label:"修改人員",width:"150"})])),_:2},1032,["data"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"text",long:""},{default:(0,o.w5)((()=>[(0,o.Uk)("紀錄")])),_:1})])),_:2},1024))])),_:1}),(0,o.Wm)(u,{label:"會議記錄",width:"100",fixed:"right"},{default:(0,o.w5)((e=>[(0,o.Wm)(c,{onClick:t=>n.Edit_PricingList(e.$index,e.row),type:"primary",status:"success",size:"small"},{default:(0,o.w5)((()=>[(0,o.Uk)("檢視")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","cell-style"])])),_:1},8,["model"])])),_:1})])),_:1})])])}var Ta={name:"HomeView",data(){return{value1:"",wholeSearch:"",selectofearmonth:"",loading:!0,loadingData:0,color:"#673ab7",dateOption:"",search:{no:"",projectNo:"",meetingList:"",principal:"",department:"",status:"",auditStatus:"",signedStatus:"",date:"",doneDate:"",defer:"",KPI:"",start:"",end:""},inServForm:{dataList:[],rules:{principalCommit:[{required:!0,message:"請輸入內容",trigger:"blur"}],un_doneDate:[{required:!0,message:"請選擇日期",trigger:"blur"}]}},domains:[],KPI:!1,todayList:[],personSelect:[{text:"王大明",value:"王大明"},{text:"張三",value:"張三"},{text:"李四",value:"李四"},{text:"蔡先生",value:"蔡先生"},{text:"吳先生",value:"吳先生"}],headerSelect:[{text:"行政部",value:"行政部"},{text:"建一部",value:"建一部"},{text:"建二部",value:"建二部"},{text:"建三部",value:"建三部"}],statusSelect:[{text:"已完成",value:"已完成"},{text:"未完成",value:"未完成"}],KPISelect:[{value:0},{value:"+2"},{value:"+3"},{value:"+5"},{value:"+7"},{value:"+10"},{value:"-2"},{value:"-3"},{value:"-5"},{value:"-7"},{value:"-10"}],auditStatusSelect:[{text:"已簽核",value:"已簽核"},{text:"待送簽",value:"待送簽"},{text:"待簽核",value:"待簽核"}],filteredVal:["王大明"],tableData:[],headerSelected:"all",value2:"",startDate:null,endDate:null}},created(){this.getApi(),sessionStorage.getItem("tableHeader")&&(this.tableHeader=JSON.parse(sessionStorage.getItem("tableHeader")))},methods:{getApi(){fe().then((e=>{this.inServForm.dataList=e.data,this.loadingData=100,this.loading=!1}))},showDate(e){return e+="",-1!==e.toLowerCase().includes(this.wholeSearch.toLowerCase())&&""!==this.wholeSearch?e.replace(this.wholeSearch,'<span style="color: #000; background: gold">'+this.wholeSearch+"</span>"):e},filterHandler(e,t,l){const a=l["property"];return t[a]===e},View_PricingList(e,t){let l=JSON.stringify(t);this.$router.push({path:"editMeeting",query:{res:l,editStatus:!1}})},patchApprove(){this.$swal.fire({title:"你確定嗎？",text:"會議狀態即將改為「待簽核」",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定送簽",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{const t=this.form,l=this.form.id;e.isConfirmed&&(this.form.approvals="待簽核",this.axios.patch(`http://localhost:3000/meetingList/${l}`,t).then((e=>{this.form.id=e.data.id,this.getApi(),this.$router.push({path:"/meetingList"})})).catch((e=>{console.error("There was an error!",e)})))})).catch((()=>{}))},patchPASS(){this.$swal.fire({title:"你確定嗎？",text:"會議狀態即將改為「已簽核」",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定通過",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{const t=this.form,l=this.form.id;e.isConfirmed&&(this.form.approvals="已簽核",this.axios.patch(`http://localhost:3000/meetingList/${l}`,t).then((e=>{this.form.id=e.data.id,this.getApi(),this.$router.push({path:"/meetingList"})})).catch((e=>{console.error("There was an error!",e)})))})).catch((()=>{}))},patchReturn(){this.$swal.fire({title:"你確定嗎？",text:"此會議將退件，簽核狀態將改為「待送簽」",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定退回",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{const t=this.form,l=this.form.id;e.isConfirmed&&(this.form.approvals="待送簽",this.axios.patch(`http://localhost:3000/meetingList/${l}`,t).then((e=>{this.form.id=e.data.id,this.getApi(),this.$router.push({path:"/meetingList"})})).catch((e=>{console.error("There was an error!",e)})))})).catch((()=>{}))},send(){this.$swal.fire({title:"你確定嗎？",text:"即將送出簽核",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定送出",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{e.isConfirmed})).catch((()=>{}))},validateField(e,t){let l=!0;for(const a of this.$refs[e].fields)a.prop.split(".")[1]===t.toString()&&this.$refs[e].validateField(a.prop,(e=>{""!==e&&(l=!1)}));return l},sendPetition(e){console.log(e);let t=this.validateField("ruleForm",e);if(!t)return!1},Edit_PricingList(){this.$router.push({path:"toDoList/viewMeeting"})},localizeDate(e){if(!e||!e.includes("-"))return e;const[t,l,a]=e.split("-");return new Date(`${l}/${a}/${t}`)},rowClass(e){if("逾時未完成"===e.row.status&&"待送簽"===e.row.auditStatus){let e={backgroundColor:"#f56c6c !important"};return e}if("已完成"===e.row.status&&"已簽核"===e.row.auditStatus){let e={backgroundColor:"#eeeeee !important"};return e}},tab1(){this.search={no:"",projectNo:"",meetingList:"",principal:"",department:"",status:"",auditStatus:"",signedStatus:"",date:"",doneDate:"",defer:"",KPI:"",start:"",end:""}},tab3(){this.search.principal="王大明"}},mounted(){},computed:{tables(){const e=this.wholeSearch,t=this.search.no,l=this.search.projectNo,a=this.search.meetingList,o=this.search.principal,i=this.search.department,r=this.search.status,s=this.search.signedStatus,n=this.search.doneDate,d=this.search.defer,c=this.search.KPI;if(e)return this.inServForm.dataList.filter((t=>Object.keys(t).some((l=>String(t[l]).toLowerCase().includes(e.toLowerCase())))));if(t)return this.inServForm.dataList.filter((e=>String(e.no).toLowerCase().includes(t.toLowerCase())));if(l)return this.inServForm.dataList.filter((e=>String(e.projectNo).toLowerCase().includes(l.toLowerCase())));if(a)return this.inServForm.dataList.filter((e=>String(e.meetingList).toLowerCase().includes(a.toLowerCase())));if(o)return this.inServForm.dataList.filter((e=>String(e.principal).toLowerCase().includes(o.toLowerCase())));if(i)return this.inServForm.dataList.filter((e=>String(e.department).toLowerCase().includes(i.toLowerCase())));if(r)return this.inServForm.dataList.filter((e=>String(e.status).toLowerCase().includes(r.toLowerCase())));if(s)return this.inServForm.dataList.filter((e=>String(e.auditStatus).toLowerCase().includes(s.toLowerCase())));if(n)return this.inServForm.dataList.filter((e=>String(e.doneDate).toLowerCase().includes(n.toLowerCase())));if(d)return this.inServForm.dataList.filter((e=>String(e.defer).toLowerCase().includes(d.toLowerCase())));if(c)return this.inServForm.dataList.filter((e=>String(e.KPI).toLowerCase().includes(c.toLowerCase())));{let e=this.localizeDate(this.startDate),t=this.localizeDate(this.endDate);const l=this.localizeDate(this.search.start),a=this.localizeDate(this.search.end);return this.inServForm.dataList.filter((o=>{const i=new Date(o.date),r=new Date(o.doneDate);return e&&t?e<=i&&i<=t:e&&!t?e<=i:!e&&t?i<=t:l&&a?l<=r&&r<=a:l&&!a?l<=r:!(!l&&a)||r<=a}))}}}};const ja=(0,T.Z)(Ta,[["render",Sa]]);var Ua=ja;const Ma={class:"mx-5 mb-5 flex-col flex-col space-y-7 rounded-xl bg-white p-10 shadow-6"},Ha={class:"title-before flex h-14 border-b border-b-gray-300 pb-5"},za={class:"flex-1 text-left text-3xl font-bold"},Ya={class:"flex h-10 space-x-2"},$a={class:"grid grid-cols-2 gap-4"},Na={class:"flex flex-col space-y-4 rounded-lg bg-gray-100 p-5"},Oa={class:"flex space-x-3"},Ba={class:"justify-star flex flex-1 space-x-3"},Ka={class:"meetingForm flex flex-col space-y-4 rounded-lg bg-gray-100 p-5"},Ia={class:"grid grid-cols-4 gap-4"},Pa={class:"grid grid-cols-2 gap-4"},Fa={key:0,class:"flex flex-col space-y-2 rounded-lg bg-gray-200 p-4"},Aa={key:1},qa={key:1},Ea={key:0},Za={key:1},Ra={key:0,class:"text-green-500"},Ja={key:1,class:"text-red-500"},Ga={key:1},Qa={key:1},Xa={key:1},eo={key:1},to={key:1},lo=["innerHTML"],ao=["innerHTML"],oo=["innerHTML"],io=["innerHTML"],ro=["innerHTML"],so=["innerHTML"],no=["innerHTML"],co=["innerHTML"];function uo(e,t,l,i,r,n){const d=(0,o.up)("breadcrumb"),c=(0,o.up)("el-button"),u=(0,o.up)("member-list-dialog"),m=(0,o.up)("el-form-item"),p=(0,o.up)("el-cascader"),h=(0,o.up)("a-button"),w=(0,o.up)("el-input"),f=(0,o.up)("el-date-picker"),g=(0,o.up)("el-time-picker"),b=(0,o.up)("member-list-dialog-even"),y=(0,o.up)("el-radio"),_=(0,o.up)("el-radio-group"),v=(0,o.up)("el-checkbox"),k=(0,o.up)("el-checkbox-group"),x=(0,o.up)("a-upload"),L=(0,o.up)("a-table-column"),W=(0,o.up)("el-option"),D=(0,o.up)("el-select"),V=(0,o.up)("a-table"),C=(0,o.up)("el-form"),S=(0,o.up)("el-table-column"),T=(0,o.up)("el-table"),j=(0,o.up)("a-modal"),U=(0,o.up)("el-scrollbar");return(0,o.wg)(),(0,o.j4)(U,{class:"h-full w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(d),(0,o._)("div",Ma,[(0,o._)("div",Ha,[(0,o._)("p",za,"會議記錄表-"+(0,s.zw)(e.formTitle),1),(0,o._)("div",Ya,[(0,o.Wm)(c,{plain:"",onClick:t[0]||(t[0]=t=>e.$router.push({path:"/toDoList"}))},{default:(0,o.w5)((()=>[(0,o.Uk)("返回")])),_:1})])]),(0,o.Wm)(C,{ref:"form",rules:r.rules,model:r.form,inline:!0,class:"meeting_form flex flex-col space-y-3"},{default:(0,o.w5)((()=>[(0,o._)("div",$a,[(0,o.Wm)(m,{label:"負責人",prop:"principal",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.principal,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.principal=e),value:r.form.principal,disabled:""},null,8,["modelValue","value"])])),_:1}),(0,o.Wm)(m,{label:"專案代碼及名稱",prop:"name",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:r.form.name,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.name=e),options:e.options,clearable:"",onChange:n.handleChange,disabled:"",class:"w-full flex-1"},null,8,["modelValue","options","onChange"])])),_:1})]),(0,o._)("div",Na,[(0,o._)("div",Oa,[(0,o._)("div",Ba,[(0,o.Wm)(h,{type:"primary",status:"success",disabled:"",onClick:n.openopenDialogOption},{default:(0,o.w5)((()=>[(0,o.Uk)("目前待辦")])),_:1},8,["onClick"]),(0,o.Wm)(h,{type:"primary",status:"success",disabled:"",onClick:n.openMeetingDialog},{default:(0,o.w5)((()=>[(0,o.Uk)("前次會議記錄")])),_:1},8,["onClick"])]),(0,o.Wm)(c,{plain:"",onClick:n.clearTextarea,disabled:""},{default:(0,o.w5)((()=>[(0,o.Uk)("清空")])),_:1},8,["onClick"]),(0,o.Wm)(h,{type:"primary",disabled:"",onClick:n.send},{default:(0,o.w5)((()=>[(0,o.Uk)("新增")])),_:1},8,["onClick"])]),(0,o.Wm)(w,{type:"textarea",rows:5,placeholder:"請輸入摘要內容",modelValue:r.form.textarea,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.textarea=e),disabled:""},null,8,["modelValue"])]),(0,o._)("div",Ka,[(0,o._)("div",Ia,[(0,o.Wm)(m,{"label-width":"69px",label:"主席",prop:"chairman",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.chairman,"onUpdate:modelValue":t[4]||(t[4]=e=>r.form.chairman=e),value:r.form.chairman,disabled:""},null,8,["modelValue","value"])])),_:1}),(0,o.Wm)(m,{label:"紀錄",prop:"record",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:r.form.record,"onUpdate:modelValue":t[5]||(t[5]=e=>r.form.record=e),value:r.form.record,disabled:""},null,8,["modelValue","value"])])),_:1}),(0,o.Wm)(m,{label:"會議日期",prop:"date",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{placeholder:"請選擇日期",type:"date",modelValue:r.form.date,"onUpdate:modelValue":t[6]||(t[6]=e=>r.form.date=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(m,{label:"會議時間",prop:"time",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{type:"date",modelValue:r.form.time,"onUpdate:modelValue":t[7]||(t[7]=e=>r.form.time=e),"is-range":"","range-separator":"~","start-placeholder":"開始時間","end-placeholder":"結束時間",disabled:""},null,8,["modelValue"])])),_:1})]),(0,o._)("div",Pa,[(0,o.Wm)(m,{label:"會議主題",prop:"theme",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{modelValue:r.form.theme,"onUpdate:modelValue":t[8]||(t[8]=e=>r.form.theme=e),placeholder:"請輸入內容",disabled:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(m,{label:"出席人員",prop:"member",class:"mb-0 flex w-full"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:r.form.member,"onUpdate:modelValue":t[9]||(t[9]=e=>r.form.member=e),value:r.form.member,disabled:""},null,8,["modelValue","value"])])),_:1})]),(0,o.Wm)(m,{label:"客戶提供內容",prop:"accessory",class:"radio_center flex"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{modelValue:r.form.offer,"onUpdate:modelValue":t[12]||(t[12]=e=>r.form.offer=e),class:"justify-star flex items-center",disabled:""},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{label:0,modelValue:r.form.offer,"onUpdate:modelValue":t[10]||(t[10]=e=>r.form.offer=e)},{default:(0,o.w5)((()=>[(0,o.Uk)("否")])),_:1},8,["modelValue"]),(0,o.Wm)(y,{label:1,modelValue:r.form.offer,"onUpdate:modelValue":t[11]||(t[11]=e=>r.form.offer=e)},{default:(0,o.w5)((()=>[(0,o.Uk)("是")])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1}),1===r.form.offer?((0,o.wg)(),(0,o.iD)("div",Fa,[(0,o.Wm)(k,{modelValue:r.form.accessory,"onUpdate:modelValue":t[13]||(t[13]=e=>r.form.accessory=e)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.accessoryList,(e=>((0,o.wg)(),(0,o.j4)(v,{label:e.accessoryLabel,key:e.accessoryLabel,velus:e.accessoryLabel,onChange:t=>n.handleChecked(t,e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.accessoryLabel)+" ",1),(0,o.wy)((0,o.Wm)(w,{class:"w-56",modelValue:e.accessoryNo,"onUpdate:modelValue":t=>e.accessoryNo=t,size:"small",placeholder:"請輸入內容"},null,8,["modelValue","onUpdate:modelValue"]),[[a.F8,"光碟"===e.accessoryLabel||"建材樣品"===e.accessoryLabel]])])),_:2},1032,["label","velus","onChange"])))),128))])),_:1},8,["modelValue"]),(0,o.Wm)(x,{action:"/","auto-upload":!1,multiple:"","default-file-list":r.form.fileList,onChange:n.onChange},null,8,["default-file-list","onChange"])])):(0,o.kq)("",!0)]),(0,o.Wm)(V,{columns:r.columns,data:r.form.detailList,"column-resizable":"",scroll:{x:2e3}},{columns:(0,o.w5)((()=>[(0,o.Wm)(L,{fixed:"left",title:"內容摘要"},{cell:(0,o.w5)((({record:e})=>[!0===e.edit?((0,o.wg)(),(0,o.j4)(w,{key:0,modelValue:e.content,"onUpdate:modelValue":t=>e.content=t,placeholder:"請輸入摘要內容",clearable:""},null,8,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.iD)("span",Aa,(0,s.zw)(e.content),1))])),_:1}),(0,o.Wm)(L,{title:"流水編號"},{cell:(0,o.w5)((({record:e})=>[!0===e.edit?((0,o.wg)(),(0,o.j4)(w,{key:0,modelValue:e.number,"onUpdate:modelValue":t=>e.number=t,placeholder:"請輸入內容",clearable:""},null,8,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.iD)("span",qa,(0,s.zw)(e.number),1))])),_:1}),(0,o.Wm)(L,{title:"結論待辦"},{cell:(0,o.w5)((({record:e})=>[!0===e.edit?((0,o.wg)(),(0,o.iD)("div",Ea,[(0,o.Wm)(D,{modelValue:e.conclusion,"onUpdate:modelValue":t=>e.conclusion=t,class:"w-full flex-1",clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.conclusionOption,(e=>((0,o.wg)(),(0,o.j4)(W,{key:e.id,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])):((0,o.wg)(),(0,o.iD)("div",Za,["結案"===e.conclusion?((0,o.wg)(),(0,o.iD)("span",Ra,(0,s.zw)(e.conclusion),1)):((0,o.wg)(),(0,o.iD)("span",Ja,(0,s.zw)(e.conclusion),1))]))])),_:1}),(0,o.Wm)(L,{title:"專案代碼及名稱"},{cell:(0,o.w5)((({record:t})=>[!0===t.edit?((0,o.wg)(),(0,o.j4)(p,{key:0,modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,options:e.options,clearable:"",onChange:e=>t.name=t.name.slice(1).toString()},null,8,["modelValue","onUpdate:modelValue","options","onChange"])):((0,o.wg)(),(0,o.iD)("span",Ga,(0,s.zw)(t.name),1))])),_:1}),(0,o.Wm)(L,{title:"負責人"},{cell:(0,o.w5)((({record:e})=>[!0===e.edit?((0,o.wg)(),(0,o.j4)(u,{key:0,modelValue:e.principal,"onUpdate:modelValue":t=>e.principal=t,value:e.principal},null,8,["modelValue","onUpdate:modelValue","value"])):((0,o.wg)(),(0,o.iD)("span",Qa,(0,s.zw)(e.principal),1))])),_:1}),(0,o.Wm)(L,{title:"預計日期"},{cell:(0,o.w5)((({record:e})=>[!0===e.edit?((0,o.wg)(),(0,o.j4)(f,{key:0,modelValue:e.date,"onUpdate:modelValue":t=>e.date=t,type:"date",placeholder:"請選擇日期",clearable:"",format:"YYYY/MM/DD","value-format":"YYYY年MM月DD日"},null,8,["modelValue","onUpdate:modelValue"])):((0,o.wg)(),(0,o.iD)("span",Xa,(0,s.zw)(e.date),1))])),_:1}),(0,o.Wm)(L,{title:"相關人員"},{cell:(0,o.w5)((({record:e})=>[!0===e.edit?((0,o.wg)(),(0,o.j4)(u,{key:0,modelValue:e.member,"onUpdate:modelValue":t=>e.member=t,value:e.member},null,8,["modelValue","onUpdate:modelValue","value"])):((0,o.wg)(),(0,o.iD)("span",eo,(0,s.zw)(e.member),1))])),_:1}),(0,o.Wm)(L,{title:"附件"},{cell:(0,o.w5)((({record:e})=>[!0===e.edit?((0,o.wg)(),(0,o.j4)(x,{key:0,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",limit:1},{"upload-button":(0,o.w5)((()=>[(0,o.Wm)(h,{type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("選擇檔案")])),_:1})])),_:1})):((0,o.wg)(),(0,o.iD)("span",to,(0,s.zw)(e.accessory),1))])),_:1})])),_:1},8,["columns","data"])])),_:1},8,["rules","model"])]),(0,o.Wm)(j,{title:r.dialogTitle,visible:r.openDialogOption,"onUpdate:visible":t[14]||(t[14]=e=>r.openDialogOption=e),width:1e3,draggable:"",class:"list_select"},{footer:(0,o.w5)((()=>[(0,o.Wm)(h,{type:"outline",onClick:n.selectMeetingCancelButton},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1},8,["onClick"]),(0,o.Wm)(h,{type:"primary",onClick:n.selectMeetingDoneButton},{default:(0,o.w5)((()=>[(0,o.Uk)("送出")])),_:1},8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Wm)(T,{ref:"filterTable",data:n.tables,"highlight-current-row":"",onCurrentChange:n.handleCurrentChange},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{type:"index",label:"序號",width:"60",align:"center"}),(0,o.Wm)(S,{prop:"date",label:"待辦發生日期",width:"150"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.date)},null,8,lo)])),_:1}),(0,o.Wm)(S,{prop:"meetingList",label:"待辦事項",width:"250"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.meetingList)},null,8,ao)])),_:1}),(0,o.Wm)(S,{prop:"no",label:"流水號編碼",width:"300"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.no)},null,8,oo)])),_:1}),(0,o.Wm)(S,{prop:"status",label:"執行狀態",align:"center"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.status)},null,8,io)])),_:1}),(0,o.Wm)(S,{prop:"name",label:"專案代碼及名稱",width:"250","column-key":"tagKey"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.name)},null,8,ro)])),_:1}),(0,o.Wm)(S,{prop:"principal",label:"負責人"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.principal)},null,8,so)])),_:1}),(0,o.Wm)(S,{prop:"doneDate",label:"預計完成日期",width:"150"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.doneDate)},null,8,no)])),_:1}),(0,o.Wm)(S,{prop:"member",label:"相關人員",width:"250"},{default:(0,o.w5)((e=>[(0,o._)("span",{innerHTML:n.showDate(e.row.member)},null,8,co)])),_:1}),(0,o.Wm)(S,{prop:"accessory",label:"附件",width:"150"})])),_:1},8,["data","onCurrentChange"])])),_:1},8,["title","visible"])])),_:1})}let mo=[{value:"專案",label:"專案"},{value:"例行性會議",label:"例行性會議"},{value:"建築行政",label:"建築行政"},{value:"一般行政",label:"一般行政"}],po=[{pro:"專案",label:"A18002-公共工程投標案"},{pro:"專案",label:"A22003-億集科技例行會議"},{pro:"例行性會議",label:"UD0840-0840早會"},{pro:"例行性會議",label:"UD1330-1330部門會議"},{pro:"建築行政",label:"MYN2B/-製圖準則"},{pro:"建築行政",label:"MYN2D/-室內"},{pro:"一般行政",label:"GYN06/-財務會計"}];var ho={name:"HomeView",components:{breadcrumb:vt,memberListDialog:jt,memberListDialogEven:Bt},data(){return{search:["fg","dfg","dfgh","dfg","fg","dfcv","dfg","fg","fg"],loading:!0,loadingData:0,color:"#673ab7",columns:[{title:"內容摘要",colKey:"content",dataIndex:"content",slotName:"content",fixed:"left",width:140},{title:"流水編號",colKey:"number",dataIndex:"number",slotName:"number"},{title:"結論待辦",colKey:"conclusion",dataIndex:"conclusion",slotName:"conclusion",width:100},{title:"專案代碼及名稱",colKey:"name",dataIndex:"name",slotName:"name"},{title:"負責人",colKey:"principal",dataIndex:"principal",slotName:"principal"},{title:"預計日期",colKey:"date",dataIndex:"date",slotName:"date",width:100},{title:"相關人員",colKey:"member",dataIndex:"member",slotName:"member"},{title:"附件",colKey:"accessory",dataIndex:"accessory",slotName:"accessory",width:150},{title:"狀態",colKey:"edit",dataIndex:"edit",slotName:"edit"},{title:"操作",colKey:"options",slotName:"options",fixed:"right",width:30}],select1:mo,select2:[],conclusionOption:[{id:0,name:"待簽核"},{id:1,name:"已簽核"},{id:2,name:"待辦"}],accessoryList:[{accessoryLabel:"書籍",accessoryNo:""},{accessoryLabel:"文件",accessoryNo:""},{accessoryLabel:"光碟",accessoryNo:""},{accessoryLabel:"物件",accessoryNo:""},{accessoryLabel:"建材樣品",accessoryNo:""}],id:this.$route.params.id,form:{id:0,principal:"王大明",type:"專案",name:"A18002-公共工程投標案",textarea:"",chairman:"李先生",record:"李先生",date:"2021/12/14",time:["2022-10-27T06:42:13.000Z","2022-10-27T07:42:13.000Z"],theme:"會議主題1",member:["王大明","蔡先生","吳先生","張三"],approvals:"未開始",offer:0,accessory:[],fileList:[],detailList:[{id:1,content:"5/11召開會議",number:"aaaa-11234567-234",conclusion:"待辦",name:"A21033-企業辦公大樓興建工程",principal:"王大明",date:"2021/12/14",member:"王大明",accessory:"",edit:!1},{id:2,content:"會議議程:代碼編碼原則確認",number:"aaaa-11234567-234",conclusion:"待辦",name:"A21033-企業辦公大樓興建工程",principal:"王大明",date:"2021/12/14",member:"王大明",accessory:"",edit:!1}]},rules:{principal:[{required:!0,message:"請選擇負責人",trigger:"blur"}],type:[{required:!0,message:"請選擇類型",trigger:"change"}],name:[{required:!0,message:"請書專案名稱",trigger:"blur"}]},dialogTitle:"",openDialogOption:!1,toDoList:[],toDoListSelect:"",index:1,detailList:[],initFileList:[],isIndeterminate:!0,limit:1,checkAll:!1,rowSelection:{type:"radio"}}},created(){this.getApi()},methods:{getinfo(){if(this.$route.query&&this.$route.query.res){let e=JSON.parse(this.$route.query.res);this.form=Object.assign({},e),this.formTitle="編輯",console.log("有值",this.$route.query)}else this.form={id:"",principal:"",type:"",name:[],textarea:"",chairman:"",record:"",date:"",time:"",theme:"",member:[],offer:0,accessory:[],fileList:[],detailList:[]},this.formTitle="新增"},getApi(){function e(){return me.ZP.get("https://run.mocky.io/v3/a960258d-f742-47cd-965a-9ce87dcb35b7")}Promise.all([e()]).then((e=>{this.toDoList=e[0].data.toDoList,this.loadingData=100,this.loading=!1}))},saveButton(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$router.push({path:"/toDoList"})}))},addPriceForm(){this.$swal.fire({title:"存檔完成！",icon:"success",confirmButtonColor:"#0084ff",confirmButtonText:"確定"}).then((e=>{e.isConfirmed&&this.axios.post("http://localhost:3000/meetingList?_sort=id",{id:this.form.id,principal:this.form.principal,type:this.form.type,name:this.form.name,textarea:this.form.textarea,chairman:this.form.chairman,record:this.form.record,date:this.form.date,time:this.form.time,theme:this.form.theme,member:this.form.member,approvals:"未開始",offer:this.form.offer,accessory:this.form.accessory,fileList:this.form.fileList,detailList:this.form.detailList}).then((e=>{this.form.id=e.data.id,this.getApi()})).catch((e=>{console.error("There was an error!",e)}))}))},getRole(e){let t=[];for(var l of(this.form.name=[],po))e===l.pro&&t.push({label:l.label,value:l.label}),this.select2=t},getList(e){this.toDoListSelectSearch=e},handleChange(e){this.toDoListSelectSearch=e.slice(1).toString(),this.form.name=e.slice(1).toString()},handleChange2(e){this.test=e.slice(1).toString(),console.log(e.slice(1).toString()),console.log(this.form.detailList.name,123)},showDate(e){return e+="",-1!==e.indexOf(this.toDoListSelectSearch)&&""!==this.toDoListSelectSearch?e.replace(this.toDoListSelectSearch,'<span style="color: #000; background: gold">'+this.toDoListSelectSearch+"</span>"):e},onChange(e){this.form.fileList=e},send(){this.form.detailList.push({content:this.form.textarea,number:"",conclusion:"待辦",name:"",principal:"",date:"",member:"",accessory:"",edit:!1}),this.form.textarea=""},clearTextarea(){this.$swal.fire({title:"你確定嗎？",text:"摘要內容清空後後將無法復原",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定清空",cancelButtonText:"取消",closeOnConfirm:!1}).then((e=>{e.isConfirmed&&(this.form.textarea="")})).catch((()=>{}))},formatDate(e,t){let l=e[t.property];if(null!=l)return xt()(l).format("YYYY-MM-DD HH:mm:ss")},handleDelete(e){this.$swal.fire({title:"你確定嗎？",text:"資料刪除後將無法復原",icon:"warning",showCancelButton:!0,cancelButtonColor:"#0084ff",confirmButtonColor:"#cccccc",confirmButtonText:"確定刪除",cancelButtonText:"取消",closeOnConfirm:!1}).then((t=>{t.isConfirmed&&this.form.detailList.splice(e,1)})).catch((()=>{}))},handleCellEnter(e){e.edit=!0},handleCellLeave(e){e.edit=!1},editData(e){e.edit=!0},confirmData(e){e.edit=!1,this.$notify({title:"Success",message:"編輯成功",type:"success",duration:2e3})},openopenDialogOption(){this.openDialogOption=!0,this.dialogTitle="目前待辦列表"},openMeetingDialog(){this.openDialogOption=!0,this.dialogTitle="前次會議記錄列表"},handleCurrentChange(e){this.toDoListSelect=e},selectMeetingDoneButton(e){this.form.textarea=this.toDoListSelect.meetingList,this.openDialogOption=!1,this.toDoListSelect="",this.$refs.filterTable.setCurrentRow(e),this.selectDialogFrist=!0},selectMeetingCancelButton(e){this.openDialogOption=!1,this.toDoListSelect="",this.$refs.filterTable.setCurrentRow(e)},handleSelect(e){console.log(e)},handleChecked(e,t){e?this.form.accessory.push(t):this.deleteItem(t.accessoryLabel,this.form.accessory)},deleteItem(e,t){for(var l in t)t[l].accessoryLabel===e&&t.splice(l,1)},beforeRemove(e){return this.$confirm(`確定刪除 ${e.name}？`)}},computed:{tables:function(){const e=this.toDoListSelect;return e?this.toDoList.filter((t=>Object.keys(t).some((l=>String(t[l]).indexOf(e.toUpperCase())>-1)))):this.toDoList}}};const wo=(0,T.Z)(ho,[["render",uo]]);var fo=wo;const go={class:"flex w-full items-center"},bo={class:"relative w-full"},yo={class:"absolute text-red-500",style:{bottom:"-20px"}},_o={class:"flax mb-5 space-x-4"},vo={class:"flex w-full items-center justify-center space-x-2"};function ko(e,t,l,i,r,n){const d=(0,o.up)("a-tag"),c=(0,o.up)("a-button"),u=(0,o.up)("el-table-column"),m=(0,o.up)("el-table"),p=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",go,[(0,o.wy)((0,o._)("div",bo,[(0,o._)("div",{class:(0,s.C_)(["flex h-8 flex-1 items-center space-x-2 rounded border border-gray-200 bg-white px-4 hover:border-gray-300",{inputError:"error"===r.validateState}])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.tags,(e=>((0,o.wg)(),(0,o.j4)(d,{key:e.name,color:"#165dff",class:"rounded",closable:"",onClose:t=>n.handleClose(e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.name),1)])),_:2},1032,["onClose"])))),128)),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.inputValue=e),onKeyup:t[1]||(t[1]=(0,a.D2)(((...e)=>n.handleInputConfirm&&n.handleInputConfirm(...e)),["enter"])),class:"flex-1",onBlur:t[2]||(t[2]=(...e)=>n.handleInputConfirm&&n.handleInputConfirm(...e))},null,544),[[a.F8,!0===l.allowCreate],[a.nr,r.inputValue]])],2),(0,o.wy)((0,o._)("p",yo,"請選擇對象",512),[[a.F8,"error"===r.validateState]])],512),[[a.F8,!0===l.tagsInput]]),(0,o.Wm)(c,{type:l.type,size:l.size,plain:l.plain,circle:l.circle,status:l.status,onClick:n.edit_countersign},{default:(0,o.w5)((()=>[(0,o.Uk)("選擇")])),_:1},8,["type","size","plain","circle","status","onClick"])]),(0,o.Wm)(p,{title:"選擇人員",draggable:"",modelValue:r.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>r.dialogVisible=e),"show-close":!1},{default:(0,o.w5)((()=>[(0,o._)("div",_o,[(0,o.Wm)(m,{ref:"memberTables",data:r.memberList,onSelectionChange:n.select,"row-key":n.getRowKeys},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"selection",width:"50"}),(0,o.Wm)(u,{label:"編號",prop:"id"}),(0,o.Wm)(u,{label:"姓名",prop:"name"}),(0,o.Wm)(u,{label:"部門",prop:"department"})])),_:1},8,["data","onSelectionChange","row-key"])]),(0,o._)("div",vo,[(0,o.Wm)(c,{status:"primary",onClick:n.memberListDialog_Cancel},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1},8,["onClick"]),!0===l.rulesOption?((0,o.wg)(),(0,o.j4)(c,{key:0,type:"primary",onClick:n.memberListDialog_Confirm},{default:(0,o.w5)((()=>[(0,o.Uk)("確定")])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(c,{key:1,type:"primary",onClick:n.memberListDialog_Confirm2},{default:(0,o.w5)((()=>[(0,o.Uk)("確定")])),_:1},8,["onClick"]))])])),_:1},8,["modelValue"])])}function xo(e){return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var Lo={name:"testPage",components:{},props:{status:{type:String,default:null},circle:{type:String,default:null},plain:{type:String,default:null},size:{type:String,default:null},type:{type:String,default:null},allowCreate:{type:Boolean,default:!0},tagsInput:{type:Boolean,default:!0},rulesOption:{type:Boolean,default:!0},tagsValue:{type:Array,default:()=>[]}},data(){return{dialogVisible:!1,tags:this.tagsValue,inputValue:"",memberList:[],selectTags:[],validateState:"success"}},methods:{getApi(){he().then((e=>{this.memberList=e.data}))},select(e){this.selectTags=JSON.parse(JSON.stringify(e)),console.log(this.selectTags)},edit_countersign(){this.dialogVisible=!0,this.$nextTick((()=>{this.$refs.memberTables.clearSelection(),this.tags.forEach((e=>{this.memberList.forEach((t=>{e.id===t.id&&this.$refs.memberTables.toggleRowSelection(t)}))}))}))},memberListDialog_Confirm(){if(this.tags=this.selectTags,this.dialogVisible=!1,0===this.tags.length)this.validateState="error";else{this.validateState="success";const e=this.tags;this.$emit("sand-form",e)}},memberListDialog_Confirm2(){this.tags=this.selectTags,this.dialogVisible=!1;const e=this.tags;this.$emit("sand-form",e)},memberListDialog_Cancel(){this.dialogVisible=!1},handleClose(e){this.tags.splice(this.tags.indexOf(e),1),this.selectTags.splice(this.tags.indexOf(e),1)},handleInputConfirm(){let e=this.inputValue;e&&this.tags.push({name:e,id:xo(8),department:""}),this.inputValue=""},getRowKeys(e){return e.id},test(){this.$nextTick((()=>{this.tags.forEach((e=>{this.memberList.forEach((t=>{e.id===t.id&&this.$refs.memberTables.toggleRowSelection(t,!0)}))}))}))}},mounted(){this.getApi(),this.test()},created(){}};const Wo=(0,T.Z)(Lo,[["render",ko],["__scopeId","data-v-492fb4ec"]]);var Do=Wo;const Vo=[{path:"/",name:"/",component:Rt,meta:{title:"會議記錄系統"},children:[{path:"/",name:"/",meta:{title:"會議記錄系統"},component:ye}]},{path:"/meetingList",name:"meetingList",component:Rt,meta:{title:"會議記錄系統"},children:[{path:"",name:"meetingList",meta:{title:"會議記錄系統"},component:ye},{path:"addMeeting",name:"addMeeting",meta:{title:"會議記錄表-新增"},component:At},{path:"/editMeeting",name:"editMeeting",meta:{title:"會議記錄表-編輯"},component:At,hidden:!0}]},{path:"/toDoList",name:"toDoList",component:Rt,meta:{title:"待辦事項"},children:[{path:"",name:"toDoList",meta:{title:"待辦事項"},component:Ua},{path:"viewMeeting",name:"viewMeeting",meta:{title:"待辦事項"},component:fo}]},{path:"/test",name:"test",component:Rt,meta:{title:"待辦事項"},children:[{path:"",name:"test",meta:{title:"待辦事項"},component:Do}]}],Co=(0,B.p7)({history:(0,B.r5)(),routes:Vo});var So=Co,To=l(65),jo=(0,To.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Uo=l(6423),Mo=l(6553),Ho=l.n(Mo),zo=l(1510),Yo=(l(4415),l(4112)),$o=l(847),No=(l(9072),l(6542)),Oo=l(342),Bo=l(3948),Ko=l(9524),Io=l.n(Ko);const Po={confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"},Fo=(0,No.Z)({components:[Oo.ZP]}),Ao=(0,a.ri)(O);Ao.use(jo),Ao.use(So),Ao.use(Uo.Z,me.ZP),Ao.provide("$axios",me.ZP),Ao.use(Ho(),Po),Ao.use(zo.Z,{locale:Yo.Z}),Ao.use($o.Z),Ao.use(Fo),Ao.config.globalProperties.$moment=xt(),Ao.use(Bo.ZP),Ao.use(Io(),{lang:"zh-CN"}),Ao.mount("#app")},5893:function(){}},t={};function l(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=e,function(){l.amdO={}}(),function(){var e=[];l.O=function(t,a,o,i){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],i=e[c][2];for(var s=!0,n=0;n<a.length;n++)(!1&i||r>=i)&&Object.keys(l.O).every((function(e){return l.O[e](a[n])}))?a.splice(n--,1):(s=!1,i<r&&(r=i));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,o,i]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){l.p=""}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,r=a[0],s=a[1],n=a[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)l.o(s,o)&&(l.m[o]=s[o]);if(n)var c=n(l)}for(t&&t(a);d<r.length;d++)i=r[d],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},a=self["webpackChunkmeetings_vue3"]=self["webpackChunkmeetings_vue3"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(5399)}));a=l.O(a)})();
//# sourceMappingURL=app.7e7fee32.js.map