{"ast":null,"code":"import { h, defineComponent, inject, computed } from 'vue';\nimport { NDropdown } from '../../../dropdown';\nimport { NBaseIcon } from '../../../_internal';\nimport { ChevronDownIcon } from '../../../_internal/icons';\nimport { dataTableInjectionKey } from '../interface';\nconst allKey = '_n_all__';\nconst noneKey = '_n_none__';\nfunction createSelectHandler(options, rawPaginatedDataRef, doCheckAll, doUncheckAll) {\n  if (!options) return () => {};\n  return key => {\n    for (const option of options) {\n      switch (key) {\n        case allKey:\n          doCheckAll(true);\n          return;\n        case noneKey:\n          doUncheckAll(true);\n          return;\n        default:\n          if (typeof option === 'object' && option.key === key) {\n            option.onSelect(rawPaginatedDataRef.value);\n            return;\n          }\n      }\n    }\n  };\n}\nfunction createDropdownOptions(options, localeRef) {\n  if (!options) return [];\n  return options.map(option => {\n    switch (option) {\n      case 'all':\n        return {\n          label: localeRef.checkTableAll,\n          key: allKey\n        };\n      case 'none':\n        return {\n          label: localeRef.uncheckTableAll,\n          key: noneKey\n        };\n      default:\n        return option;\n    }\n  });\n}\nexport default defineComponent({\n  name: 'DataTableSelectionMenu',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      props: dataTableProps,\n      localeRef,\n      checkOptionsRef,\n      rawPaginatedDataRef,\n      doCheckAll,\n      doUncheckAll\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const handleSelectRef = computed(() => createSelectHandler(checkOptionsRef.value, rawPaginatedDataRef, doCheckAll, doUncheckAll));\n    const optionsRef = computed(() => createDropdownOptions(checkOptionsRef.value, localeRef.value));\n    return () => {\n      var _a, _b, _c, _d;\n      const {\n        clsPrefix\n      } = props;\n      return h(NDropdown, {\n        theme: (_b = (_a = dataTableProps.theme) === null || _a === void 0 ? void 0 : _a.peers) === null || _b === void 0 ? void 0 : _b.Dropdown,\n        themeOverrides: (_d = (_c = dataTableProps.themeOverrides) === null || _c === void 0 ? void 0 : _c.peers) === null || _d === void 0 ? void 0 : _d.Dropdown,\n        options: optionsRef.value,\n        onSelect: handleSelectRef.value\n      }, {\n        default: () => h(NBaseIcon, {\n          clsPrefix: clsPrefix,\n          class: `${clsPrefix}-data-table-check-extra`\n        }, {\n          default: () => h(ChevronDownIcon, null)\n        })\n      });\n    };\n  }\n});","map":{"version":3,"names":["h","defineComponent","inject","computed","NDropdown","NBaseIcon","ChevronDownIcon","dataTableInjectionKey","allKey","noneKey","createSelectHandler","options","rawPaginatedDataRef","doCheckAll","doUncheckAll","key","option","onSelect","value","createDropdownOptions","localeRef","map","label","checkTableAll","uncheckTableAll","name","props","clsPrefix","type","String","required","setup","dataTableProps","checkOptionsRef","handleSelectRef","optionsRef","_a","_b","_c","_d","theme","peers","Dropdown","themeOverrides","default","class"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/data-table/src/TableParts/SelectionMenu.js"],"sourcesContent":["import { h, defineComponent, inject, computed } from 'vue';\nimport { NDropdown } from '../../../dropdown';\nimport { NBaseIcon } from '../../../_internal';\nimport { ChevronDownIcon } from '../../../_internal/icons';\nimport { dataTableInjectionKey } from '../interface';\nconst allKey = '_n_all__';\nconst noneKey = '_n_none__';\nfunction createSelectHandler(options, rawPaginatedDataRef, doCheckAll, doUncheckAll) {\n    if (!options)\n        return () => { };\n    return (key) => {\n        for (const option of options) {\n            switch (key) {\n                case allKey:\n                    doCheckAll(true);\n                    return;\n                case noneKey:\n                    doUncheckAll(true);\n                    return;\n                default:\n                    if (typeof option === 'object' && option.key === key) {\n                        option.onSelect(rawPaginatedDataRef.value);\n                        return;\n                    }\n            }\n        }\n    };\n}\nfunction createDropdownOptions(options, localeRef) {\n    if (!options)\n        return [];\n    return options.map((option) => {\n        switch (option) {\n            case 'all':\n                return {\n                    label: localeRef.checkTableAll,\n                    key: allKey\n                };\n            case 'none':\n                return {\n                    label: localeRef.uncheckTableAll,\n                    key: noneKey\n                };\n            default:\n                return option;\n        }\n    });\n}\nexport default defineComponent({\n    name: 'DataTableSelectionMenu',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        }\n    },\n    setup(props) {\n        const { props: dataTableProps, localeRef, checkOptionsRef, rawPaginatedDataRef, doCheckAll, doUncheckAll\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(dataTableInjectionKey);\n        const handleSelectRef = computed(() => createSelectHandler(checkOptionsRef.value, rawPaginatedDataRef, doCheckAll, doUncheckAll));\n        const optionsRef = computed(() => createDropdownOptions(checkOptionsRef.value, localeRef.value));\n        return () => {\n            var _a, _b, _c, _d;\n            const { clsPrefix } = props;\n            return (h(NDropdown, { theme: (_b = (_a = dataTableProps.theme) === null || _a === void 0 ? void 0 : _a.peers) === null || _b === void 0 ? void 0 : _b.Dropdown, themeOverrides: (_d = (_c = dataTableProps.themeOverrides) === null || _c === void 0 ? void 0 : _c.peers) === null || _d === void 0 ? void 0 : _d.Dropdown, options: optionsRef.value, onSelect: handleSelectRef.value }, {\n                default: () => (h(NBaseIcon, { clsPrefix: clsPrefix, class: `${clsPrefix}-data-table-check-extra` }, {\n                    default: () => h(ChevronDownIcon, null)\n                }))\n            }));\n        };\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}