{"ast":null,"code":"import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n  name: 'HueSlider',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    hue: {\n      type: Number,\n      required: true\n    },\n    onUpdateHue: {\n      type: Function,\n      required: true\n    },\n    onComplete: Function\n  },\n  setup(props) {\n    const railRef = ref(null);\n    function handleMouseDown(e) {\n      if (!railRef.value) return;\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n      handleMouseMove(e);\n    }\n    function handleMouseMove(e) {\n      const {\n        value: railEl\n      } = railRef;\n      if (!railEl) return;\n      const {\n        width,\n        left\n      } = railEl.getBoundingClientRect();\n      const newHue = normalizeHue((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM) * 360);\n      props.onUpdateHue(newHue);\n    }\n    function handleMouseUp() {\n      var _a;\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n    return {\n      railRef,\n      handleMouseDown\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-slider`,\n      style: {\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS\n      }\n    }, h(\"div\", {\n      ref: \"railRef\",\n      style: {\n        boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n        boxSizing: 'border-box',\n        backgroundImage: GRADIENT,\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS,\n        position: 'relative'\n      },\n      onMousedown: this.handleMouseDown\n    }, h(\"div\", {\n      style: {\n        position: 'absolute',\n        left: RADIUS,\n        right: RADIUS,\n        top: 0,\n        bottom: 0\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle`,\n      style: {\n        left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle__fill`,\n      style: {\n        backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    })))));\n  }\n});","map":{"version":3,"names":["defineComponent","h","ref","off","on","normalizeHue","HANDLE_SIZE","HANDLE_SIZE_NUM","RADIUS","RADIUS_NUM","GRADIENT","name","props","clsPrefix","type","String","required","hue","Number","onUpdateHue","Function","onComplete","setup","railRef","handleMouseDown","e","value","document","handleMouseMove","handleMouseUp","railEl","width","left","getBoundingClientRect","newHue","clientX","_a","call","render","class","style","height","borderRadius","boxShadow","boxSizing","backgroundImage","position","onMousedown","right","top","bottom","backgroundColor"],"sources":["/Users/elmo/GitHub/meetings_vue3/node_modules/naive-ui/es/color-picker/src/HueSlider.js"],"sourcesContent":["import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n    name: 'HueSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        hue: {\n            type: Number,\n            required: true\n        },\n        onUpdateHue: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newHue = normalizeHue(((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM)) * 360);\n            props.onUpdateHue(newHue);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            } },\n            h(\"div\", { ref: \"railRef\", style: {\n                    boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n                    boxSizing: 'border-box',\n                    backgroundImage: GRADIENT,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    position: 'relative'\n                }, onMousedown: this.handleMouseDown },\n                h(\"div\", { style: {\n                        position: 'absolute',\n                        left: RADIUS,\n                        right: RADIUS,\n                        top: 0,\n                        bottom: 0\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                            left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } },\n                        h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                                backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n                                borderRadius: RADIUS,\n                                width: HANDLE_SIZE,\n                                height: HANDLE_SIZE\n                            } }))))));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}