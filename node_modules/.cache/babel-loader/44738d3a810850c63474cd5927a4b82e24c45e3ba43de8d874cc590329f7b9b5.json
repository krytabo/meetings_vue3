{"ast":null,"code":"import { h, toRef, ref, inject, defineComponent, watch } from 'vue';\nimport { useMemo } from 'vooks';\nimport { useInjectionCollection, useInjectionElementCollection } from '../../_utils/composable';\nimport { createInjectionKey, getTitleAttribute } from '../../_utils';\nexport const anchorInjectionKey = createInjectionKey('n-anchor');\nexport const anchorLinkProps = {\n  title: String,\n  href: String\n};\nexport default defineComponent({\n  name: 'AnchorLink',\n  props: anchorLinkProps,\n  setup(props, {\n    slots\n  }) {\n    const titleRef = ref(null);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NAnchor = inject(anchorInjectionKey);\n    const hrefRef = toRef(props, 'href');\n    const activeRef = useMemo(() => {\n      return hrefRef.value && hrefRef.value === NAnchor.activeHref.value;\n    });\n    useInjectionCollection(anchorInjectionKey, 'collectedLinkHrefs', hrefRef);\n    useInjectionElementCollection(anchorInjectionKey, 'titleEls', () => titleRef.value);\n    watch(activeRef, value => {\n      if (value && titleRef.value) {\n        NAnchor.updateBarPosition(titleRef.value);\n      }\n    });\n    function handleClick() {\n      if (props.href !== undefined) {\n        NAnchor.setActiveHref(props.href);\n      }\n    }\n    return () => {\n      var _a;\n      const {\n        value: mergedClsPrefix\n      } = NAnchor.mergedClsPrefix;\n      return h(\"div\", {\n        class: [`${mergedClsPrefix}-anchor-link`, activeRef.value && `${mergedClsPrefix}-anchor-link--active`]\n      }, h(\"a\", {\n        ref: titleRef,\n        class: [`${mergedClsPrefix}-anchor-link__title`],\n        href: props.href,\n        title: getTitleAttribute(props.title),\n        onClick: handleClick\n      }, props.title), (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots));\n    };\n  }\n});","map":{"version":3,"names":["h","toRef","ref","inject","defineComponent","watch","useMemo","useInjectionCollection","useInjectionElementCollection","createInjectionKey","getTitleAttribute","anchorInjectionKey","anchorLinkProps","title","String","href","name","props","setup","slots","titleRef","NAnchor","hrefRef","activeRef","value","activeHref","updateBarPosition","handleClick","undefined","setActiveHref","_a","mergedClsPrefix","class","onClick","default","call"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/anchor/src/Link.js"],"sourcesContent":["import { h, toRef, ref, inject, defineComponent, watch } from 'vue';\nimport { useMemo } from 'vooks';\nimport { useInjectionCollection, useInjectionElementCollection } from '../../_utils/composable';\nimport { createInjectionKey, getTitleAttribute } from '../../_utils';\nexport const anchorInjectionKey = createInjectionKey('n-anchor');\nexport const anchorLinkProps = {\n    title: String,\n    href: String\n};\nexport default defineComponent({\n    name: 'AnchorLink',\n    props: anchorLinkProps,\n    setup(props, { slots }) {\n        const titleRef = ref(null);\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NAnchor = inject(anchorInjectionKey);\n        const hrefRef = toRef(props, 'href');\n        const activeRef = useMemo(() => {\n            return hrefRef.value && hrefRef.value === NAnchor.activeHref.value;\n        });\n        useInjectionCollection(anchorInjectionKey, 'collectedLinkHrefs', hrefRef);\n        useInjectionElementCollection(anchorInjectionKey, 'titleEls', () => titleRef.value);\n        watch(activeRef, (value) => {\n            if (value && titleRef.value) {\n                NAnchor.updateBarPosition(titleRef.value);\n            }\n        });\n        function handleClick() {\n            if (props.href !== undefined) {\n                NAnchor.setActiveHref(props.href);\n            }\n        }\n        return () => {\n            var _a;\n            const { value: mergedClsPrefix } = NAnchor.mergedClsPrefix;\n            return (h(\"div\", { class: [\n                    `${mergedClsPrefix}-anchor-link`,\n                    activeRef.value && `${mergedClsPrefix}-anchor-link--active`\n                ] },\n                h(\"a\", { ref: titleRef, class: [`${mergedClsPrefix}-anchor-link__title`], href: props.href, title: getTitleAttribute(props.title), onClick: handleClick }, props.title), (_a = slots.default) === null || _a === void 0 ? void 0 :\n                _a.call(slots)));\n        };\n    }\n});\n"],"mappings":"AAAA,SAASA,CAAC,EAAEC,KAAK,EAAEC,GAAG,EAAEC,MAAM,EAAEC,eAAe,EAAEC,KAAK,QAAQ,KAAK;AACnE,SAASC,OAAO,QAAQ,OAAO;AAC/B,SAASC,sBAAsB,EAAEC,6BAA6B,QAAQ,yBAAyB;AAC/F,SAASC,kBAAkB,EAAEC,iBAAiB,QAAQ,cAAc;AACpE,OAAO,MAAMC,kBAAkB,GAAGF,kBAAkB,CAAC,UAAU,CAAC;AAChE,OAAO,MAAMG,eAAe,GAAG;EAC3BC,KAAK,EAAEC,MAAM;EACbC,IAAI,EAAED;AACV,CAAC;AACD,eAAeV,eAAe,CAAC;EAC3BY,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAEL,eAAe;EACtBM,KAAK,CAACD,KAAK,EAAE;IAAEE;EAAM,CAAC,EAAE;IACpB,MAAMC,QAAQ,GAAGlB,GAAG,CAAC,IAAI,CAAC;IAC1B;IACA,MAAMmB,OAAO,GAAGlB,MAAM,CAACQ,kBAAkB,CAAC;IAC1C,MAAMW,OAAO,GAAGrB,KAAK,CAACgB,KAAK,EAAE,MAAM,CAAC;IACpC,MAAMM,SAAS,GAAGjB,OAAO,CAAC,MAAM;MAC5B,OAAOgB,OAAO,CAACE,KAAK,IAAIF,OAAO,CAACE,KAAK,KAAKH,OAAO,CAACI,UAAU,CAACD,KAAK;IACtE,CAAC,CAAC;IACFjB,sBAAsB,CAACI,kBAAkB,EAAE,oBAAoB,EAAEW,OAAO,CAAC;IACzEd,6BAA6B,CAACG,kBAAkB,EAAE,UAAU,EAAE,MAAMS,QAAQ,CAACI,KAAK,CAAC;IACnFnB,KAAK,CAACkB,SAAS,EAAGC,KAAK,IAAK;MACxB,IAAIA,KAAK,IAAIJ,QAAQ,CAACI,KAAK,EAAE;QACzBH,OAAO,CAACK,iBAAiB,CAACN,QAAQ,CAACI,KAAK,CAAC;MAC7C;IACJ,CAAC,CAAC;IACF,SAASG,WAAW,GAAG;MACnB,IAAIV,KAAK,CAACF,IAAI,KAAKa,SAAS,EAAE;QAC1BP,OAAO,CAACQ,aAAa,CAACZ,KAAK,CAACF,IAAI,CAAC;MACrC;IACJ;IACA,OAAO,MAAM;MACT,IAAIe,EAAE;MACN,MAAM;QAAEN,KAAK,EAAEO;MAAgB,CAAC,GAAGV,OAAO,CAACU,eAAe;MAC1D,OAAQ/B,CAAC,CAAC,KAAK,EAAE;QAAEgC,KAAK,EAAE,CACjB,GAAED,eAAgB,cAAa,EAChCR,SAAS,CAACC,KAAK,IAAK,GAAEO,eAAgB,sBAAqB;MAC7D,CAAC,EACH/B,CAAC,CAAC,GAAG,EAAE;QAAEE,GAAG,EAAEkB,QAAQ;QAAEY,KAAK,EAAE,CAAE,GAAED,eAAgB,qBAAoB,CAAC;QAAEhB,IAAI,EAAEE,KAAK,CAACF,IAAI;QAAEF,KAAK,EAAEH,iBAAiB,CAACO,KAAK,CAACJ,KAAK,CAAC;QAAEoB,OAAO,EAAEN;MAAY,CAAC,EAAEV,KAAK,CAACJ,KAAK,CAAC,EAAE,CAACiB,EAAE,GAAGX,KAAK,CAACe,OAAO,MAAM,IAAI,IAAIJ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAChOA,EAAE,CAACK,IAAI,CAAChB,KAAK,CAAC,CAAC;IACvB,CAAC;EACL;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}