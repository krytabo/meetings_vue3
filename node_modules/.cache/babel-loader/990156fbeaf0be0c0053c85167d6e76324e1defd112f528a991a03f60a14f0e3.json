{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, vModelText as _vModelText, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex\"\n};\nconst _hoisted_2 = {\n  class: \"flex space-x-2 rounded bg-white px-4 py-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_tag = _resolveComponent(\"a-tag\");\n  const _component_memberDialog = _resolveComponent(\"memberDialog\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createTextVNode(_toDisplayString($data.tags) + \" \", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_a_button, {\n    onClick: $options.edit_countersign\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"選擇\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\"<el-tag v-for=\\\"tag in tags\\\" :key=\\\"tag.name\\\" closable :type=\\\"tag.type\\\" @close=\\\"handleClose(tag)\\\">\\n      {{ tag.name }}\\n    </el-tag>\"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tags, tag => {\n    return _openBlock(), _createBlock(_component_a_tag, {\n      key: tag.name,\n      color: \"#165dff\",\n      class: \"rounded\",\n      closable: \"\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(tag.name), 1 /* TEXT */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */);\n  }), 128 /* KEYED_FRAGMENT */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.inputValue = $event),\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => $options.handleInputConfirm && $options.handleInputConfirm(...args), [\"enter\"])),\n    class: \"flex-1\"\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $data.inputValue]])])]), _createVNode(_component_memberDialog, {\n    modelValue: $data.dialogVisible,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.dialogVisible = $event),\n    onResetPopupData: $options.memberListDialog_Cancel,\n    onSubmitPopupData: $options.memberListDialog_Confirm,\n    onSelectedUser: _ctx.selectedUser\n  }, null, 8 /* PROPS */, [\"modelValue\", \"onResetPopupData\", \"onSubmitPopupData\", \"onSelectedUser\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EAGOA,KAAK,EAAC;AAAM;;EAEVA,KAAK,EAAC;AAA2C;;;;;+FAJrDC,UAAI,IAAG,GAEV,qCAUM,OAVNC,UAUM,GATJC,aAAiDC;IAAtCC,OAAK,EAAEC;EAAgB;sBAAE,MAAE,kBAAF,IAAE;;kCACtCC,oBAOM,OAPNC,UAOM,GANJC,oKAEU,qBAEVC,oBAA0GC,6BAArFV,UAAI,EAAXW,GAAG;yBAAjBC,aAA0GC;MAA9EC,GAAG,EAAEH,GAAG,CAACI,IAAI;MAAEC,KAAK,EAAC,SAAS;MAACjB,KAAK,EAAC,SAAS;MAACkB,QAAQ,EAAR;;wBAAS,MAAc,mCAAXN,GAAG,CAACI,IAAI;;;;kDAC/FT,oBAA+E;+DAA/DN,gBAAU;IAAGkB,OAAK,mDAAQb,mEAAkB;IAAEN,KAAK,EAAC;iEAApDC,gBAAU,SAG9BE,aAAyKiB;gBAAlJnB,mBAAa;+DAAbA,mBAAa;IAAGoB,gBAAc,EAAEf,gCAAuB;IAAGgB,iBAAe,EAAEhB,iCAAwB;IAAGiB,cAAa,EAAEC","names":["class","$data","_hoisted_1","_createVNode","_component_a_button","onClick","$options","_createElementVNode","_hoisted_2","_createCommentVNode","_createElementBlock","_Fragment","tag","_createBlock","_component_a_tag","key","name","color","closable","onKeyup","_component_memberDialog","onResetPopupData","onSubmitPopupData","onSelectedUser","_ctx"],"sourceRoot":"","sources":["/Users/elmo/Documents/GitHub/meetings_vue3/src/views/test.vue"],"sourcesContent":["<template>\n  {{ tags }}\n\n  <div class=\"flex\">\n    <a-button @click=\"edit_countersign\">選擇</a-button>\n    <div class=\"flex space-x-2 rounded bg-white px-4 py-2\">\n      <!--<el-tag v-for=\"tag in tags\" :key=\"tag.name\" closable :type=\"tag.type\" @close=\"handleClose(tag)\">\n      {{ tag.name }}\n    </el-tag>-->\n\n      <a-tag v-for=\"tag in tags\" :key=\"tag.name\" color=\"#165dff\" class=\"rounded\" closable>{{ tag.name }}</a-tag>\n      <input v-model=\"inputValue\" @keyup.enter=\"handleInputConfirm\" class=\"flex-1\" />\n    </div>\n  </div>\n  <memberDialog v-model=\"dialogVisible\" @resetPopupData=\"memberListDialog_Cancel\" @submitPopupData=\"memberListDialog_Confirm\" @selected-user=\"selectedUser\"></memberDialog>\n</template>\n\n<script>\nimport { GenNonDuplicateID } from \"@/common/until\";\nimport memberDialog from \"@/components/memberDialog\";\nimport { userList } from \"@/views/config/api\";\nexport default {\n  name: \"testPage\",\n  components: {\n    memberDialog,\n  },\n  data() {\n    return {\n      dialogVisible: false,\n      tags: [\n        {\n          id: \"t0095\",\n          department: \"建一部\",\n          name: \"王大明\",\n        },\n        {\n          id: \"t0096\",\n          department: \"建二部\",\n          name: \"蔡先生\",\n        },\n        {\n          id: \"t0097\",\n          department: \"建三部\",\n          name: \"吳先生\",\n        },\n        {\n          id: \"t0098\",\n          department: \"建四部\",\n          name: \"張三\",\n        },\n      ],\n      inputValue: \"\",\n      memberList: [],\n    };\n  },\n  methods: {\n    // 獲取API\n    getApi() {\n      userList().then((res) => {\n        this.memberList = res.data;\n      });\n    },\n    // 會辦畫面選擇對象\n    select(val) {\n      this.editForm.countersign = val;\n    },\n    //開啟會辦選擇視窗\n    edit_countersign() {\n      this.dialogVisible = true;\n      // this.tags = JSON.parse(JSON.stringify(row));\n      // this.editForm = row;\n\n      // el-table的checkbox預設勾選\n      this.$nextTick(() => {\n        this.tags.forEach((item) => {\n          this.memberList.forEach((subItem) => {\n            if (item.id === subItem.id) {\n              this.$refs.multipleTables.toggleRowSelection(subItem, true);\n            }\n          });\n        });\n      });\n    },\n    // 送出確定會辦人員\n    memberListDialog_Confirm() {\n      let id = this.editForm.id;\n      let obj = this.editForm;\n      this.axios\n        .patch(\"http://localhost:3000/meetingList/\" + `${id}`, obj)\n        .then((response) => {\n          this.editForm.id = response.data.id;\n          this.getApi();\n          this.dialogVisible = false;\n        })\n        .catch((error) => {\n          console.error(\"There was an error!\", error);\n        });\n    },\n    //取消\n    memberListDialog_Cancel() {\n      this.dialogVisible = false;\n      this.$nextTick(() => {\n        this.editForm.countersign.forEach((item) => {\n          this.$refs.multipleTables.toggleRowSelection(item, false);\n        });\n      });\n    },\n\n    handleClose(tag) {\n      this.tags.splice(this.tags.indexOf(tag), 1);\n    },\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.tags.push({\n          name: inputValue,\n          id: GenNonDuplicateID(8),\n          department: \"\",\n        });\n      }\n      this.inputValue = \"\";\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}