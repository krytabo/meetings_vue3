{"ast":null,"code":"import { h, defineComponent, Transition, withDirectives, ref } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { getPreciseEventTarget } from 'seemly';\nimport MonthPanel from './month';\nexport default defineComponent({\n  props: {\n    mergedClsPrefix: {\n      type: String,\n      required: true\n    },\n    value: Number,\n    monthBeforeYear: {\n      type: Boolean,\n      required: true\n    },\n    calendarMonth: {\n      type: String,\n      required: true\n    },\n    calendarYear: {\n      type: String,\n      required: true\n    },\n    onUpdateValue: {\n      type: Function,\n      required: true\n    }\n  },\n  setup() {\n    const triggerRef = ref(null);\n    const monthPanelRef = ref(null);\n    const showRef = ref(false);\n    function handleClickOutside(e) {\n      var _a;\n      if (showRef.value && !((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e)))) {\n        showRef.value = false;\n      }\n    }\n    function handleHeaderClick() {\n      showRef.value = !showRef.value;\n    }\n    return {\n      show: showRef,\n      triggerRef,\n      monthPanelRef,\n      handleHeaderClick,\n      handleClickOutside\n    };\n  },\n  render() {\n    const {\n      handleClickOutside,\n      mergedClsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${mergedClsPrefix}-date-panel-month__month-year`,\n      ref: \"triggerRef\"\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(\"div\", {\n          class: [`${mergedClsPrefix}-date-panel-month__text`, this.show && `${mergedClsPrefix}-date-panel-month__text--active`],\n          onClick: this.handleHeaderClick\n        }, this.monthBeforeYear ? [this.calendarMonth, ' ', this.calendarYear] : [this.calendarYear, ' ', this.calendarMonth])\n      }), h(VFollower, {\n        show: this.show,\n        teleportDisabled: true\n      }, {\n        default: () => h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          appear: true\n        }, {\n          default: () => this.show ? withDirectives(h(MonthPanel, {\n            ref: \"monthPanelRef\",\n            onUpdateValue: this.onUpdateValue,\n            actions: [],\n            // month and year click show month type\n            type: \"month\",\n            key: \"month\",\n            useAsQuickJump: true,\n            value: this.value\n          }), [[clickoutside, handleClickOutside, undefined, {\n            capture: true\n          }]]) : null\n        })\n      })]\n    }));\n  }\n});","map":{"version":3,"names":["h","defineComponent","Transition","withDirectives","ref","VBinder","VTarget","VFollower","clickoutside","getPreciseEventTarget","MonthPanel","props","mergedClsPrefix","type","String","required","value","Number","monthBeforeYear","Boolean","calendarMonth","calendarYear","onUpdateValue","Function","setup","triggerRef","monthPanelRef","showRef","handleClickOutside","e","_a","contains","handleHeaderClick","show","render","class","default","onClick","teleportDisabled","name","appear","actions","key","useAsQuickJump","undefined","capture"],"sources":["/Users/elmo/GitHub/meetings_vue3/node_modules/naive-ui/es/date-picker/src/panel/panelHeader.js"],"sourcesContent":["import { h, defineComponent, Transition, withDirectives, ref } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { getPreciseEventTarget } from 'seemly';\nimport MonthPanel from './month';\nexport default defineComponent({\n    props: {\n        mergedClsPrefix: {\n            type: String,\n            required: true\n        },\n        value: Number,\n        monthBeforeYear: {\n            type: Boolean,\n            required: true\n        },\n        calendarMonth: {\n            type: String,\n            required: true\n        },\n        calendarYear: {\n            type: String,\n            required: true\n        },\n        onUpdateValue: {\n            type: Function,\n            required: true\n        }\n    },\n    setup() {\n        const triggerRef = ref(null);\n        const monthPanelRef = ref(null);\n        const showRef = ref(false);\n        function handleClickOutside(e) {\n            var _a;\n            if (showRef.value &&\n                !((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e)))) {\n                showRef.value = false;\n            }\n        }\n        function handleHeaderClick() {\n            showRef.value = !showRef.value;\n        }\n        return {\n            show: showRef,\n            triggerRef,\n            monthPanelRef,\n            handleHeaderClick,\n            handleClickOutside\n        };\n    },\n    render() {\n        const { handleClickOutside, mergedClsPrefix } = this;\n        return (h(\"div\", { class: `${mergedClsPrefix}-date-panel-month__month-year`, ref: \"triggerRef\" },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(\"div\", { class: [\n                                `${mergedClsPrefix}-date-panel-month__text`,\n                                this.show &&\n                                    `${mergedClsPrefix}-date-panel-month__text--active`\n                            ], onClick: this.handleHeaderClick }, this.monthBeforeYear\n                            ? [this.calendarMonth, ' ', this.calendarYear]\n                            : [this.calendarYear, ' ', this.calendarMonth]))\n                    }),\n                    h(VFollower, { show: this.show, teleportDisabled: true }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: true }, {\n                            default: () => this.show\n                                ? withDirectives(h(MonthPanel, { ref: \"monthPanelRef\", onUpdateValue: this.onUpdateValue, actions: [], \n                                    // month and year click show month type\n                                    type: \"month\", key: \"month\", useAsQuickJump: true, value: this.value }), [\n                                    [\n                                        clickoutside,\n                                        handleClickOutside,\n                                        undefined,\n                                        { capture: true }\n                                    ]\n                                ])\n                                : null\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}