{"ast":null,"code":"import { h, ref, defineComponent, inject, Transition, withDirectives } from 'vue';\nimport { clickoutside } from 'vdirs';\nimport FocusDetector from '../../_internal/focus-detector';\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from '../../_utils';\nimport { NEmpty } from '../../empty';\nimport { NBaseMenuMask } from '../../_internal';\nimport NCascaderSubmenu from './CascaderSubmenu';\nimport { cascaderInjectionKey } from './interface';\nexport default defineComponent({\n  name: 'NCascaderMenu',\n  props: {\n    value: [String, Number, Array],\n    placement: {\n      type: String,\n      default: 'bottom-start'\n    },\n    show: Boolean,\n    menuModel: {\n      type: Array,\n      required: true\n    },\n    loading: Boolean,\n    onFocus: {\n      type: Function,\n      required: true\n    },\n    onBlur: {\n      type: Function,\n      required: true\n    },\n    onKeydown: {\n      type: Function,\n      required: true\n    },\n    onMousedown: {\n      type: Function,\n      required: true\n    },\n    onTabout: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      localeRef,\n      isMountedRef,\n      mergedClsPrefixRef,\n      syncCascaderMenuPosition,\n      handleCascaderMenuClickOutside,\n      mergedThemeRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(cascaderInjectionKey);\n    const submenuInstRefs = [];\n    const maskInstRef = ref(null);\n    const selfElRef = ref(null);\n    function handleResize() {\n      syncCascaderMenuPosition();\n    }\n    useOnResize(selfElRef, handleResize);\n    function showErrorMessage(label) {\n      var _a;\n      const {\n        value: {\n          loadingRequiredMessage\n        }\n      } = localeRef;\n      (_a = maskInstRef.value) === null || _a === void 0 ? void 0 : _a.showOnce(loadingRequiredMessage(label));\n    }\n    function handleClickOutside(e) {\n      handleCascaderMenuClickOutside(e);\n    }\n    function handleFocusin(e) {\n      const {\n        value: selfEl\n      } = selfElRef;\n      if (!selfEl) return;\n      if (!selfEl.contains(e.relatedTarget)) {\n        props.onFocus(e);\n      }\n    }\n    function handleFocusout(e) {\n      const {\n        value: selfEl\n      } = selfElRef;\n      if (!selfEl) return;\n      if (!selfEl.contains(e.relatedTarget)) {\n        props.onBlur(e);\n      }\n    }\n    const exposedRef = {\n      scroll(depth, index, elSize) {\n        const submenuInst = submenuInstRefs[depth];\n        if (submenuInst) {\n          submenuInst.scroll(index, elSize);\n        }\n      },\n      showErrorMessage\n    };\n    return Object.assign({\n      isMounted: isMountedRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      selfElRef,\n      submenuInstRefs,\n      maskInstRef,\n      mergedTheme: mergedThemeRef,\n      handleFocusin,\n      handleFocusout,\n      handleClickOutside\n    }, exposedRef);\n  },\n  render() {\n    const {\n      submenuInstRefs,\n      mergedClsPrefix,\n      mergedTheme\n    } = this;\n    return h(Transition, {\n      name: \"fade-in-scale-up-transition\",\n      appear: this.isMounted\n    }, {\n      default: () => {\n        if (!this.show) return null;\n        return withDirectives(h(\"div\", {\n          tabindex: \"0\",\n          ref: \"selfElRef\",\n          class: `${mergedClsPrefix}-cascader-menu`,\n          onMousedown: this.onMousedown,\n          onFocusin: this.handleFocusin,\n          onFocusout: this.handleFocusout,\n          onKeydown: this.onKeydown\n        }, this.menuModel[0].length ? h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-submenu-wrapper`\n        }, this.menuModel.map((submenuOptions, index) => h(NCascaderSubmenu, {\n          ref: instance => {\n            if (instance) {\n              submenuInstRefs[index] = instance;\n            }\n          },\n          key: index,\n          tmNodes: submenuOptions,\n          depth: index + 1\n        })), h(NBaseMenuMask, {\n          clsPrefix: mergedClsPrefix,\n          ref: \"maskInstRef\"\n        })) : h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-menu__empty`\n        }, resolveSlot(this.$slots.empty, () => [h(NEmpty, {\n          theme: mergedTheme.peers.Empty,\n          themeOverrides: mergedTheme.peerOverrides.Empty\n        })])), resolveWrappedSlot(this.$slots.action, children => children && h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-menu-action`,\n          \"data-action\": true\n        }, children)), h(FocusDetector, {\n          onFocus: this.onTabout\n        })), [[clickoutside, this.handleClickOutside, undefined, {\n          capture: true\n        }]]);\n      }\n    });\n  }\n});","map":{"version":3,"names":["h","ref","defineComponent","inject","Transition","withDirectives","clickoutside","FocusDetector","resolveSlot","resolveWrappedSlot","useOnResize","NEmpty","NBaseMenuMask","NCascaderSubmenu","cascaderInjectionKey","name","props","value","String","Number","Array","placement","type","default","show","Boolean","menuModel","required","loading","onFocus","Function","onBlur","onKeydown","onMousedown","onTabout","setup","localeRef","isMountedRef","mergedClsPrefixRef","syncCascaderMenuPosition","handleCascaderMenuClickOutside","mergedThemeRef","submenuInstRefs","maskInstRef","selfElRef","handleResize","showErrorMessage","label","_a","loadingRequiredMessage","showOnce","handleClickOutside","e","handleFocusin","selfEl","contains","relatedTarget","handleFocusout","exposedRef","scroll","depth","index","elSize","submenuInst","Object","assign","isMounted","mergedClsPrefix","mergedTheme","render","appear","tabindex","class","onFocusin","onFocusout","length","map","submenuOptions","instance","key","tmNodes","clsPrefix","$slots","empty","theme","peers","Empty","themeOverrides","peerOverrides","action","children","undefined","capture"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/cascader/src/CascaderMenu.js"],"sourcesContent":["import { h, ref, defineComponent, inject, Transition, withDirectives } from 'vue';\nimport { clickoutside } from 'vdirs';\nimport FocusDetector from '../../_internal/focus-detector';\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from '../../_utils';\nimport { NEmpty } from '../../empty';\nimport { NBaseMenuMask } from '../../_internal';\nimport NCascaderSubmenu from './CascaderSubmenu';\nimport { cascaderInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NCascaderMenu',\n    props: {\n        value: [String, Number, Array],\n        placement: {\n            type: String,\n            default: 'bottom-start'\n        },\n        show: Boolean,\n        menuModel: {\n            type: Array,\n            required: true\n        },\n        loading: Boolean,\n        onFocus: {\n            type: Function,\n            required: true\n        },\n        onBlur: {\n            type: Function,\n            required: true\n        },\n        onKeydown: {\n            type: Function,\n            required: true\n        },\n        onMousedown: {\n            type: Function,\n            required: true\n        },\n        onTabout: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const { localeRef, isMountedRef, mergedClsPrefixRef, syncCascaderMenuPosition, handleCascaderMenuClickOutside, mergedThemeRef\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(cascaderInjectionKey);\n        const submenuInstRefs = [];\n        const maskInstRef = ref(null);\n        const selfElRef = ref(null);\n        function handleResize() {\n            syncCascaderMenuPosition();\n        }\n        useOnResize(selfElRef, handleResize);\n        function showErrorMessage(label) {\n            var _a;\n            const { value: { loadingRequiredMessage } } = localeRef;\n            (_a = maskInstRef.value) === null || _a === void 0 ? void 0 : _a.showOnce(loadingRequiredMessage(label));\n        }\n        function handleClickOutside(e) {\n            handleCascaderMenuClickOutside(e);\n        }\n        function handleFocusin(e) {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            if (!selfEl.contains(e.relatedTarget)) {\n                props.onFocus(e);\n            }\n        }\n        function handleFocusout(e) {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            if (!selfEl.contains(e.relatedTarget)) {\n                props.onBlur(e);\n            }\n        }\n        const exposedRef = {\n            scroll(depth, index, elSize) {\n                const submenuInst = submenuInstRefs[depth];\n                if (submenuInst) {\n                    submenuInst.scroll(index, elSize);\n                }\n            },\n            showErrorMessage\n        };\n        return Object.assign({ isMounted: isMountedRef, mergedClsPrefix: mergedClsPrefixRef, selfElRef,\n            submenuInstRefs,\n            maskInstRef, mergedTheme: mergedThemeRef, handleFocusin,\n            handleFocusout,\n            handleClickOutside }, exposedRef);\n    },\n    render() {\n        const { submenuInstRefs, mergedClsPrefix, mergedTheme } = this;\n        return (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted }, {\n            default: () => {\n                if (!this.show)\n                    return null;\n                return withDirectives(h(\"div\", { tabindex: \"0\", ref: \"selfElRef\", class: `${mergedClsPrefix}-cascader-menu`, onMousedown: this.onMousedown, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onKeydown: this.onKeydown },\n                    this.menuModel[0].length ? (h(\"div\", { class: `${mergedClsPrefix}-cascader-submenu-wrapper` },\n                        this.menuModel.map((submenuOptions, index) => (h(NCascaderSubmenu, { ref: ((instance) => {\n                                if (instance) {\n                                    submenuInstRefs[index] = instance;\n                                }\n                            }), key: index, tmNodes: submenuOptions, depth: index + 1 }))),\n                        h(NBaseMenuMask, { clsPrefix: mergedClsPrefix, ref: \"maskInstRef\" }))) : (h(\"div\", { class: `${mergedClsPrefix}-cascader-menu__empty` }, resolveSlot(this.$slots.empty, () => [\n                        h(NEmpty, { theme: mergedTheme.peers.Empty, themeOverrides: mergedTheme.peerOverrides.Empty })\n                    ]))),\n                    resolveWrappedSlot(this.$slots.action, (children) => children && (h(\"div\", { class: `${mergedClsPrefix}-cascader-menu-action`, \"data-action\": true }, children))),\n                    h(FocusDetector, { onFocus: this.onTabout })), [\n                    [\n                        clickoutside,\n                        this.handleClickOutside,\n                        undefined,\n                        { capture: true }\n                    ]\n                ]);\n            }\n        }));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}