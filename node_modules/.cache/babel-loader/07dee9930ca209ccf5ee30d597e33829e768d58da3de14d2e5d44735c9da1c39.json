{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { userList } from \"@/views/config/api\";\nexport default {\n  name: \"tableSelect\",\n  components: {},\n  props: {\n    selectObject: {\n      type: String,\n      default: \"\"\n    },\n    value: {\n      type: Array,\n      default: () => []\n    },\n    modelValue: {\n      type: [String, Number],\n      default: \"\"\n    },\n    disabled: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      tag: \"\",\n      memberListDialog: false,\n      visible: false,\n      search: this.value,\n      searchMember: \"\",\n      memberListSelect: \"\",\n      memberListSelect2: [],\n      memberList: [],\n      checkedDetail: [],\n      inputValue: \"\"\n    };\n  },\n  mounted() {\n    userList().then(res => {\n      this.memberList = res.data;\n    });\n  },\n  methods: {\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.search.push(inputValue);\n      }\n      this.inputValue = \"\";\n    },\n    handleClose(tag) {\n      this.search.splice(this.search.indexOf(tag), 1);\n    },\n    selectMeetingDoneButton() {\n      let val = this.checkedDetail;\n      this.$emit(\"update:modelValue\", val);\n      this.search = val;\n      // this.search = Array.from(val);\n      this.$refs.visible.hide(); //關閉視窗\n      // this.searchMember = \"\";\n    },\n\n    onInput(e) {\n      this.$emit(\"update:modelValue\", e);\n    },\n    SelectionChange(val) {\n      for (let i = 0; i < val.length; i++) {\n        this.checkedDetail[i] = val[i];\n      }\n    }\n  },\n  computed: {\n    // 篩選表格\n    tables: function () {\n      const search = this.searchMember;\n      if (search) {\n        return this.memberList.filter(dataNews => {\n          return Object.keys(dataNews).some(key => {\n            return String(dataNews[key]).indexOf(search.toUpperCase()) > -1;\n            //.indexOF()區分大小寫 .indexOf(.toUpperCase())不分大小寫 .toLowerCase()轉換小寫\n          });\n        });\n      }\n\n      return this.memberList;\n    }\n  },\n  watch: {\n    multipleTable() {\n      this.$nextTick(() => {\n        this.$refs.multipleTable.toggleRowSelection(this.tables[0], true);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["userList","name","components","props","selectObject","type","String","default","value","Array","modelValue","Number","disabled","Boolean","data","tag","memberListDialog","visible","search","searchMember","memberListSelect","memberListSelect2","memberList","checkedDetail","inputValue","mounted","then","res","methods","handleInputConfirm","push","handleClose","splice","indexOf","selectMeetingDoneButton","val","$emit","$refs","hide","onInput","e","SelectionChange","i","length","computed","tables","filter","dataNews","Object","keys","some","key","toUpperCase","watch","multipleTable","$nextTick","toggleRowSelection"],"sourceRoot":"","sources":["/Users/elmo/Documents/GitHub/meetings_vue3/src/components/memberListDialogEven.vue"],"sourcesContent":["<template>\n  <div class=\"member_select flex w-full\">\n    <a-input-tag v-if=\"disabled === true\" v-model=\"search\" placeholder=\"請選擇\" class=\"flex-1 border border-gray-200 text-left\" style=\"background: #f5f7fa\" disabled />\n    <a-input-tag v-else v-model=\"search\" placeholder=\"請選擇\" class=\"flex-1 border border-gray-300 bg-white text-left\" @change=\"onInput\" />\n\n    <el-popover trigger=\"click\" ref=\"visible\" width=\"auto\">\n      <!--搜尋框-->\n      <a-input placeholder=\"請輸入關鍵字\" v-model=\"searchMember\" />\n      <!--列表-->\n      <el-table ref=\"multipleTable\" :data=\"tables\" @selection-change=\"SelectionChange\">\n        <el-table-column type=\"selection\" width=\"55\">\n          <template #defaule=\"scope\">\n            <el-checkbox @change=\"SelectionChange(scope)\"></el-checkbox>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"id\" label=\"員工編號\" width=\"250\">\n          <template #default=\"scope\">\n            <span class=\"cursor-pointer\">{{ scope.row.id }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"department\" label=\"部門名稱\" width=\"250\"></el-table-column>\n        <el-table-column prop=\"name\" label=\"員工姓名\" width=\"300\" class=\"cursor-pointer\"></el-table-column>\n      </el-table>\n      <!--確定按鈕-->\n      <div style=\"text-align: right; margin: 0\">\n        <el-button @click=\"selectMeetingDoneButton\">確定</el-button>\n      </div>\n      <!--選擇按鈕-->\n      <template #reference>\n        <div v-if=\"disabled === true\" class=\"flex items-center justify-center rounded border border-gray-300 bg-gray-200 px-3 text-gray-400 hover:cursor-not-allowed\">選擇</div>\n        <div v-else class=\"flex items-center justify-center rounded border border-gray-300 bg-white px-3 hover:cursor-pointer hover:bg-gray-800 hover:text-white\">選擇</div>\n      </template>\n    </el-popover>\n  </div>\n</template>\n\n<script>\nimport { userList } from \"@/views/config/api\";\nexport default {\n  name: \"tableSelect\",\n  components: {},\n  props: {\n    selectObject: {\n      type: String,\n      default: \"\",\n    },\n    value: {\n      type: Array,\n      default: () => [],\n    },\n    modelValue: {\n      type: [String, Number],\n      default: \"\",\n    },\n    disabled: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      tag: \"\",\n      memberListDialog: false,\n      visible: false,\n      search: this.value,\n      searchMember: \"\",\n      memberListSelect: \"\",\n      memberListSelect2: [],\n      memberList: [],\n      checkedDetail: [],\n      inputValue: \"\",\n    };\n  },\n  mounted() {\n    userList().then((res) => {\n      this.memberList = res.data;\n    });\n  },\n  methods: {\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.search.push(inputValue);\n      }\n      this.inputValue = \"\";\n    },\n    handleClose(tag) {\n      this.search.splice(this.search.indexOf(tag), 1);\n    },\n    selectMeetingDoneButton() {\n      let val = this.checkedDetail;\n      this.$emit(\"update:modelValue\", val);\n      this.search = val;\n      // this.search = Array.from(val);\n      this.$refs.visible.hide(); //關閉視窗\n      // this.searchMember = \"\";\n    },\n    onInput(e) {\n      this.$emit(\"update:modelValue\", e);\n    },\n    SelectionChange(val) {\n      for (let i = 0; i < val.length; i++) {\n        this.checkedDetail[i] = val[i];\n      }\n    },\n  },\n  computed: {\n    // 篩選表格\n    tables: function () {\n      const search = this.searchMember;\n      if (search) {\n        return this.memberList.filter((dataNews) => {\n          return Object.keys(dataNews).some((key) => {\n            return String(dataNews[key]).indexOf(search.toUpperCase()) > -1;\n            //.indexOF()區分大小寫 .indexOf(.toUpperCase())不分大小寫 .toLowerCase()轉換小寫\n          });\n        });\n      }\n      return this.memberList;\n    },\n  },\n  watch: {\n    multipleTable() {\n      this.$nextTick(() => {\n        this.$refs.multipleTable.toggleRowSelection(this.tables[0], true);\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.member_select {\n  .el-table__row:hover {\n    cursor: pointer !important;\n  }\n  .arco-input-tag.arco-input-tag-size-medium .arco-input-tag-tag {\n    background-color: #3c7eff !important;\n    color: #fff !important;\n  }\n}\n\n.el-input-tag {\n  border-color: #f56c6c;\n  min-height: 42px;\n}\n.input-tag-wrapper {\n  position: relative;\n  font-size: 14px;\n  background-color: #fff;\n  background-image: none;\n  border-radius: 4px;\n  border: 1px solid #dcdfe6;\n  box-sizing: border-box;\n  color: #606266;\n  display: inline-flex;\n  outline: none;\n  padding: 0 10px 0 5px;\n  //transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n  width: 100%;\n  cursor: text;\n  transition: color 0.1s cubic-bezier(0, 0, 1, 1), border-color 0.1s cubic-bezier(0, 0, 1, 1), background-color 0.1s cubic-bezier(0, 0, 1, 1);\n}\n.tag-input {\n  background: transparent;\n  border: 0;\n  font-size: inherit;\n  outline: none;\n  padding-left: 0;\n  width: 100%;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}