{"ast":null,"code":"import { h, defineComponent, computed, ref, provide } from 'vue';\nimport { NScrollbar } from '../../_internal';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createInjectionKey, useReactivated } from '../../_utils';\nimport { layoutLight } from '../styles';\nimport { positionProp } from './interface';\nimport style from './styles/layout.cssr';\nexport const layoutProps = {\n  embedded: Boolean,\n  position: positionProp,\n  nativeScrollbar: {\n    type: Boolean,\n    default: true\n  },\n  scrollbarProps: Object,\n  onScroll: Function,\n  contentStyle: {\n    type: [String, Object],\n    default: ''\n  },\n  hasSider: Boolean,\n  siderPlacement: {\n    type: String,\n    default: 'left'\n  }\n};\nexport const layoutInjectionKey = createInjectionKey('n-layout');\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function createLayoutComponent(isContent) {\n  return defineComponent({\n    name: isContent ? 'LayoutContent' : 'Layout',\n    props: Object.assign(Object.assign({}, useTheme.props), layoutProps),\n    setup(props) {\n      const scrollableElRef = ref(null);\n      const scrollbarInstRef = ref(null);\n      const {\n        mergedClsPrefixRef,\n        inlineThemeDisabled\n      } = useConfig(props);\n      const themeRef = useTheme('Layout', '-layout', style, layoutLight, props, mergedClsPrefixRef);\n      function scrollTo(options, y) {\n        if (props.nativeScrollbar) {\n          const {\n            value: scrollableEl\n          } = scrollableElRef;\n          if (scrollableEl) {\n            if (y === undefined) {\n              scrollableEl.scrollTo(options);\n            } else {\n              scrollableEl.scrollTo(options, y);\n            }\n          }\n        } else {\n          const {\n            value: scrollbarInst\n          } = scrollbarInstRef;\n          if (scrollbarInst) {\n            scrollbarInst.scrollTo(options, y);\n          }\n        }\n      }\n      provide(layoutInjectionKey, props);\n      let scrollX = 0;\n      let scrollY = 0;\n      const handleNativeElScroll = e => {\n        var _a;\n        const target = e.target;\n        scrollX = target.scrollLeft;\n        scrollY = target.scrollTop;\n        (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n      };\n      useReactivated(() => {\n        if (props.nativeScrollbar) {\n          const el = scrollableElRef.value;\n          if (el) {\n            el.scrollTop = scrollY;\n            el.scrollLeft = scrollX;\n          }\n        }\n      });\n      const hasSiderStyle = {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        width: '100%',\n        flexDirection: 'row'\n      };\n      const exposedMethods = {\n        scrollTo\n      };\n      const cssVarsRef = computed(() => {\n        const {\n          common: {\n            cubicBezierEaseInOut\n          },\n          self\n        } = themeRef.value;\n        return {\n          '--n-bezier': cubicBezierEaseInOut,\n          '--n-color': props.embedded ? self.colorEmbedded : self.color,\n          '--n-text-color': self.textColor\n        };\n      });\n      const themeClassHandle = inlineThemeDisabled ? useThemeClass('layout', computed(() => {\n        return props.embedded ? 'e' : '';\n      }), cssVarsRef, props) : undefined;\n      return Object.assign({\n        mergedClsPrefix: mergedClsPrefixRef,\n        scrollableElRef,\n        scrollbarInstRef,\n        hasSiderStyle,\n        mergedTheme: themeRef,\n        handleNativeElScroll,\n        cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n        themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n        onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n      }, exposedMethods);\n    },\n    render() {\n      var _a;\n      const {\n        mergedClsPrefix,\n        hasSider\n      } = this;\n      (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n      const hasSiderStyle = hasSider ? this.hasSiderStyle : undefined;\n      const layoutClass = [this.themeClass, isContent && `${mergedClsPrefix}-layout-content`, `${mergedClsPrefix}-layout`, `${mergedClsPrefix}-layout--${this.position}-positioned`];\n      return h(\"div\", {\n        class: layoutClass,\n        style: this.cssVars\n      }, this.nativeScrollbar ? h(\"div\", {\n        ref: \"scrollableElRef\",\n        class: `${mergedClsPrefix}-layout-scroll-container`,\n        style: [this.contentStyle, hasSiderStyle],\n        onScroll: this.handleNativeElScroll\n      }, this.$slots) : h(NScrollbar, Object.assign({}, this.scrollbarProps, {\n        onScroll: this.onScroll,\n        ref: \"scrollbarInstRef\",\n        theme: this.mergedTheme.peers.Scrollbar,\n        themeOverrides: this.mergedTheme.peerOverrides.Scrollbar,\n        contentStyle: [this.contentStyle, hasSiderStyle]\n      }), this.$slots));\n    }\n  });\n}\nexport default createLayoutComponent(false);","map":{"version":3,"names":["h","defineComponent","computed","ref","provide","NScrollbar","useConfig","useTheme","useThemeClass","createInjectionKey","useReactivated","layoutLight","positionProp","style","layoutProps","embedded","Boolean","position","nativeScrollbar","type","default","scrollbarProps","Object","onScroll","Function","contentStyle","String","hasSider","siderPlacement","layoutInjectionKey","createLayoutComponent","isContent","name","props","assign","setup","scrollableElRef","scrollbarInstRef","mergedClsPrefixRef","inlineThemeDisabled","themeRef","scrollTo","options","y","value","scrollableEl","undefined","scrollbarInst","scrollX","scrollY","handleNativeElScroll","e","_a","target","scrollLeft","scrollTop","call","el","hasSiderStyle","display","flexWrap","width","flexDirection","exposedMethods","cssVarsRef","common","cubicBezierEaseInOut","self","colorEmbedded","color","textColor","themeClassHandle","mergedClsPrefix","mergedTheme","cssVars","themeClass","onRender","render","layoutClass","class","$slots","theme","peers","Scrollbar","themeOverrides","peerOverrides"],"sources":["/Users/elmo/GitHub/meetings_vue3/node_modules/naive-ui/es/layout/src/Layout.js"],"sourcesContent":["import { h, defineComponent, computed, ref, provide } from 'vue';\nimport { NScrollbar } from '../../_internal';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createInjectionKey, useReactivated } from '../../_utils';\nimport { layoutLight } from '../styles';\nimport { positionProp } from './interface';\nimport style from './styles/layout.cssr';\nexport const layoutProps = {\n    embedded: Boolean,\n    position: positionProp,\n    nativeScrollbar: {\n        type: Boolean,\n        default: true\n    },\n    scrollbarProps: Object,\n    onScroll: Function,\n    contentStyle: {\n        type: [String, Object],\n        default: ''\n    },\n    hasSider: Boolean,\n    siderPlacement: {\n        type: String,\n        default: 'left'\n    }\n};\nexport const layoutInjectionKey = createInjectionKey('n-layout');\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function createLayoutComponent(isContent) {\n    return defineComponent({\n        name: isContent ? 'LayoutContent' : 'Layout',\n        props: Object.assign(Object.assign({}, useTheme.props), layoutProps),\n        setup(props) {\n            const scrollableElRef = ref(null);\n            const scrollbarInstRef = ref(null);\n            const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n            const themeRef = useTheme('Layout', '-layout', style, layoutLight, props, mergedClsPrefixRef);\n            function scrollTo(options, y) {\n                if (props.nativeScrollbar) {\n                    const { value: scrollableEl } = scrollableElRef;\n                    if (scrollableEl) {\n                        if (y === undefined) {\n                            scrollableEl.scrollTo(options);\n                        }\n                        else {\n                            scrollableEl.scrollTo(options, y);\n                        }\n                    }\n                }\n                else {\n                    const { value: scrollbarInst } = scrollbarInstRef;\n                    if (scrollbarInst) {\n                        scrollbarInst.scrollTo(options, y);\n                    }\n                }\n            }\n            provide(layoutInjectionKey, props);\n            let scrollX = 0;\n            let scrollY = 0;\n            const handleNativeElScroll = (e) => {\n                var _a;\n                const target = e.target;\n                scrollX = target.scrollLeft;\n                scrollY = target.scrollTop;\n                (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            };\n            useReactivated(() => {\n                if (props.nativeScrollbar) {\n                    const el = scrollableElRef.value;\n                    if (el) {\n                        el.scrollTop = scrollY;\n                        el.scrollLeft = scrollX;\n                    }\n                }\n            });\n            const hasSiderStyle = {\n                display: 'flex',\n                flexWrap: 'nowrap',\n                width: '100%',\n                flexDirection: 'row'\n            };\n            const exposedMethods = {\n                scrollTo\n            };\n            const cssVarsRef = computed(() => {\n                const { common: { cubicBezierEaseInOut }, self } = themeRef.value;\n                return {\n                    '--n-bezier': cubicBezierEaseInOut,\n                    '--n-color': props.embedded ? self.colorEmbedded : self.color,\n                    '--n-text-color': self.textColor\n                };\n            });\n            const themeClassHandle = inlineThemeDisabled\n                ? useThemeClass('layout', computed(() => {\n                    return props.embedded ? 'e' : '';\n                }), cssVarsRef, props)\n                : undefined;\n            return Object.assign({ mergedClsPrefix: mergedClsPrefixRef, scrollableElRef,\n                scrollbarInstRef,\n                hasSiderStyle, mergedTheme: themeRef, handleNativeElScroll, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedMethods);\n        },\n        render() {\n            var _a;\n            const { mergedClsPrefix, hasSider } = this;\n            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n            const hasSiderStyle = hasSider ? this.hasSiderStyle : undefined;\n            const layoutClass = [\n                this.themeClass,\n                isContent && `${mergedClsPrefix}-layout-content`,\n                `${mergedClsPrefix}-layout`,\n                `${mergedClsPrefix}-layout--${this.position}-positioned`\n            ];\n            return (h(\"div\", { class: layoutClass, style: this.cssVars }, this.nativeScrollbar ? (h(\"div\", { ref: \"scrollableElRef\", class: `${mergedClsPrefix}-layout-scroll-container`, style: [this.contentStyle, hasSiderStyle], onScroll: this.handleNativeElScroll }, this.$slots)) : (h(NScrollbar, Object.assign({}, this.scrollbarProps, { onScroll: this.onScroll, ref: \"scrollbarInstRef\", theme: this.mergedTheme.peers.Scrollbar, themeOverrides: this.mergedTheme.peerOverrides.Scrollbar, contentStyle: [this.contentStyle, hasSiderStyle] }), this.$slots))));\n        }\n    });\n}\nexport default createLayoutComponent(false);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}