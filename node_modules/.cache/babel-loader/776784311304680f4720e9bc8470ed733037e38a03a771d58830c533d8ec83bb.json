{"ast":null,"code":"import { onBeforeMount, onBeforeUnmount, ref, readonly } from 'vue';\nimport { on, off } from 'evtd';\nimport { hasInstance, isBrowser } from './utils';\nconst clickedTimeRef = ref(undefined);\nlet usedCount = 0;\nfunction handleClick() {\n  clickedTimeRef.value = Date.now();\n}\nlet managable = true;\nexport default function useClicked(timeout) {\n  if (!isBrowser) return readonly(ref(false));\n  const clickedRef = ref(false);\n  let timerId = null;\n  function clearTimer() {\n    if (timerId !== null) window.clearTimeout(timerId);\n  }\n  function clickedHandler() {\n    clearTimer();\n    clickedRef.value = true;\n    timerId = window.setTimeout(() => {\n      clickedRef.value = false;\n    }, timeout);\n  }\n  if (usedCount === 0) {\n    on('click', window, handleClick, true);\n  }\n  const setup = () => {\n    usedCount += 1;\n    on('click', window, clickedHandler, true);\n  };\n  if (managable && (managable = hasInstance())) {\n    onBeforeMount(setup);\n    onBeforeUnmount(() => {\n      usedCount -= 1;\n      if (usedCount === 0) {\n        off('click', window, handleClick, true);\n      }\n      off('click', window, clickedHandler, true);\n      clearTimer();\n    });\n  } else {\n    setup();\n  }\n  return readonly(clickedRef);\n}","map":{"version":3,"names":["onBeforeMount","onBeforeUnmount","ref","readonly","on","off","hasInstance","isBrowser","clickedTimeRef","undefined","usedCount","handleClick","value","Date","now","managable","useClicked","timeout","clickedRef","timerId","clearTimer","window","clearTimeout","clickedHandler","setTimeout","setup"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/vooks/es/use-clicked.js"],"sourcesContent":["import { onBeforeMount, onBeforeUnmount, ref, readonly } from 'vue';\nimport { on, off } from 'evtd';\nimport { hasInstance, isBrowser } from './utils';\nconst clickedTimeRef = ref(undefined);\nlet usedCount = 0;\nfunction handleClick() {\n    clickedTimeRef.value = Date.now();\n}\nlet managable = true;\nexport default function useClicked(timeout) {\n    if (!isBrowser)\n        return readonly(ref(false));\n    const clickedRef = ref(false);\n    let timerId = null;\n    function clearTimer() {\n        if (timerId !== null)\n            window.clearTimeout(timerId);\n    }\n    function clickedHandler() {\n        clearTimer();\n        clickedRef.value = true;\n        timerId = window.setTimeout(() => {\n            clickedRef.value = false;\n        }, timeout);\n    }\n    if (usedCount === 0) {\n        on('click', window, handleClick, true);\n    }\n    const setup = () => {\n        usedCount += 1;\n        on('click', window, clickedHandler, true);\n    };\n    if (managable && (managable = hasInstance())) {\n        onBeforeMount(setup);\n        onBeforeUnmount(() => {\n            usedCount -= 1;\n            if (usedCount === 0) {\n                off('click', window, handleClick, true);\n            }\n            off('click', window, clickedHandler, true);\n            clearTimer();\n        });\n    }\n    else {\n        setup();\n    }\n    return readonly(clickedRef);\n}\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,eAAe,EAAEC,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnE,SAASC,EAAE,EAAEC,GAAG,QAAQ,MAAM;AAC9B,SAASC,WAAW,EAAEC,SAAS,QAAQ,SAAS;AAChD,MAAMC,cAAc,GAAGN,GAAG,CAACO,SAAS,CAAC;AACrC,IAAIC,SAAS,GAAG,CAAC;AACjB,SAASC,WAAW,GAAG;EACnBH,cAAc,CAACI,KAAK,GAAGC,IAAI,CAACC,GAAG,EAAE;AACrC;AACA,IAAIC,SAAS,GAAG,IAAI;AACpB,eAAe,SAASC,UAAU,CAACC,OAAO,EAAE;EACxC,IAAI,CAACV,SAAS,EACV,OAAOJ,QAAQ,CAACD,GAAG,CAAC,KAAK,CAAC,CAAC;EAC/B,MAAMgB,UAAU,GAAGhB,GAAG,CAAC,KAAK,CAAC;EAC7B,IAAIiB,OAAO,GAAG,IAAI;EAClB,SAASC,UAAU,GAAG;IAClB,IAAID,OAAO,KAAK,IAAI,EAChBE,MAAM,CAACC,YAAY,CAACH,OAAO,CAAC;EACpC;EACA,SAASI,cAAc,GAAG;IACtBH,UAAU,EAAE;IACZF,UAAU,CAACN,KAAK,GAAG,IAAI;IACvBO,OAAO,GAAGE,MAAM,CAACG,UAAU,CAAC,MAAM;MAC9BN,UAAU,CAACN,KAAK,GAAG,KAAK;IAC5B,CAAC,EAAEK,OAAO,CAAC;EACf;EACA,IAAIP,SAAS,KAAK,CAAC,EAAE;IACjBN,EAAE,CAAC,OAAO,EAAEiB,MAAM,EAAEV,WAAW,EAAE,IAAI,CAAC;EAC1C;EACA,MAAMc,KAAK,GAAG,MAAM;IAChBf,SAAS,IAAI,CAAC;IACdN,EAAE,CAAC,OAAO,EAAEiB,MAAM,EAAEE,cAAc,EAAE,IAAI,CAAC;EAC7C,CAAC;EACD,IAAIR,SAAS,KAAKA,SAAS,GAAGT,WAAW,EAAE,CAAC,EAAE;IAC1CN,aAAa,CAACyB,KAAK,CAAC;IACpBxB,eAAe,CAAC,MAAM;MAClBS,SAAS,IAAI,CAAC;MACd,IAAIA,SAAS,KAAK,CAAC,EAAE;QACjBL,GAAG,CAAC,OAAO,EAAEgB,MAAM,EAAEV,WAAW,EAAE,IAAI,CAAC;MAC3C;MACAN,GAAG,CAAC,OAAO,EAAEgB,MAAM,EAAEE,cAAc,EAAE,IAAI,CAAC;MAC1CH,UAAU,EAAE;IAChB,CAAC,CAAC;EACN,CAAC,MACI;IACDK,KAAK,EAAE;EACX;EACA,OAAOtB,QAAQ,CAACe,UAAU,CAAC;AAC/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}