{"ast":null,"code":"import { on, off } from 'evtd';\nimport { computed, defineComponent, h, ref } from 'vue';\nconst HANDLE_SIZE = '12px';\nconst RADIUS = '6px';\nexport default defineComponent({\n  name: 'Pallete',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    rgba: {\n      type: Array,\n      default: null\n    },\n    // 0 - 360\n    displayedHue: {\n      type: Number,\n      required: true\n    },\n    displayedSv: {\n      type: Array,\n      required: true\n    },\n    onUpdateSV: {\n      type: Function,\n      required: true\n    },\n    onComplete: Function\n  },\n  setup(props) {\n    const palleteRef = ref(null);\n    function handleMouseDown(e) {\n      if (!palleteRef.value) return;\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n      handleMouseMove(e);\n    }\n    function handleMouseMove(e) {\n      const {\n        value: palleteEl\n      } = palleteRef;\n      if (!palleteEl) return;\n      const {\n        width,\n        height,\n        left,\n        bottom\n      } = palleteEl.getBoundingClientRect();\n      const newV = (bottom - e.clientY) / height;\n      const newS = (e.clientX - left) / width;\n      const normalizedNewS = 100 * (newS > 1 ? 1 : newS < 0 ? 0 : newS);\n      const normalizedNewV = 100 * (newV > 1 ? 1 : newV < 0 ? 0 : newV);\n      props.onUpdateSV(normalizedNewS, normalizedNewV);\n    }\n    function handleMouseUp() {\n      var _a;\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n    return {\n      palleteRef,\n      handleColor: computed(() => {\n        const {\n          rgba\n        } = props;\n        if (!rgba) return '';\n        return `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;\n      }),\n      handleMouseDown\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-pallete`,\n      onMousedown: this.handleMouseDown,\n      ref: \"palleteRef\"\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-pallete__layer`,\n      style: {\n        backgroundImage: `linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`\n      }\n    }), h(\"div\", {\n      class: `${clsPrefix}-color-picker-pallete__layer ${clsPrefix}-color-picker-pallete__layer--shadowed`,\n      style: {\n        backgroundImage: 'linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))'\n      }\n    }), this.rgba && h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle`,\n      style: {\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS,\n        left: `calc(${this.displayedSv[0]}% - ${RADIUS})`,\n        bottom: `calc(${this.displayedSv[1]}% - ${RADIUS})`\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle__fill`,\n      style: {\n        backgroundColor: this.handleColor,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    })));\n  }\n});","map":{"version":3,"names":["on","off","computed","defineComponent","h","ref","HANDLE_SIZE","RADIUS","name","props","clsPrefix","type","String","required","rgba","Array","default","displayedHue","Number","displayedSv","onUpdateSV","Function","onComplete","setup","palleteRef","handleMouseDown","e","value","document","handleMouseMove","handleMouseUp","palleteEl","width","height","left","bottom","getBoundingClientRect","newV","clientY","newS","clientX","normalizedNewS","normalizedNewV","_a","call","handleColor","render","class","onMousedown","style","backgroundImage","borderRadius","backgroundColor"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/color-picker/src/Pallete.js"],"sourcesContent":["import { on, off } from 'evtd';\nimport { computed, defineComponent, h, ref } from 'vue';\nconst HANDLE_SIZE = '12px';\nconst RADIUS = '6px';\nexport default defineComponent({\n    name: 'Pallete',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        rgba: {\n            type: Array,\n            default: null\n        },\n        // 0 - 360\n        displayedHue: {\n            type: Number,\n            required: true\n        },\n        displayedSv: {\n            type: Array,\n            required: true\n        },\n        onUpdateSV: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const palleteRef = ref(null);\n        function handleMouseDown(e) {\n            if (!palleteRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: palleteEl } = palleteRef;\n            if (!palleteEl)\n                return;\n            const { width, height, left, bottom } = palleteEl.getBoundingClientRect();\n            const newV = (bottom - e.clientY) / height;\n            const newS = (e.clientX - left) / width;\n            const normalizedNewS = 100 * (newS > 1 ? 1 : newS < 0 ? 0 : newS);\n            const normalizedNewV = 100 * (newV > 1 ? 1 : newV < 0 ? 0 : newV);\n            props.onUpdateSV(normalizedNewS, normalizedNewV);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            palleteRef,\n            handleColor: computed(() => {\n                const { rgba } = props;\n                if (!rgba)\n                    return '';\n                return `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;\n            }),\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-pallete`, onMousedown: this.handleMouseDown, ref: \"palleteRef\" },\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer`, style: {\n                    backgroundImage: `linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`\n                } }),\n            h(\"div\", { class: `${clsPrefix}-color-picker-pallete__layer ${clsPrefix}-color-picker-pallete__layer--shadowed`, style: {\n                    backgroundImage: 'linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))'\n                } }),\n            this.rgba && (h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                    width: HANDLE_SIZE,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    left: `calc(${this.displayedSv[0]}% - ${RADIUS})`,\n                    bottom: `calc(${this.displayedSv[1]}% - ${RADIUS})`\n                } },\n                h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                        backgroundColor: this.handleColor,\n                        borderRadius: RADIUS,\n                        width: HANDLE_SIZE,\n                        height: HANDLE_SIZE\n                    } })))));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}