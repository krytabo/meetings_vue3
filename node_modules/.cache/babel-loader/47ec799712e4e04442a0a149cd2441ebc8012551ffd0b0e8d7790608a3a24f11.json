{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, defineComponent, ref, onBeforeUpdate } from 'vue';\nimport { indexMap } from 'seemly';\nimport { useConfig } from '../../_mixins';\nimport { useCarouselContext } from './CarouselContext';\nconst carouselDotsProps = {\n  total: {\n    type: Number,\n    default: 0\n  },\n  currentIndex: {\n    type: Number,\n    default: 0\n  },\n  dotType: {\n    type: String,\n    default: 'dot'\n  },\n  trigger: {\n    type: String,\n    default: 'click'\n  },\n  keyboard: Boolean\n};\nexport default defineComponent({\n  name: 'CarouselDots',\n  props: carouselDotsProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const dotElsRef = ref([]);\n    const NCarousel = useCarouselContext();\n    function handleKeydown(e, current) {\n      switch (e.key) {\n        case 'Enter':\n        case ' ':\n          e.preventDefault();\n          NCarousel.to(current);\n          return;\n      }\n      if (props.keyboard) {\n        handleKeyboard(e);\n      }\n    }\n    function handleMouseenter(current) {\n      if (props.trigger === 'hover') {\n        NCarousel.to(current);\n      }\n    }\n    function handleClick(current) {\n      if (props.trigger === 'click') {\n        NCarousel.to(current);\n      }\n    }\n    function handleKeyboard(e) {\n      var _a;\n      if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n      const nodeName = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase();\n      if (nodeName === 'input' || nodeName === 'textarea') {\n        return;\n      }\n      const {\n        code: keycode\n      } = e;\n      const isVerticalNext = keycode === 'PageUp' || keycode === 'ArrowUp';\n      const isVerticalPrev = keycode === 'PageDown' || keycode === 'ArrowDown';\n      const isHorizontalNext = keycode === 'PageUp' || keycode === 'ArrowRight';\n      const isHorizontalPrev = keycode === 'PageDown' || keycode === 'ArrowLeft';\n      const vertical = NCarousel.isVertical();\n      const wantToNext = vertical ? isVerticalNext : isHorizontalNext;\n      const wantToPrev = vertical ? isVerticalPrev : isHorizontalPrev;\n      if (!wantToNext && !wantToPrev) {\n        return;\n      }\n      e.preventDefault();\n      if (wantToNext && !NCarousel.isNextDisabled()) {\n        NCarousel.next();\n        focusDot(NCarousel.currentIndexRef.value);\n      } else if (wantToPrev && !NCarousel.isPrevDisabled()) {\n        NCarousel.prev();\n        focusDot(NCarousel.currentIndexRef.value);\n      }\n    }\n    function focusDot(index) {\n      var _a;\n      (_a = dotElsRef.value[index]) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    onBeforeUpdate(() => dotElsRef.value.length = 0);\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      dotEls: dotElsRef,\n      handleKeydown,\n      handleMouseenter,\n      handleClick\n    };\n  },\n  render() {\n    const {\n      mergedClsPrefix,\n      dotEls\n    } = this;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-carousel__dots`, `${mergedClsPrefix}-carousel__dots--${this.dotType}`],\n      role: \"tablist\"\n    }, indexMap(this.total, i => {\n      const selected = i === this.currentIndex;\n      return h(\"div\", {\n        \"aria-selected\": selected,\n        ref: el => dotEls.push(el),\n        role: \"button\",\n        tabindex: \"0\",\n        class: [`${mergedClsPrefix}-carousel__dot`, selected && `${mergedClsPrefix}-carousel__dot--active`],\n        key: i,\n        onClick: () => this.handleClick(i),\n        onMouseenter: () => this.handleMouseenter(i),\n        onKeydown: e => this.handleKeydown(e, i)\n      });\n    }));\n  }\n});","map":{"version":3,"names":["h","defineComponent","ref","onBeforeUpdate","indexMap","useConfig","useCarouselContext","carouselDotsProps","total","type","Number","default","currentIndex","dotType","String","trigger","keyboard","Boolean","name","props","setup","mergedClsPrefixRef","dotElsRef","NCarousel","handleKeydown","e","current","key","preventDefault","to","handleKeyboard","handleMouseenter","handleClick","_a","shiftKey","altKey","ctrlKey","metaKey","nodeName","document","activeElement","toLowerCase","code","keycode","isVerticalNext","isVerticalPrev","isHorizontalNext","isHorizontalPrev","vertical","isVertical","wantToNext","wantToPrev","isNextDisabled","next","focusDot","currentIndexRef","value","isPrevDisabled","prev","index","focus","length","mergedClsPrefix","dotEls","render","class","role","i","selected","el","push","tabindex","onClick","onMouseenter","onKeydown"],"sources":["/Users/elmo/GitHub/meetings_vue3/node_modules/naive-ui/es/carousel/src/CarouselDots.js"],"sourcesContent":["import { h, defineComponent, ref, onBeforeUpdate } from 'vue';\nimport { indexMap } from 'seemly';\nimport { useConfig } from '../../_mixins';\nimport { useCarouselContext } from './CarouselContext';\nconst carouselDotsProps = {\n    total: {\n        type: Number,\n        default: 0\n    },\n    currentIndex: {\n        type: Number,\n        default: 0\n    },\n    dotType: {\n        type: String,\n        default: 'dot'\n    },\n    trigger: {\n        type: String,\n        default: 'click'\n    },\n    keyboard: Boolean\n};\nexport default defineComponent({\n    name: 'CarouselDots',\n    props: carouselDotsProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        const dotElsRef = ref([]);\n        const NCarousel = useCarouselContext();\n        function handleKeydown(e, current) {\n            switch (e.key) {\n                case 'Enter':\n                case ' ':\n                    e.preventDefault();\n                    NCarousel.to(current);\n                    return;\n            }\n            if (props.keyboard) {\n                handleKeyboard(e);\n            }\n        }\n        function handleMouseenter(current) {\n            if (props.trigger === 'hover') {\n                NCarousel.to(current);\n            }\n        }\n        function handleClick(current) {\n            if (props.trigger === 'click') {\n                NCarousel.to(current);\n            }\n        }\n        function handleKeyboard(e) {\n            var _a;\n            if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n                return;\n            }\n            const nodeName = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase();\n            if (nodeName === 'input' || nodeName === 'textarea') {\n                return;\n            }\n            const { code: keycode } = e;\n            const isVerticalNext = keycode === 'PageUp' || keycode === 'ArrowUp';\n            const isVerticalPrev = keycode === 'PageDown' || keycode === 'ArrowDown';\n            const isHorizontalNext = keycode === 'PageUp' || keycode === 'ArrowRight';\n            const isHorizontalPrev = keycode === 'PageDown' || keycode === 'ArrowLeft';\n            const vertical = NCarousel.isVertical();\n            const wantToNext = vertical ? isVerticalNext : isHorizontalNext;\n            const wantToPrev = vertical ? isVerticalPrev : isHorizontalPrev;\n            if (!wantToNext && !wantToPrev) {\n                return;\n            }\n            e.preventDefault();\n            if (wantToNext && !NCarousel.isNextDisabled()) {\n                NCarousel.next();\n                focusDot(NCarousel.currentIndexRef.value);\n            }\n            else if (wantToPrev && !NCarousel.isPrevDisabled()) {\n                NCarousel.prev();\n                focusDot(NCarousel.currentIndexRef.value);\n            }\n        }\n        function focusDot(index) {\n            var _a;\n            (_a = dotElsRef.value[index]) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n        onBeforeUpdate(() => (dotElsRef.value.length = 0));\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            dotEls: dotElsRef,\n            handleKeydown,\n            handleMouseenter,\n            handleClick\n        };\n    },\n    render() {\n        const { mergedClsPrefix, dotEls } = this;\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-carousel__dots`,\n                `${mergedClsPrefix}-carousel__dots--${this.dotType}`\n            ], role: \"tablist\" }, indexMap(this.total, (i) => {\n            const selected = i === this.currentIndex;\n            return (h(\"div\", { \"aria-selected\": selected, ref: (el) => dotEls.push(el), role: \"button\", tabindex: \"0\", class: [\n                    `${mergedClsPrefix}-carousel__dot`,\n                    selected && `${mergedClsPrefix}-carousel__dot--active`\n                ], key: i, onClick: () => this.handleClick(i), onMouseenter: () => this.handleMouseenter(i), onKeydown: (e) => this.handleKeydown(e, i) }));\n        })));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}