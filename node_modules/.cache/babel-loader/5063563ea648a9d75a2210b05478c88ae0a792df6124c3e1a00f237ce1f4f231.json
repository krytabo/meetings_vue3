{"ast":null,"code":"// use absolute path to make sure no circular ref of style\n// this -> modal-index -> modal-style\nimport { h, defineComponent, ref } from 'vue';\nimport NModal from '../../modal/src/Modal';\nimport { keep } from '../../_utils';\nimport { NDialog } from './Dialog';\nimport { dialogProps, dialogPropKeys } from './dialogProps';\nexport const exposedDialogEnvProps = Object.assign(Object.assign({}, dialogProps), {\n  onAfterEnter: Function,\n  onAfterLeave: Function,\n  blockScroll: {\n    type: Boolean,\n    default: true\n  },\n  closeOnEsc: {\n    type: Boolean,\n    default: true\n  },\n  onEsc: Function,\n  autoFocus: {\n    type: Boolean,\n    default: true\n  },\n  internalStyle: [String, Object],\n  maskClosable: {\n    type: Boolean,\n    default: true\n  },\n  onPositiveClick: Function,\n  onNegativeClick: Function,\n  onClose: Function,\n  onMaskClick: Function\n});\nexport const NDialogEnvironment = defineComponent({\n  name: 'DialogEnvironment',\n  props: Object.assign(Object.assign({}, exposedDialogEnvProps), {\n    internalKey: {\n      type: String,\n      required: true\n    },\n    to: [String, Object],\n    // private\n    onInternalAfterLeave: {\n      type: Function,\n      required: true\n    }\n  }),\n  setup(props) {\n    const showRef = ref(true);\n    function handleAfterLeave() {\n      const {\n        onInternalAfterLeave,\n        internalKey,\n        onAfterLeave\n      } = props;\n      if (onInternalAfterLeave) onInternalAfterLeave(internalKey);\n      if (onAfterLeave) onAfterLeave();\n    }\n    function handlePositiveClick(e) {\n      const {\n        onPositiveClick\n      } = props;\n      if (onPositiveClick) {\n        void Promise.resolve(onPositiveClick(e)).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleNegativeClick(e) {\n      const {\n        onNegativeClick\n      } = props;\n      if (onNegativeClick) {\n        void Promise.resolve(onNegativeClick(e)).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleCloseClick() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        void Promise.resolve(onClose()).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleMaskClick(e) {\n      const {\n        onMaskClick,\n        maskClosable\n      } = props;\n      if (onMaskClick) {\n        onMaskClick(e);\n        maskClosable && hide();\n      }\n    }\n    function handleEsc() {\n      const {\n        onEsc\n      } = props;\n      if (onEsc) {\n        onEsc();\n      }\n    }\n    function hide() {\n      showRef.value = false;\n    }\n    function handleUpdateShow(value) {\n      showRef.value = value;\n    }\n    return {\n      show: showRef,\n      hide,\n      handleUpdateShow,\n      handleAfterLeave,\n      handleCloseClick,\n      handleNegativeClick,\n      handlePositiveClick,\n      handleMaskClick,\n      handleEsc\n    };\n  },\n  render() {\n    const {\n      handlePositiveClick,\n      handleUpdateShow,\n      handleNegativeClick,\n      handleCloseClick,\n      handleAfterLeave,\n      handleMaskClick,\n      handleEsc,\n      to,\n      maskClosable,\n      show\n    } = this;\n    return h(NModal, {\n      show: show,\n      onUpdateShow: handleUpdateShow,\n      onMaskClick: handleMaskClick,\n      onEsc: handleEsc,\n      to: to,\n      maskClosable: maskClosable,\n      onAfterEnter: this.onAfterEnter,\n      onAfterLeave: handleAfterLeave,\n      closeOnEsc: this.closeOnEsc,\n      blockScroll: this.blockScroll,\n      autoFocus: this.autoFocus,\n      internalAppear: true,\n      internalDialog: true\n    }, {\n      default: () => h(NDialog, Object.assign({}, keep(this.$props, dialogPropKeys), {\n        style: this.internalStyle,\n        onClose: handleCloseClick,\n        onNegativeClick: handleNegativeClick,\n        onPositiveClick: handlePositiveClick\n      }))\n    });\n  }\n});","map":{"version":3,"names":["h","defineComponent","ref","NModal","keep","NDialog","dialogProps","dialogPropKeys","exposedDialogEnvProps","Object","assign","onAfterEnter","Function","onAfterLeave","blockScroll","type","Boolean","default","closeOnEsc","onEsc","autoFocus","internalStyle","String","maskClosable","onPositiveClick","onNegativeClick","onClose","onMaskClick","NDialogEnvironment","name","props","internalKey","required","to","onInternalAfterLeave","setup","showRef","handleAfterLeave","handlePositiveClick","e","Promise","resolve","then","result","hide","handleNegativeClick","handleCloseClick","handleMaskClick","handleEsc","value","handleUpdateShow","show","render","onUpdateShow","internalAppear","internalDialog","$props","style"],"sources":["/Users/elmo/GitHub/meetings_vue3/node_modules/naive-ui/es/dialog/src/DialogEnvironment.js"],"sourcesContent":["// use absolute path to make sure no circular ref of style\n// this -> modal-index -> modal-style\nimport { h, defineComponent, ref } from 'vue';\nimport NModal from '../../modal/src/Modal';\nimport { keep } from '../../_utils';\nimport { NDialog } from './Dialog';\nimport { dialogProps, dialogPropKeys } from './dialogProps';\nexport const exposedDialogEnvProps = Object.assign(Object.assign({}, dialogProps), { onAfterEnter: Function, onAfterLeave: Function, blockScroll: { type: Boolean, default: true }, closeOnEsc: { type: Boolean, default: true }, onEsc: Function, autoFocus: {\n        type: Boolean,\n        default: true\n    }, internalStyle: [String, Object], maskClosable: {\n        type: Boolean,\n        default: true\n    }, onPositiveClick: Function, onNegativeClick: Function, onClose: Function, onMaskClick: Function });\nexport const NDialogEnvironment = defineComponent({\n    name: 'DialogEnvironment',\n    props: Object.assign(Object.assign({}, exposedDialogEnvProps), { internalKey: {\n            type: String,\n            required: true\n        }, to: [String, Object], \n        // private\n        onInternalAfterLeave: {\n            type: Function,\n            required: true\n        } }),\n    setup(props) {\n        const showRef = ref(true);\n        function handleAfterLeave() {\n            const { onInternalAfterLeave, internalKey, onAfterLeave } = props;\n            if (onInternalAfterLeave)\n                onInternalAfterLeave(internalKey);\n            if (onAfterLeave)\n                onAfterLeave();\n        }\n        function handlePositiveClick(e) {\n            const { onPositiveClick } = props;\n            if (onPositiveClick) {\n                void Promise.resolve(onPositiveClick(e)).then((result) => {\n                    if (result === false)\n                        return;\n                    hide();\n                });\n            }\n            else {\n                hide();\n            }\n        }\n        function handleNegativeClick(e) {\n            const { onNegativeClick } = props;\n            if (onNegativeClick) {\n                void Promise.resolve(onNegativeClick(e)).then((result) => {\n                    if (result === false)\n                        return;\n                    hide();\n                });\n            }\n            else {\n                hide();\n            }\n        }\n        function handleCloseClick() {\n            const { onClose } = props;\n            if (onClose) {\n                void Promise.resolve(onClose()).then((result) => {\n                    if (result === false)\n                        return;\n                    hide();\n                });\n            }\n            else {\n                hide();\n            }\n        }\n        function handleMaskClick(e) {\n            const { onMaskClick, maskClosable } = props;\n            if (onMaskClick) {\n                onMaskClick(e);\n                maskClosable && hide();\n            }\n        }\n        function handleEsc() {\n            const { onEsc } = props;\n            if (onEsc) {\n                onEsc();\n            }\n        }\n        function hide() {\n            showRef.value = false;\n        }\n        function handleUpdateShow(value) {\n            showRef.value = value;\n        }\n        return {\n            show: showRef,\n            hide,\n            handleUpdateShow,\n            handleAfterLeave,\n            handleCloseClick,\n            handleNegativeClick,\n            handlePositiveClick,\n            handleMaskClick,\n            handleEsc\n        };\n    },\n    render() {\n        const { handlePositiveClick, handleUpdateShow, handleNegativeClick, handleCloseClick, handleAfterLeave, handleMaskClick, handleEsc, to, maskClosable, show } = this;\n        return (h(NModal, { show: show, onUpdateShow: handleUpdateShow, onMaskClick: handleMaskClick, onEsc: handleEsc, to: to, maskClosable: maskClosable, onAfterEnter: this.onAfterEnter, onAfterLeave: handleAfterLeave, closeOnEsc: this.closeOnEsc, blockScroll: this.blockScroll, autoFocus: this.autoFocus, internalAppear: true, internalDialog: true }, {\n            default: () => (h(NDialog, Object.assign({}, keep(this.$props, dialogPropKeys), { style: this.internalStyle, onClose: handleCloseClick, onNegativeClick: handleNegativeClick, onPositiveClick: handlePositiveClick })))\n        }));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}