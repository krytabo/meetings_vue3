{"ast":null,"code":"import { onBeforeUnmount, onMounted, watch, ref } from 'vue';\nlet lockCount = 0;\nlet originalMarginRight = '';\nlet originalOverflow = '';\nlet originalOverflowX = '';\nlet originalOverflowY = '';\nexport const lockHtmlScrollRightCompensationRef = ref('0px');\nexport function useLockHtmlScroll(lockRef) {\n  // not browser\n  if (typeof document === 'undefined') return;\n  const el = document.documentElement;\n  let watchStopHandle;\n  let activated = false;\n  const unlock = () => {\n    el.style.marginRight = originalMarginRight;\n    el.style.overflow = originalOverflow;\n    el.style.overflowX = originalOverflowX;\n    el.style.overflowY = originalOverflowY;\n    lockHtmlScrollRightCompensationRef.value = '0px';\n  };\n  onMounted(() => {\n    watchStopHandle = watch(lockRef, value => {\n      if (value) {\n        if (!lockCount) {\n          const scrollbarWidth = window.innerWidth - el.offsetWidth;\n          if (scrollbarWidth > 0) {\n            originalMarginRight = el.style.marginRight;\n            el.style.marginRight = `${scrollbarWidth}px`;\n            lockHtmlScrollRightCompensationRef.value = `${scrollbarWidth}px`;\n          }\n          originalOverflow = el.style.overflow;\n          originalOverflowX = el.style.overflowX;\n          originalOverflowY = el.style.overflowY;\n          el.style.overflow = 'hidden';\n          el.style.overflowX = 'hidden';\n          el.style.overflowY = 'hidden';\n        }\n        activated = true;\n        lockCount++;\n      } else {\n        lockCount--;\n        if (!lockCount) {\n          unlock();\n        }\n        activated = false;\n      }\n    }, {\n      immediate: true\n    });\n  });\n  onBeforeUnmount(() => {\n    watchStopHandle === null || watchStopHandle === void 0 ? void 0 : watchStopHandle();\n    if (activated) {\n      lockCount--;\n      if (!lockCount) {\n        unlock();\n      }\n      activated = false;\n    }\n  });\n}","map":{"version":3,"names":["onBeforeUnmount","onMounted","watch","ref","lockCount","originalMarginRight","originalOverflow","originalOverflowX","originalOverflowY","lockHtmlScrollRightCompensationRef","useLockHtmlScroll","lockRef","document","el","documentElement","watchStopHandle","activated","unlock","style","marginRight","overflow","overflowX","overflowY","value","scrollbarWidth","window","innerWidth","offsetWidth","immediate"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/_utils/composable/use-lock-html-scroll.js"],"sourcesContent":["import { onBeforeUnmount, onMounted, watch, ref } from 'vue';\nlet lockCount = 0;\nlet originalMarginRight = '';\nlet originalOverflow = '';\nlet originalOverflowX = '';\nlet originalOverflowY = '';\nexport const lockHtmlScrollRightCompensationRef = ref('0px');\nexport function useLockHtmlScroll(lockRef) {\n    // not browser\n    if (typeof document === 'undefined')\n        return;\n    const el = document.documentElement;\n    let watchStopHandle;\n    let activated = false;\n    const unlock = () => {\n        el.style.marginRight = originalMarginRight;\n        el.style.overflow = originalOverflow;\n        el.style.overflowX = originalOverflowX;\n        el.style.overflowY = originalOverflowY;\n        lockHtmlScrollRightCompensationRef.value = '0px';\n    };\n    onMounted(() => {\n        watchStopHandle = watch(lockRef, (value) => {\n            if (value) {\n                if (!lockCount) {\n                    const scrollbarWidth = window.innerWidth - el.offsetWidth;\n                    if (scrollbarWidth > 0) {\n                        originalMarginRight = el.style.marginRight;\n                        el.style.marginRight = `${scrollbarWidth}px`;\n                        lockHtmlScrollRightCompensationRef.value = `${scrollbarWidth}px`;\n                    }\n                    originalOverflow = el.style.overflow;\n                    originalOverflowX = el.style.overflowX;\n                    originalOverflowY = el.style.overflowY;\n                    el.style.overflow = 'hidden';\n                    el.style.overflowX = 'hidden';\n                    el.style.overflowY = 'hidden';\n                }\n                activated = true;\n                lockCount++;\n            }\n            else {\n                lockCount--;\n                if (!lockCount) {\n                    unlock();\n                }\n                activated = false;\n            }\n        }, {\n            immediate: true\n        });\n    });\n    onBeforeUnmount(() => {\n        watchStopHandle === null || watchStopHandle === void 0 ? void 0 : watchStopHandle();\n        if (activated) {\n            lockCount--;\n            if (!lockCount) {\n                unlock();\n            }\n            activated = false;\n        }\n    });\n}\n"],"mappings":"AAAA,SAASA,eAAe,EAAEC,SAAS,EAAEC,KAAK,EAAEC,GAAG,QAAQ,KAAK;AAC5D,IAAIC,SAAS,GAAG,CAAC;AACjB,IAAIC,mBAAmB,GAAG,EAAE;AAC5B,IAAIC,gBAAgB,GAAG,EAAE;AACzB,IAAIC,iBAAiB,GAAG,EAAE;AAC1B,IAAIC,iBAAiB,GAAG,EAAE;AAC1B,OAAO,MAAMC,kCAAkC,GAAGN,GAAG,CAAC,KAAK,CAAC;AAC5D,OAAO,SAASO,iBAAiB,CAACC,OAAO,EAAE;EACvC;EACA,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAC/B;EACJ,MAAMC,EAAE,GAAGD,QAAQ,CAACE,eAAe;EACnC,IAAIC,eAAe;EACnB,IAAIC,SAAS,GAAG,KAAK;EACrB,MAAMC,MAAM,GAAG,MAAM;IACjBJ,EAAE,CAACK,KAAK,CAACC,WAAW,GAAGd,mBAAmB;IAC1CQ,EAAE,CAACK,KAAK,CAACE,QAAQ,GAAGd,gBAAgB;IACpCO,EAAE,CAACK,KAAK,CAACG,SAAS,GAAGd,iBAAiB;IACtCM,EAAE,CAACK,KAAK,CAACI,SAAS,GAAGd,iBAAiB;IACtCC,kCAAkC,CAACc,KAAK,GAAG,KAAK;EACpD,CAAC;EACDtB,SAAS,CAAC,MAAM;IACZc,eAAe,GAAGb,KAAK,CAACS,OAAO,EAAGY,KAAK,IAAK;MACxC,IAAIA,KAAK,EAAE;QACP,IAAI,CAACnB,SAAS,EAAE;UACZ,MAAMoB,cAAc,GAAGC,MAAM,CAACC,UAAU,GAAGb,EAAE,CAACc,WAAW;UACzD,IAAIH,cAAc,GAAG,CAAC,EAAE;YACpBnB,mBAAmB,GAAGQ,EAAE,CAACK,KAAK,CAACC,WAAW;YAC1CN,EAAE,CAACK,KAAK,CAACC,WAAW,GAAI,GAAEK,cAAe,IAAG;YAC5Cf,kCAAkC,CAACc,KAAK,GAAI,GAAEC,cAAe,IAAG;UACpE;UACAlB,gBAAgB,GAAGO,EAAE,CAACK,KAAK,CAACE,QAAQ;UACpCb,iBAAiB,GAAGM,EAAE,CAACK,KAAK,CAACG,SAAS;UACtCb,iBAAiB,GAAGK,EAAE,CAACK,KAAK,CAACI,SAAS;UACtCT,EAAE,CAACK,KAAK,CAACE,QAAQ,GAAG,QAAQ;UAC5BP,EAAE,CAACK,KAAK,CAACG,SAAS,GAAG,QAAQ;UAC7BR,EAAE,CAACK,KAAK,CAACI,SAAS,GAAG,QAAQ;QACjC;QACAN,SAAS,GAAG,IAAI;QAChBZ,SAAS,EAAE;MACf,CAAC,MACI;QACDA,SAAS,EAAE;QACX,IAAI,CAACA,SAAS,EAAE;UACZa,MAAM,EAAE;QACZ;QACAD,SAAS,GAAG,KAAK;MACrB;IACJ,CAAC,EAAE;MACCY,SAAS,EAAE;IACf,CAAC,CAAC;EACN,CAAC,CAAC;EACF5B,eAAe,CAAC,MAAM;IAClBe,eAAe,KAAK,IAAI,IAAIA,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,EAAE;IACnF,IAAIC,SAAS,EAAE;MACXZ,SAAS,EAAE;MACX,IAAI,CAACA,SAAS,EAAE;QACZa,MAAM,EAAE;MACZ;MACAD,SAAS,GAAG,KAAK;IACrB;EACJ,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}