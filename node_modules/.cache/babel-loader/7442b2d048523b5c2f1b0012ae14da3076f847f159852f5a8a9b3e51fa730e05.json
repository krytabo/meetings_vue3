{"ast":null,"code":"import { inject, computed } from 'vue';\nimport { menuInjectionKey, submenuInjectionKey, menuItemGroupInjectionKey } from './context';\nconst ICON_MARGIN_RIGHT = 8;\nexport function useMenuChild(props) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const NMenu = inject(menuInjectionKey);\n  const {\n    props: menuProps,\n    mergedCollapsedRef\n  } = NMenu;\n  const NSubmenu = inject(submenuInjectionKey, null);\n  const NMenuOptionGroup = inject(menuItemGroupInjectionKey, null);\n  const horizontalRef = computed(() => {\n    return menuProps.mode === 'horizontal';\n  });\n  const dropdownPlacementRef = computed(() => {\n    if (horizontalRef.value) {\n      return menuProps.dropdownPlacement;\n    }\n    if ('tmNodes' in props) return 'right-start';\n    return 'right';\n  });\n  const maxIconSizeRef = computed(() => {\n    var _a;\n    return Math.max((_a = menuProps.collapsedIconSize) !== null && _a !== void 0 ? _a : menuProps.iconSize, menuProps.iconSize);\n  });\n  const activeIconSizeRef = computed(() => {\n    var _a;\n    if (!horizontalRef.value && props.root && mergedCollapsedRef.value) {\n      return (_a = menuProps.collapsedIconSize) !== null && _a !== void 0 ? _a : menuProps.iconSize;\n    } else {\n      return menuProps.iconSize;\n    }\n  });\n  const paddingLeftRef = computed(() => {\n    if (horizontalRef.value) return undefined;\n    const {\n      collapsedWidth,\n      indent,\n      rootIndent\n    } = menuProps;\n    const {\n      root,\n      isGroup\n    } = props;\n    const mergedRootIndent = rootIndent === undefined ? indent : rootIndent;\n    if (root) {\n      if (mergedCollapsedRef.value) {\n        return collapsedWidth / 2 - maxIconSizeRef.value / 2;\n      }\n      return mergedRootIndent;\n    }\n    if (NMenuOptionGroup) {\n      return indent / 2 + NMenuOptionGroup.paddingLeftRef.value;\n    }\n    if (NSubmenu) {\n      return (isGroup ? indent / 2 : indent) + NSubmenu.paddingLeftRef.value;\n    }\n    return undefined;\n  });\n  const iconMarginRightRef = computed(() => {\n    const {\n      collapsedWidth,\n      indent,\n      rootIndent\n    } = menuProps;\n    const {\n      value: maxIconSize\n    } = maxIconSizeRef;\n    const {\n      root\n    } = props;\n    if (horizontalRef.value) return ICON_MARGIN_RIGHT;\n    if (!root) return ICON_MARGIN_RIGHT;\n    if (!mergedCollapsedRef.value) return ICON_MARGIN_RIGHT;\n    const mergedRootIndent = rootIndent === undefined ? indent : rootIndent;\n    return mergedRootIndent + maxIconSize + ICON_MARGIN_RIGHT - (collapsedWidth + maxIconSize) / 2;\n  });\n  return {\n    dropdownPlacement: dropdownPlacementRef,\n    activeIconSize: activeIconSizeRef,\n    maxIconSize: maxIconSizeRef,\n    paddingLeft: paddingLeftRef,\n    iconMarginRight: iconMarginRightRef,\n    NMenu,\n    NSubmenu\n  };\n}","map":{"version":3,"names":["inject","computed","menuInjectionKey","submenuInjectionKey","menuItemGroupInjectionKey","ICON_MARGIN_RIGHT","useMenuChild","props","NMenu","menuProps","mergedCollapsedRef","NSubmenu","NMenuOptionGroup","horizontalRef","mode","dropdownPlacementRef","value","dropdownPlacement","maxIconSizeRef","_a","Math","max","collapsedIconSize","iconSize","activeIconSizeRef","root","paddingLeftRef","undefined","collapsedWidth","indent","rootIndent","isGroup","mergedRootIndent","iconMarginRightRef","maxIconSize","activeIconSize","paddingLeft","iconMarginRight"],"sources":["/Users/elmo/GitHub/meetings_vue3/node_modules/naive-ui/es/menu/src/use-menu-child.js"],"sourcesContent":["import { inject, computed } from 'vue';\nimport { menuInjectionKey, submenuInjectionKey, menuItemGroupInjectionKey } from './context';\nconst ICON_MARGIN_RIGHT = 8;\nexport function useMenuChild(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NMenu = inject(menuInjectionKey);\n    const { props: menuProps, mergedCollapsedRef } = NMenu;\n    const NSubmenu = inject(submenuInjectionKey, null);\n    const NMenuOptionGroup = inject(menuItemGroupInjectionKey, null);\n    const horizontalRef = computed(() => {\n        return menuProps.mode === 'horizontal';\n    });\n    const dropdownPlacementRef = computed(() => {\n        if (horizontalRef.value) {\n            return menuProps.dropdownPlacement;\n        }\n        if ('tmNodes' in props)\n            return 'right-start';\n        return 'right';\n    });\n    const maxIconSizeRef = computed(() => {\n        var _a;\n        return Math.max((_a = menuProps.collapsedIconSize) !== null && _a !== void 0 ? _a : menuProps.iconSize, menuProps.iconSize);\n    });\n    const activeIconSizeRef = computed(() => {\n        var _a;\n        if (!horizontalRef.value && props.root && mergedCollapsedRef.value) {\n            return (_a = menuProps.collapsedIconSize) !== null && _a !== void 0 ? _a : menuProps.iconSize;\n        }\n        else {\n            return menuProps.iconSize;\n        }\n    });\n    const paddingLeftRef = computed(() => {\n        if (horizontalRef.value)\n            return undefined;\n        const { collapsedWidth, indent, rootIndent } = menuProps;\n        const { root, isGroup } = props;\n        const mergedRootIndent = rootIndent === undefined ? indent : rootIndent;\n        if (root) {\n            if (mergedCollapsedRef.value) {\n                return collapsedWidth / 2 - maxIconSizeRef.value / 2;\n            }\n            return mergedRootIndent;\n        }\n        if (NMenuOptionGroup) {\n            return indent / 2 + NMenuOptionGroup.paddingLeftRef.value;\n        }\n        if (NSubmenu) {\n            return ((isGroup ? indent / 2 : indent) +\n                NSubmenu.paddingLeftRef.value);\n        }\n        return undefined;\n    });\n    const iconMarginRightRef = computed(() => {\n        const { collapsedWidth, indent, rootIndent } = menuProps;\n        const { value: maxIconSize } = maxIconSizeRef;\n        const { root } = props;\n        if (horizontalRef.value)\n            return ICON_MARGIN_RIGHT;\n        if (!root)\n            return ICON_MARGIN_RIGHT;\n        if (!mergedCollapsedRef.value)\n            return ICON_MARGIN_RIGHT;\n        const mergedRootIndent = rootIndent === undefined ? indent : rootIndent;\n        return (mergedRootIndent +\n            maxIconSize +\n            ICON_MARGIN_RIGHT -\n            (collapsedWidth + maxIconSize) / 2);\n    });\n    return {\n        dropdownPlacement: dropdownPlacementRef,\n        activeIconSize: activeIconSizeRef,\n        maxIconSize: maxIconSizeRef,\n        paddingLeft: paddingLeftRef,\n        iconMarginRight: iconMarginRightRef,\n        NMenu,\n        NSubmenu\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}