{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Fragment, ref, h, reactive, Teleport, defineComponent, provide } from 'vue';\nimport { createId } from 'seemly';\nimport { omit } from '../../_utils';\nimport { useConfig, useTheme } from '../../_mixins';\nimport MessageEnvironment from './MessageEnvironment';\nimport { messageApiInjectionKey, messageProviderInjectionKey } from './context';\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: [String, Object],\n  duration: {\n    type: Number,\n    default: 3000\n  },\n  keepAliveOnHover: Boolean,\n  max: Number,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  closable: Boolean,\n  containerStyle: [String, Object]\n});\nexport default defineComponent({\n  name: 'MessageProvider',\n  props: messageProviderProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const messageListRef = ref([]);\n    const messageRefs = ref({});\n    const api = {\n      create(content, options) {\n        return create(content, Object.assign({\n          type: 'default'\n        }, options));\n      },\n      info(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'info'\n        }));\n      },\n      success(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'success'\n        }));\n      },\n      warning(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'warning'\n        }));\n      },\n      error(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'error'\n        }));\n      },\n      loading(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'loading'\n        }));\n      },\n      destroyAll\n    };\n    provide(messageProviderInjectionKey, {\n      props,\n      mergedClsPrefixRef\n    });\n    provide(messageApiInjectionKey, api);\n    function create(content, options) {\n      const key = createId();\n      const messageReactive = reactive(Object.assign(Object.assign({}, options), {\n        content,\n        key,\n        destroy: () => {\n          var _a;\n          (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n        }\n      }));\n      const {\n        max\n      } = props;\n      if (max && messageListRef.value.length >= max) {\n        messageListRef.value.shift();\n      }\n      messageListRef.value.push(messageReactive);\n      return messageReactive;\n    }\n    function handleAfterLeave(key) {\n      messageListRef.value.splice(messageListRef.value.findIndex(message => message.key === key), 1);\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete messageRefs.value[key];\n    }\n    function destroyAll() {\n      Object.values(messageRefs.value).forEach(messageInstRef => {\n        messageInstRef.hide();\n      });\n    }\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      messageRefs,\n      messageList: messageListRef,\n      handleAfterLeave\n    }, api);\n  },\n  render() {\n    var _a, _b, _c;\n    return h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a), this.messageList.length ? h(Teleport, {\n      to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body'\n    }, h(\"div\", {\n      class: [`${this.mergedClsPrefix}-message-container`, `${this.mergedClsPrefix}-message-container--${this.placement}`],\n      key: \"message-container\",\n      style: this.containerStyle\n    }, this.messageList.map(message => {\n      return h(MessageEnvironment, Object.assign({\n        ref: inst => {\n          if (inst) {\n            this.messageRefs[message.key] = inst;\n          }\n        },\n        internalKey: message.key,\n        onInternalAfterLeave: this.handleAfterLeave\n      }, omit(message, ['destroy'], undefined), {\n        duration: message.duration === undefined ? this.duration : message.duration,\n        keepAliveOnHover: message.keepAliveOnHover === undefined ? this.keepAliveOnHover : message.keepAliveOnHover,\n        closable: message.closable === undefined ? this.closable : message.closable\n      }));\n    }))) : null);\n  }\n});","map":{"version":3,"names":["Fragment","ref","h","reactive","Teleport","defineComponent","provide","createId","omit","useConfig","useTheme","MessageEnvironment","messageApiInjectionKey","messageProviderInjectionKey","messageProviderProps","Object","assign","props","to","String","duration","type","Number","default","keepAliveOnHover","Boolean","max","placement","closable","containerStyle","name","setup","mergedClsPrefixRef","messageListRef","messageRefs","api","create","content","options","info","success","warning","error","loading","destroyAll","key","messageReactive","destroy","_a","value","hide","length","shift","push","handleAfterLeave","splice","findIndex","message","values","forEach","messageInstRef","mergedClsPrefix","messageList","render","_b","_c","$slots","call","class","style","map","inst","internalKey","onInternalAfterLeave","undefined"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/message/src/MessageProvider.js"],"sourcesContent":["import { Fragment, ref, h, reactive, Teleport, defineComponent, provide } from 'vue';\nimport { createId } from 'seemly';\nimport { omit } from '../../_utils';\nimport { useConfig, useTheme } from '../../_mixins';\nimport MessageEnvironment from './MessageEnvironment';\nimport { messageApiInjectionKey, messageProviderInjectionKey } from './context';\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), { to: [String, Object], duration: {\n        type: Number,\n        default: 3000\n    }, keepAliveOnHover: Boolean, max: Number, placement: {\n        type: String,\n        default: 'top'\n    }, closable: Boolean, containerStyle: [String, Object] });\nexport default defineComponent({\n    name: 'MessageProvider',\n    props: messageProviderProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        const messageListRef = ref([]);\n        const messageRefs = ref({});\n        const api = {\n            create(content, options) {\n                return create(content, Object.assign({ type: 'default' }, options));\n            },\n            info(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'info' }));\n            },\n            success(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'success' }));\n            },\n            warning(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'warning' }));\n            },\n            error(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'error' }));\n            },\n            loading(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'loading' }));\n            },\n            destroyAll\n        };\n        provide(messageProviderInjectionKey, {\n            props,\n            mergedClsPrefixRef\n        });\n        provide(messageApiInjectionKey, api);\n        function create(content, options) {\n            const key = createId();\n            const messageReactive = reactive(Object.assign(Object.assign({}, options), { content,\n                key, destroy: () => {\n                    var _a;\n                    (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n                } }));\n            const { max } = props;\n            if (max && messageListRef.value.length >= max) {\n                messageListRef.value.shift();\n            }\n            messageListRef.value.push(messageReactive);\n            return messageReactive;\n        }\n        function handleAfterLeave(key) {\n            messageListRef.value.splice(messageListRef.value.findIndex((message) => message.key === key), 1);\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete messageRefs.value[key];\n        }\n        function destroyAll() {\n            Object.values(messageRefs.value).forEach((messageInstRef) => {\n                messageInstRef.hide();\n            });\n        }\n        return Object.assign({\n            mergedClsPrefix: mergedClsPrefixRef,\n            messageRefs,\n            messageList: messageListRef,\n            handleAfterLeave\n        }, api);\n    },\n    render() {\n        var _a, _b, _c;\n        return (h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 :\n            _b.call(_a),\n            this.messageList.length ? (h(Teleport, { to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body' },\n                h(\"div\", { class: [\n                        `${this.mergedClsPrefix}-message-container`,\n                        `${this.mergedClsPrefix}-message-container--${this.placement}`\n                    ], key: \"message-container\", style: this.containerStyle }, this.messageList.map((message) => {\n                    return (h(MessageEnvironment, Object.assign({ ref: ((inst) => {\n                            if (inst) {\n                                this.messageRefs[message.key] = inst;\n                            }\n                        }), internalKey: message.key, onInternalAfterLeave: this.handleAfterLeave }, omit(message, ['destroy'], undefined), { duration: message.duration === undefined\n                            ? this.duration\n                            : message.duration, keepAliveOnHover: message.keepAliveOnHover === undefined\n                            ? this.keepAliveOnHover\n                            : message.keepAliveOnHover, closable: message.closable === undefined\n                            ? this.closable\n                            : message.closable })));\n                })))) : null));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}