{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { h, defineComponent, provide, ref } from 'vue';\nimport { useConfig, useTheme } from '../../_mixins';\nimport { formLight } from '../styles';\nimport style from './styles/form.cssr';\nimport { keysOf } from '../../_utils';\nimport { formInjectionKey, formItemInstsInjectionKey } from './context';\nexport const formProps = Object.assign(Object.assign({}, useTheme.props), {\n  inline: Boolean,\n  labelWidth: [Number, String],\n  labelAlign: String,\n  labelPlacement: {\n    type: String,\n    default: 'top'\n  },\n  model: {\n    type: Object,\n    default: () => {}\n  },\n  rules: Object,\n  disabled: Boolean,\n  size: String,\n  showRequireMark: {\n    type: Boolean,\n    default: undefined\n  },\n  requireMarkPlacement: String,\n  showFeedback: {\n    type: Boolean,\n    default: true\n  },\n  onSubmit: {\n    type: Function,\n    default: e => e.preventDefault()\n  },\n  showLabel: {\n    type: Boolean,\n    default: undefined\n  },\n  validateMessages: Object\n});\nexport default defineComponent({\n  name: 'Form',\n  props: formProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    useTheme('Form', '-form', style, formLight, props, mergedClsPrefixRef);\n    // from path to form-item\n    const formItems = {};\n    // for label-width = 'auto'\n    const maxChildLabelWidthRef = ref(undefined);\n    const deriveMaxChildLabelWidth = currentWidth => {\n      const currentMaxChildLabelWidth = maxChildLabelWidthRef.value;\n      if (currentMaxChildLabelWidth === undefined || currentWidth >= currentMaxChildLabelWidth) {\n        maxChildLabelWidthRef.value = currentWidth;\n      }\n    };\n    function validate(validateCallback, shouldRuleBeApplied = () => true) {\n      return __awaiter(this, void 0, void 0, function* () {\n        return yield new Promise((resolve, reject) => {\n          const formItemValidationPromises = [];\n          for (const key of keysOf(formItems)) {\n            const formItemInstances = formItems[key];\n            for (const formItemInstance of formItemInstances) {\n              if (formItemInstance.path) {\n                formItemValidationPromises.push(formItemInstance.internalValidate(null, shouldRuleBeApplied));\n              }\n            }\n          }\n          void Promise.all(formItemValidationPromises).then(results => {\n            if (results.some(result => !result.valid)) {\n              const errors = results.filter(result => result.errors).map(result => result.errors);\n              if (validateCallback) {\n                validateCallback(errors);\n              }\n              reject(errors);\n            } else {\n              if (validateCallback) validateCallback();\n              resolve();\n            }\n          });\n        });\n      });\n    }\n    function restoreValidation() {\n      for (const key of keysOf(formItems)) {\n        const formItemInstances = formItems[key];\n        for (const formItemInstance of formItemInstances) {\n          formItemInstance.restoreValidation();\n        }\n      }\n    }\n    provide(formInjectionKey, {\n      props,\n      maxChildLabelWidthRef,\n      deriveMaxChildLabelWidth\n    });\n    provide(formItemInstsInjectionKey, {\n      formItems\n    });\n    const formExposedMethod = {\n      validate,\n      restoreValidation\n    };\n    return Object.assign(formExposedMethod, {\n      mergedClsPrefix: mergedClsPrefixRef\n    });\n  },\n  render() {\n    const {\n      mergedClsPrefix\n    } = this;\n    return h(\"form\", {\n      class: [`${mergedClsPrefix}-form`, this.inline && `${mergedClsPrefix}-form--inline`],\n      onSubmit: this.onSubmit\n    }, this.$slots);\n  }\n});","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","h","defineComponent","provide","ref","useConfig","useTheme","formLight","style","keysOf","formInjectionKey","formItemInstsInjectionKey","formProps","Object","assign","props","inline","Boolean","labelWidth","Number","String","labelAlign","labelPlacement","type","default","model","rules","disabled","size","showRequireMark","undefined","requireMarkPlacement","showFeedback","onSubmit","Function","preventDefault","showLabel","validateMessages","name","setup","mergedClsPrefixRef","formItems","maxChildLabelWidthRef","deriveMaxChildLabelWidth","currentWidth","currentMaxChildLabelWidth","validate","validateCallback","shouldRuleBeApplied","formItemValidationPromises","key","formItemInstances","formItemInstance","path","push","internalValidate","all","results","some","valid","errors","filter","map","restoreValidation","formExposedMethod","mergedClsPrefix","render","class","$slots"],"sources":["/Users/elmo/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/form/src/Form.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { h, defineComponent, provide, ref } from 'vue';\nimport { useConfig, useTheme } from '../../_mixins';\nimport { formLight } from '../styles';\nimport style from './styles/form.cssr';\nimport { keysOf } from '../../_utils';\nimport { formInjectionKey, formItemInstsInjectionKey } from './context';\nexport const formProps = Object.assign(Object.assign({}, useTheme.props), { inline: Boolean, labelWidth: [Number, String], labelAlign: String, labelPlacement: {\n        type: String,\n        default: 'top'\n    }, model: {\n        type: Object,\n        default: () => { }\n    }, rules: Object, disabled: Boolean, size: String, showRequireMark: {\n        type: Boolean,\n        default: undefined\n    }, requireMarkPlacement: String, showFeedback: {\n        type: Boolean,\n        default: true\n    }, onSubmit: {\n        type: Function,\n        default: (e) => e.preventDefault()\n    }, showLabel: {\n        type: Boolean,\n        default: undefined\n    }, validateMessages: Object });\nexport default defineComponent({\n    name: 'Form',\n    props: formProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        useTheme('Form', '-form', style, formLight, props, mergedClsPrefixRef);\n        // from path to form-item\n        const formItems = {};\n        // for label-width = 'auto'\n        const maxChildLabelWidthRef = ref(undefined);\n        const deriveMaxChildLabelWidth = (currentWidth) => {\n            const currentMaxChildLabelWidth = maxChildLabelWidthRef.value;\n            if (currentMaxChildLabelWidth === undefined ||\n                currentWidth >= currentMaxChildLabelWidth) {\n                maxChildLabelWidthRef.value = currentWidth;\n            }\n        };\n        function validate(validateCallback, shouldRuleBeApplied = () => true) {\n            return __awaiter(this, void 0, void 0, function* () {\n                return yield new Promise((resolve, reject) => {\n                    const formItemValidationPromises = [];\n                    for (const key of keysOf(formItems)) {\n                        const formItemInstances = formItems[key];\n                        for (const formItemInstance of formItemInstances) {\n                            if (formItemInstance.path) {\n                                formItemValidationPromises.push(formItemInstance.internalValidate(null, shouldRuleBeApplied));\n                            }\n                        }\n                    }\n                    void Promise.all(formItemValidationPromises).then((results) => {\n                        if (results.some((result) => !result.valid)) {\n                            const errors = results\n                                .filter((result) => result.errors)\n                                .map((result) => result.errors);\n                            if (validateCallback) {\n                                validateCallback(errors);\n                            }\n                            reject(errors);\n                        }\n                        else {\n                            if (validateCallback)\n                                validateCallback();\n                            resolve();\n                        }\n                    });\n                });\n            });\n        }\n        function restoreValidation() {\n            for (const key of keysOf(formItems)) {\n                const formItemInstances = formItems[key];\n                for (const formItemInstance of formItemInstances) {\n                    formItemInstance.restoreValidation();\n                }\n            }\n        }\n        provide(formInjectionKey, {\n            props,\n            maxChildLabelWidthRef,\n            deriveMaxChildLabelWidth\n        });\n        provide(formItemInstsInjectionKey, { formItems });\n        const formExposedMethod = {\n            validate,\n            restoreValidation\n        };\n        return Object.assign(formExposedMethod, {\n            mergedClsPrefix: mergedClsPrefixRef\n        });\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return (h(\"form\", { class: [\n                `${mergedClsPrefix}-form`,\n                this.inline && `${mergedClsPrefix}-form--inline`\n            ], onSubmit: this.onSubmit }, this.$slots));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}