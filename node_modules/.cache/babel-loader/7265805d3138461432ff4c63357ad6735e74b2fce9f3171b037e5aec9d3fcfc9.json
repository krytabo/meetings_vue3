{"ast":null,"code":"import { nextTick, Transition, h, defineComponent, ref, onMounted, inject } from 'vue';\nimport { keep } from '../../_utils';\nimport { notificationProviderInjectionKey } from './context';\nimport { Notification, notificationProps, notificationPropKeys } from './Notification';\nexport const notificationEnvOptions = Object.assign(Object.assign({}, notificationProps), {\n  duration: Number,\n  onClose: Function,\n  onLeave: Function,\n  onAfterEnter: Function,\n  onAfterLeave: Function,\n  /** @deprecated */\n  onHide: Function,\n  /** @deprecated */\n  onAfterShow: Function,\n  /** @deprecated */\n  onAfterHide: Function\n});\nexport const NotificationEnvironment = defineComponent({\n  name: 'NotificationEnvironment',\n  props: Object.assign(Object.assign({}, notificationEnvOptions), {\n    // private\n    internalKey: {\n      type: String,\n      required: true\n    },\n    onInternalAfterLeave: {\n      type: Function,\n      required: true\n    }\n  }),\n  setup(props) {\n    const {\n      wipTransitionCountRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(notificationProviderInjectionKey);\n    const showRef = ref(true);\n    let timerId = null;\n    function hide() {\n      showRef.value = false;\n      if (timerId) {\n        window.clearTimeout(timerId);\n      }\n    }\n    function handleBeforeEnter(el) {\n      wipTransitionCountRef.value++;\n      void nextTick(() => {\n        el.style.height = `${el.offsetHeight}px`;\n        el.style.maxHeight = '0';\n        el.style.transition = 'none';\n        void el.offsetHeight;\n        el.style.transition = '';\n        el.style.maxHeight = el.style.height;\n      });\n    }\n    function handleAfterEnter(el) {\n      wipTransitionCountRef.value--;\n      el.style.height = '';\n      el.style.maxHeight = '';\n      const {\n        onAfterEnter,\n        onAfterShow\n      } = props;\n      if (onAfterEnter) onAfterEnter();\n      // deprecated\n      if (onAfterShow) onAfterShow();\n    }\n    function handleBeforeLeave(el) {\n      wipTransitionCountRef.value++;\n      el.style.maxHeight = `${el.offsetHeight}px`;\n      el.style.height = `${el.offsetHeight}px`;\n      void el.offsetHeight;\n    }\n    function handleLeave(el) {\n      const {\n        onHide\n      } = props;\n      if (onHide) onHide();\n      el.style.maxHeight = '0';\n      void el.offsetHeight;\n    }\n    function handleAfterLeave() {\n      wipTransitionCountRef.value--;\n      const {\n        onAfterLeave,\n        onInternalAfterLeave,\n        onAfterHide,\n        internalKey\n      } = props;\n      if (onAfterLeave) onAfterLeave();\n      onInternalAfterLeave(internalKey);\n      // deprecated\n      if (onAfterHide) onAfterHide();\n    }\n    function setHideTimeout() {\n      const {\n        duration\n      } = props;\n      if (duration) {\n        timerId = window.setTimeout(hide, duration);\n      }\n    }\n    function handleMouseenter(e) {\n      if (e.currentTarget !== e.target) return;\n      if (timerId !== null) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      }\n    }\n    function handleMouseleave(e) {\n      if (e.currentTarget !== e.target) return;\n      setHideTimeout();\n    }\n    function handleClose() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        void Promise.resolve(onClose()).then(feedback => {\n          if (feedback === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    onMounted(() => {\n      if (props.duration) {\n        timerId = window.setTimeout(hide, props.duration);\n      }\n    });\n    return {\n      show: showRef,\n      hide,\n      handleClose,\n      handleAfterLeave,\n      handleLeave,\n      handleBeforeLeave,\n      handleAfterEnter,\n      handleBeforeEnter,\n      handleMouseenter,\n      handleMouseleave\n    };\n  },\n  render() {\n    return h(Transition, {\n      name: \"notification-transition\",\n      appear: true,\n      // convert to any since Element is not compitable with HTMLElement\n      onBeforeEnter: this.handleBeforeEnter,\n      onAfterEnter: this.handleAfterEnter,\n      onBeforeLeave: this.handleBeforeLeave,\n      onLeave: this.handleLeave,\n      onAfterLeave: this.handleAfterLeave\n    }, {\n      default: () => {\n        return this.show ? h(Notification, Object.assign({}, keep(this.$props, notificationPropKeys), {\n          onClose: this.handleClose,\n          onMouseenter: this.duration && this.keepAliveOnHover ? this.handleMouseenter : undefined,\n          onMouseleave: this.duration && this.keepAliveOnHover ? this.handleMouseleave : undefined\n        })) : null;\n      }\n    });\n  }\n});","map":{"version":3,"names":["nextTick","Transition","h","defineComponent","ref","onMounted","inject","keep","notificationProviderInjectionKey","Notification","notificationProps","notificationPropKeys","notificationEnvOptions","Object","assign","duration","Number","onClose","Function","onLeave","onAfterEnter","onAfterLeave","onHide","onAfterShow","onAfterHide","NotificationEnvironment","name","props","internalKey","type","String","required","onInternalAfterLeave","setup","wipTransitionCountRef","showRef","timerId","hide","value","window","clearTimeout","handleBeforeEnter","el","style","height","offsetHeight","maxHeight","transition","handleAfterEnter","handleBeforeLeave","handleLeave","handleAfterLeave","setHideTimeout","setTimeout","handleMouseenter","e","currentTarget","target","handleMouseleave","handleClose","Promise","resolve","then","feedback","show","render","appear","onBeforeEnter","onBeforeLeave","default","$props","onMouseenter","keepAliveOnHover","undefined","onMouseleave"],"sources":["/Users/elmo/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/notification/src/NotificationEnvironment.js"],"sourcesContent":["import { nextTick, Transition, h, defineComponent, ref, onMounted, inject } from 'vue';\nimport { keep } from '../../_utils';\nimport { notificationProviderInjectionKey } from './context';\nimport { Notification, notificationProps, notificationPropKeys } from './Notification';\nexport const notificationEnvOptions = Object.assign(Object.assign({}, notificationProps), { duration: Number, onClose: Function, onLeave: Function, onAfterEnter: Function, onAfterLeave: Function, \n    /** @deprecated */\n    onHide: Function, \n    /** @deprecated */\n    onAfterShow: Function, \n    /** @deprecated */\n    onAfterHide: Function });\nexport const NotificationEnvironment = defineComponent({\n    name: 'NotificationEnvironment',\n    props: Object.assign(Object.assign({}, notificationEnvOptions), { \n        // private\n        internalKey: {\n            type: String,\n            required: true\n        }, onInternalAfterLeave: {\n            type: Function,\n            required: true\n        } }),\n    setup(props) {\n        const { wipTransitionCountRef\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(notificationProviderInjectionKey);\n        const showRef = ref(true);\n        let timerId = null;\n        function hide() {\n            showRef.value = false;\n            if (timerId) {\n                window.clearTimeout(timerId);\n            }\n        }\n        function handleBeforeEnter(el) {\n            wipTransitionCountRef.value++;\n            void nextTick(() => {\n                el.style.height = `${el.offsetHeight}px`;\n                el.style.maxHeight = '0';\n                el.style.transition = 'none';\n                void el.offsetHeight;\n                el.style.transition = '';\n                el.style.maxHeight = el.style.height;\n            });\n        }\n        function handleAfterEnter(el) {\n            wipTransitionCountRef.value--;\n            el.style.height = '';\n            el.style.maxHeight = '';\n            const { onAfterEnter, onAfterShow } = props;\n            if (onAfterEnter)\n                onAfterEnter();\n            // deprecated\n            if (onAfterShow)\n                onAfterShow();\n        }\n        function handleBeforeLeave(el) {\n            wipTransitionCountRef.value++;\n            el.style.maxHeight = `${el.offsetHeight}px`;\n            el.style.height = `${el.offsetHeight}px`;\n            void el.offsetHeight;\n        }\n        function handleLeave(el) {\n            const { onHide } = props;\n            if (onHide)\n                onHide();\n            el.style.maxHeight = '0';\n            void el.offsetHeight;\n        }\n        function handleAfterLeave() {\n            wipTransitionCountRef.value--;\n            const { onAfterLeave, onInternalAfterLeave, onAfterHide, internalKey } = props;\n            if (onAfterLeave)\n                onAfterLeave();\n            onInternalAfterLeave(internalKey);\n            // deprecated\n            if (onAfterHide)\n                onAfterHide();\n        }\n        function setHideTimeout() {\n            const { duration } = props;\n            if (duration) {\n                timerId = window.setTimeout(hide, duration);\n            }\n        }\n        function handleMouseenter(e) {\n            if (e.currentTarget !== e.target)\n                return;\n            if (timerId !== null) {\n                window.clearTimeout(timerId);\n                timerId = null;\n            }\n        }\n        function handleMouseleave(e) {\n            if (e.currentTarget !== e.target)\n                return;\n            setHideTimeout();\n        }\n        function handleClose() {\n            const { onClose } = props;\n            if (onClose) {\n                void Promise.resolve(onClose()).then((feedback) => {\n                    if (feedback === false)\n                        return;\n                    hide();\n                });\n            }\n            else {\n                hide();\n            }\n        }\n        onMounted(() => {\n            if (props.duration) {\n                timerId = window.setTimeout(hide, props.duration);\n            }\n        });\n        return {\n            show: showRef,\n            hide,\n            handleClose,\n            handleAfterLeave,\n            handleLeave,\n            handleBeforeLeave,\n            handleAfterEnter,\n            handleBeforeEnter,\n            handleMouseenter,\n            handleMouseleave\n        };\n    },\n    render() {\n        return (h(Transition, { name: \"notification-transition\", appear: true, \n            // convert to any since Element is not compitable with HTMLElement\n            onBeforeEnter: this.handleBeforeEnter, onAfterEnter: this.handleAfterEnter, onBeforeLeave: this.handleBeforeLeave, onLeave: this.handleLeave, onAfterLeave: this.handleAfterLeave }, {\n            default: () => {\n                return this.show ? (h(Notification, Object.assign({}, keep(this.$props, notificationPropKeys), { onClose: this.handleClose, onMouseenter: this.duration && this.keepAliveOnHover\n                        ? this.handleMouseenter\n                        : undefined, onMouseleave: this.duration && this.keepAliveOnHover\n                        ? this.handleMouseleave\n                        : undefined }))) : null;\n            }\n        }));\n    }\n});\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,UAAU,EAAEC,CAAC,EAAEC,eAAe,EAAEC,GAAG,EAAEC,SAAS,EAAEC,MAAM,QAAQ,KAAK;AACtF,SAASC,IAAI,QAAQ,cAAc;AACnC,SAASC,gCAAgC,QAAQ,WAAW;AAC5D,SAASC,YAAY,EAAEC,iBAAiB,EAAEC,oBAAoB,QAAQ,gBAAgB;AACtF,OAAO,MAAMC,sBAAsB,GAAGC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEJ,iBAAiB,CAAC,EAAE;EAAEK,QAAQ,EAAEC,MAAM;EAAEC,OAAO,EAAEC,QAAQ;EAAEC,OAAO,EAAED,QAAQ;EAAEE,YAAY,EAAEF,QAAQ;EAAEG,YAAY,EAAEH,QAAQ;EAC9L;EACAI,MAAM,EAAEJ,QAAQ;EAChB;EACAK,WAAW,EAAEL,QAAQ;EACrB;EACAM,WAAW,EAAEN;AAAS,CAAC,CAAC;AAC5B,OAAO,MAAMO,uBAAuB,GAAGtB,eAAe,CAAC;EACnDuB,IAAI,EAAE,yBAAyB;EAC/BC,KAAK,EAAEd,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,sBAAsB,CAAC,EAAE;IAC5D;IACAgB,WAAW,EAAE;MACTC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACd,CAAC;IAAEC,oBAAoB,EAAE;MACrBH,IAAI,EAAEX,QAAQ;MACda,QAAQ,EAAE;IACd;EAAE,CAAC,CAAC;EACRE,KAAK,CAACN,KAAK,EAAE;IACT,MAAM;MAAEO;MACR;IACC,CAAC,GAAG5B,MAAM,CAACE,gCAAgC,CAAC;IAC7C,MAAM2B,OAAO,GAAG/B,GAAG,CAAC,IAAI,CAAC;IACzB,IAAIgC,OAAO,GAAG,IAAI;IAClB,SAASC,IAAI,GAAG;MACZF,OAAO,CAACG,KAAK,GAAG,KAAK;MACrB,IAAIF,OAAO,EAAE;QACTG,MAAM,CAACC,YAAY,CAACJ,OAAO,CAAC;MAChC;IACJ;IACA,SAASK,iBAAiB,CAACC,EAAE,EAAE;MAC3BR,qBAAqB,CAACI,KAAK,EAAE;MAC7B,KAAKtC,QAAQ,CAAC,MAAM;QAChB0C,EAAE,CAACC,KAAK,CAACC,MAAM,GAAI,GAAEF,EAAE,CAACG,YAAa,IAAG;QACxCH,EAAE,CAACC,KAAK,CAACG,SAAS,GAAG,GAAG;QACxBJ,EAAE,CAACC,KAAK,CAACI,UAAU,GAAG,MAAM;QAC5B,KAAKL,EAAE,CAACG,YAAY;QACpBH,EAAE,CAACC,KAAK,CAACI,UAAU,GAAG,EAAE;QACxBL,EAAE,CAACC,KAAK,CAACG,SAAS,GAAGJ,EAAE,CAACC,KAAK,CAACC,MAAM;MACxC,CAAC,CAAC;IACN;IACA,SAASI,gBAAgB,CAACN,EAAE,EAAE;MAC1BR,qBAAqB,CAACI,KAAK,EAAE;MAC7BI,EAAE,CAACC,KAAK,CAACC,MAAM,GAAG,EAAE;MACpBF,EAAE,CAACC,KAAK,CAACG,SAAS,GAAG,EAAE;MACvB,MAAM;QAAE1B,YAAY;QAAEG;MAAY,CAAC,GAAGI,KAAK;MAC3C,IAAIP,YAAY,EACZA,YAAY,EAAE;MAClB;MACA,IAAIG,WAAW,EACXA,WAAW,EAAE;IACrB;IACA,SAAS0B,iBAAiB,CAACP,EAAE,EAAE;MAC3BR,qBAAqB,CAACI,KAAK,EAAE;MAC7BI,EAAE,CAACC,KAAK,CAACG,SAAS,GAAI,GAAEJ,EAAE,CAACG,YAAa,IAAG;MAC3CH,EAAE,CAACC,KAAK,CAACC,MAAM,GAAI,GAAEF,EAAE,CAACG,YAAa,IAAG;MACxC,KAAKH,EAAE,CAACG,YAAY;IACxB;IACA,SAASK,WAAW,CAACR,EAAE,EAAE;MACrB,MAAM;QAAEpB;MAAO,CAAC,GAAGK,KAAK;MACxB,IAAIL,MAAM,EACNA,MAAM,EAAE;MACZoB,EAAE,CAACC,KAAK,CAACG,SAAS,GAAG,GAAG;MACxB,KAAKJ,EAAE,CAACG,YAAY;IACxB;IACA,SAASM,gBAAgB,GAAG;MACxBjB,qBAAqB,CAACI,KAAK,EAAE;MAC7B,MAAM;QAAEjB,YAAY;QAAEW,oBAAoB;QAAER,WAAW;QAAEI;MAAY,CAAC,GAAGD,KAAK;MAC9E,IAAIN,YAAY,EACZA,YAAY,EAAE;MAClBW,oBAAoB,CAACJ,WAAW,CAAC;MACjC;MACA,IAAIJ,WAAW,EACXA,WAAW,EAAE;IACrB;IACA,SAAS4B,cAAc,GAAG;MACtB,MAAM;QAAErC;MAAS,CAAC,GAAGY,KAAK;MAC1B,IAAIZ,QAAQ,EAAE;QACVqB,OAAO,GAAGG,MAAM,CAACc,UAAU,CAAChB,IAAI,EAAEtB,QAAQ,CAAC;MAC/C;IACJ;IACA,SAASuC,gBAAgB,CAACC,CAAC,EAAE;MACzB,IAAIA,CAAC,CAACC,aAAa,KAAKD,CAAC,CAACE,MAAM,EAC5B;MACJ,IAAIrB,OAAO,KAAK,IAAI,EAAE;QAClBG,MAAM,CAACC,YAAY,CAACJ,OAAO,CAAC;QAC5BA,OAAO,GAAG,IAAI;MAClB;IACJ;IACA,SAASsB,gBAAgB,CAACH,CAAC,EAAE;MACzB,IAAIA,CAAC,CAACC,aAAa,KAAKD,CAAC,CAACE,MAAM,EAC5B;MACJL,cAAc,EAAE;IACpB;IACA,SAASO,WAAW,GAAG;MACnB,MAAM;QAAE1C;MAAQ,CAAC,GAAGU,KAAK;MACzB,IAAIV,OAAO,EAAE;QACT,KAAK2C,OAAO,CAACC,OAAO,CAAC5C,OAAO,EAAE,CAAC,CAAC6C,IAAI,CAAEC,QAAQ,IAAK;UAC/C,IAAIA,QAAQ,KAAK,KAAK,EAClB;UACJ1B,IAAI,EAAE;QACV,CAAC,CAAC;MACN,CAAC,MACI;QACDA,IAAI,EAAE;MACV;IACJ;IACAhC,SAAS,CAAC,MAAM;MACZ,IAAIsB,KAAK,CAACZ,QAAQ,EAAE;QAChBqB,OAAO,GAAGG,MAAM,CAACc,UAAU,CAAChB,IAAI,EAAEV,KAAK,CAACZ,QAAQ,CAAC;MACrD;IACJ,CAAC,CAAC;IACF,OAAO;MACHiD,IAAI,EAAE7B,OAAO;MACbE,IAAI;MACJsB,WAAW;MACXR,gBAAgB;MAChBD,WAAW;MACXD,iBAAiB;MACjBD,gBAAgB;MAChBP,iBAAiB;MACjBa,gBAAgB;MAChBI;IACJ,CAAC;EACL,CAAC;EACDO,MAAM,GAAG;IACL,OAAQ/D,CAAC,CAACD,UAAU,EAAE;MAAEyB,IAAI,EAAE,yBAAyB;MAAEwC,MAAM,EAAE,IAAI;MACjE;MACAC,aAAa,EAAE,IAAI,CAAC1B,iBAAiB;MAAErB,YAAY,EAAE,IAAI,CAAC4B,gBAAgB;MAAEoB,aAAa,EAAE,IAAI,CAACnB,iBAAiB;MAAE9B,OAAO,EAAE,IAAI,CAAC+B,WAAW;MAAE7B,YAAY,EAAE,IAAI,CAAC8B;IAAiB,CAAC,EAAE;MACrLkB,OAAO,EAAE,MAAM;QACX,OAAO,IAAI,CAACL,IAAI,GAAI9D,CAAC,CAACO,YAAY,EAAEI,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEP,IAAI,CAAC,IAAI,CAAC+D,MAAM,EAAE3D,oBAAoB,CAAC,EAAE;UAAEM,OAAO,EAAE,IAAI,CAAC0C,WAAW;UAAEY,YAAY,EAAE,IAAI,CAACxD,QAAQ,IAAI,IAAI,CAACyD,gBAAgB,GACtK,IAAI,CAAClB,gBAAgB,GACrBmB,SAAS;UAAEC,YAAY,EAAE,IAAI,CAAC3D,QAAQ,IAAI,IAAI,CAACyD,gBAAgB,GAC/D,IAAI,CAACd,gBAAgB,GACrBe;QAAU,CAAC,CAAC,CAAC,GAAI,IAAI;MACnC;IACJ,CAAC,CAAC;EACN;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}