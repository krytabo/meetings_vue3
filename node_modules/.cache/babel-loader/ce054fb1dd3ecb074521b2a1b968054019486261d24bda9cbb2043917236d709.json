{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, ref, defineComponent, inject, computed, watchEffect } from 'vue';\nimport { formatLength } from '../../_utils';\nimport TableHeader from './TableParts/Header';\nimport TableBody from './TableParts/Body';\nimport { dataTableInjectionKey } from './interface';\nexport default defineComponent({\n  setup() {\n    const {\n      mergedClsPrefixRef,\n      rightFixedColumnsRef,\n      leftFixedColumnsRef,\n      bodyWidthRef,\n      maxHeightRef,\n      minHeightRef,\n      flexHeightRef,\n      syncScrollState\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const headerInstRef = ref(null);\n    const bodyInstRef = ref(null);\n    const selfElRef = ref(null);\n    const fixedStateInitializedRef = ref(!(leftFixedColumnsRef.value.length || rightFixedColumnsRef.value.length));\n    const bodyStyleRef = computed(() => {\n      return {\n        maxHeight: formatLength(maxHeightRef.value),\n        minHeight: formatLength(minHeightRef.value)\n      };\n    });\n    function handleBodyResize(entry) {\n      bodyWidthRef.value = entry.contentRect.width;\n      syncScrollState();\n      if (!fixedStateInitializedRef.value) {\n        fixedStateInitializedRef.value = true;\n      }\n    }\n    function getHeaderElement() {\n      const {\n        value\n      } = headerInstRef;\n      if (value) {\n        return value.$el;\n      }\n      return null;\n    }\n    function getBodyElement() {\n      const {\n        value\n      } = bodyInstRef;\n      if (value) {\n        return value.getScrollContainer();\n      }\n      return null;\n    }\n    const exposedMethods = {\n      getBodyElement,\n      getHeaderElement,\n      scrollTo(arg0, arg1) {\n        var _a;\n        (_a = bodyInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg0, arg1);\n      }\n    };\n    watchEffect(() => {\n      const {\n        value: selfEl\n      } = selfElRef;\n      if (!selfEl) return;\n      const transitionDisabledClass = `${mergedClsPrefixRef.value}-data-table-base-table--transition-disabled`;\n      if (fixedStateInitializedRef.value) {\n        setTimeout(() => {\n          selfEl.classList.remove(transitionDisabledClass);\n        }, 0);\n      } else {\n        selfEl.classList.add(transitionDisabledClass);\n      }\n    });\n    return Object.assign({\n      maxHeight: maxHeightRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      selfElRef,\n      headerInstRef,\n      bodyInstRef,\n      bodyStyle: bodyStyleRef,\n      flexHeight: flexHeightRef,\n      handleBodyResize\n    }, exposedMethods);\n  },\n  render() {\n    const {\n      mergedClsPrefix,\n      maxHeight,\n      flexHeight\n    } = this;\n    const headerInBody = maxHeight === undefined && !flexHeight;\n    return h(\"div\", {\n      class: `${mergedClsPrefix}-data-table-base-table`,\n      ref: \"selfElRef\"\n    }, headerInBody ? null : h(TableHeader, {\n      ref: \"headerInstRef\"\n    }), h(TableBody, {\n      ref: \"bodyInstRef\",\n      bodyStyle: this.bodyStyle,\n      showHeader: headerInBody,\n      flexHeight: flexHeight,\n      onResize: this.handleBodyResize\n    }));\n  }\n});","map":{"version":3,"names":["h","ref","defineComponent","inject","computed","watchEffect","formatLength","TableHeader","TableBody","dataTableInjectionKey","setup","mergedClsPrefixRef","rightFixedColumnsRef","leftFixedColumnsRef","bodyWidthRef","maxHeightRef","minHeightRef","flexHeightRef","syncScrollState","headerInstRef","bodyInstRef","selfElRef","fixedStateInitializedRef","value","length","bodyStyleRef","maxHeight","minHeight","handleBodyResize","entry","contentRect","width","getHeaderElement","$el","getBodyElement","getScrollContainer","exposedMethods","scrollTo","arg0","arg1","_a","selfEl","transitionDisabledClass","setTimeout","classList","remove","add","Object","assign","mergedClsPrefix","bodyStyle","flexHeight","render","headerInBody","undefined","class","showHeader","onResize"],"sources":["/Users/elmo/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/data-table/src/MainTable.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, ref, defineComponent, inject, computed, watchEffect } from 'vue';\nimport { formatLength } from '../../_utils';\nimport TableHeader from './TableParts/Header';\nimport TableBody from './TableParts/Body';\nimport { dataTableInjectionKey } from './interface';\nexport default defineComponent({\n    setup() {\n        const { mergedClsPrefixRef, rightFixedColumnsRef, leftFixedColumnsRef, bodyWidthRef, maxHeightRef, minHeightRef, flexHeightRef, syncScrollState\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(dataTableInjectionKey);\n        const headerInstRef = ref(null);\n        const bodyInstRef = ref(null);\n        const selfElRef = ref(null);\n        const fixedStateInitializedRef = ref(!(leftFixedColumnsRef.value.length || rightFixedColumnsRef.value.length));\n        const bodyStyleRef = computed(() => {\n            return {\n                maxHeight: formatLength(maxHeightRef.value),\n                minHeight: formatLength(minHeightRef.value)\n            };\n        });\n        function handleBodyResize(entry) {\n            bodyWidthRef.value = entry.contentRect.width;\n            syncScrollState();\n            if (!fixedStateInitializedRef.value) {\n                fixedStateInitializedRef.value = true;\n            }\n        }\n        function getHeaderElement() {\n            const { value } = headerInstRef;\n            if (value) {\n                return value.$el;\n            }\n            return null;\n        }\n        function getBodyElement() {\n            const { value } = bodyInstRef;\n            if (value) {\n                return value.getScrollContainer();\n            }\n            return null;\n        }\n        const exposedMethods = {\n            getBodyElement,\n            getHeaderElement,\n            scrollTo(arg0, arg1) {\n                var _a;\n                (_a = bodyInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg0, arg1);\n            }\n        };\n        watchEffect(() => {\n            const { value: selfEl } = selfElRef;\n            if (!selfEl)\n                return;\n            const transitionDisabledClass = `${mergedClsPrefixRef.value}-data-table-base-table--transition-disabled`;\n            if (fixedStateInitializedRef.value) {\n                setTimeout(() => {\n                    selfEl.classList.remove(transitionDisabledClass);\n                }, 0);\n            }\n            else {\n                selfEl.classList.add(transitionDisabledClass);\n            }\n        });\n        return Object.assign({ maxHeight: maxHeightRef, mergedClsPrefix: mergedClsPrefixRef, selfElRef,\n            headerInstRef,\n            bodyInstRef, bodyStyle: bodyStyleRef, flexHeight: flexHeightRef, handleBodyResize }, exposedMethods);\n    },\n    render() {\n        const { mergedClsPrefix, maxHeight, flexHeight } = this;\n        const headerInBody = maxHeight === undefined && !flexHeight;\n        return (h(\"div\", { class: `${mergedClsPrefix}-data-table-base-table`, ref: \"selfElRef\" },\n            headerInBody ? null : h(TableHeader, { ref: \"headerInstRef\" }),\n            h(TableBody, { ref: \"bodyInstRef\", bodyStyle: this.bodyStyle, showHeader: headerInBody, flexHeight: flexHeight, onResize: this.handleBodyResize })));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}