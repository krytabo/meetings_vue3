{"ast":null,"code":"import { onBeforeMount, onBeforeUnmount, reactive, readonly, watch } from 'vue';\nimport { on, off } from 'evtd';\nimport { hasInstance } from './utils';\nexport default function useKeyboard(options = {}, enabledRef) {\n  const state = reactive({\n    ctrl: false,\n    command: false,\n    win: false,\n    shift: false,\n    tab: false\n  });\n  const {\n    keydown,\n    keyup\n  } = options;\n  const keydownHandler = e => {\n    switch (e.key) {\n      case 'Control':\n        state.ctrl = true;\n        break;\n      case 'Meta':\n        state.command = true;\n        state.win = true;\n        break;\n      case 'Shift':\n        state.shift = true;\n        break;\n      case 'Tab':\n        state.tab = true;\n        break;\n    }\n    if (keydown !== undefined) {\n      Object.keys(keydown).forEach(key => {\n        if (key !== e.key) return;\n        const handler = keydown[key];\n        if (typeof handler === 'function') {\n          handler(e);\n        } else {\n          const {\n            stop = false,\n            prevent = false\n          } = handler;\n          if (stop) e.stopPropagation();\n          if (prevent) e.preventDefault();\n          handler.handler(e);\n        }\n      });\n    }\n  };\n  const keyupHandler = e => {\n    switch (e.key) {\n      case 'Control':\n        state.ctrl = false;\n        break;\n      case 'Meta':\n        state.command = false;\n        state.win = false;\n        break;\n      case 'Shift':\n        state.shift = false;\n        break;\n      case 'Tab':\n        state.tab = false;\n        break;\n    }\n    if (keyup !== undefined) {\n      Object.keys(keyup).forEach(key => {\n        if (key !== e.key) return;\n        const handler = keyup[key];\n        if (typeof handler === 'function') {\n          handler(e);\n        } else {\n          const {\n            stop = false,\n            prevent = false\n          } = handler;\n          if (stop) e.stopPropagation();\n          if (prevent) e.preventDefault();\n          handler.handler(e);\n        }\n      });\n    }\n  };\n  const setup = () => {\n    if (enabledRef === undefined || enabledRef.value) {\n      on('keydown', document, keydownHandler);\n      on('keyup', document, keyupHandler);\n    }\n    if (enabledRef !== undefined) {\n      watch(enabledRef, value => {\n        if (value) {\n          on('keydown', document, keydownHandler);\n          on('keyup', document, keyupHandler);\n        } else {\n          off('keydown', document, keydownHandler);\n          off('keyup', document, keyupHandler);\n        }\n      });\n    }\n  };\n  if (hasInstance()) {\n    onBeforeMount(setup);\n    onBeforeUnmount(() => {\n      if (enabledRef === undefined || enabledRef.value) {\n        off('keydown', document, keydownHandler);\n        off('keyup', document, keyupHandler);\n      }\n    });\n  } else {\n    setup();\n  }\n  return readonly(state);\n}","map":{"version":3,"names":["onBeforeMount","onBeforeUnmount","reactive","readonly","watch","on","off","hasInstance","useKeyboard","options","enabledRef","state","ctrl","command","win","shift","tab","keydown","keyup","keydownHandler","e","key","undefined","Object","keys","forEach","handler","stop","prevent","stopPropagation","preventDefault","keyupHandler","setup","value","document"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/vooks/es/use-keyboard.js"],"sourcesContent":["import { onBeforeMount, onBeforeUnmount, reactive, readonly, watch } from 'vue';\nimport { on, off } from 'evtd';\nimport { hasInstance } from './utils';\nexport default function useKeyboard(options = {}, enabledRef) {\n    const state = reactive({\n        ctrl: false,\n        command: false,\n        win: false,\n        shift: false,\n        tab: false\n    });\n    const { keydown, keyup } = options;\n    const keydownHandler = (e) => {\n        switch (e.key) {\n            case 'Control':\n                state.ctrl = true;\n                break;\n            case 'Meta':\n                state.command = true;\n                state.win = true;\n                break;\n            case 'Shift':\n                state.shift = true;\n                break;\n            case 'Tab':\n                state.tab = true;\n                break;\n        }\n        if (keydown !== undefined) {\n            Object.keys(keydown).forEach(key => {\n                if (key !== e.key)\n                    return;\n                const handler = keydown[key];\n                if (typeof handler === 'function') {\n                    handler(e);\n                }\n                else {\n                    const { stop = false, prevent = false } = handler;\n                    if (stop)\n                        e.stopPropagation();\n                    if (prevent)\n                        e.preventDefault();\n                    handler.handler(e);\n                }\n            });\n        }\n    };\n    const keyupHandler = (e) => {\n        switch (e.key) {\n            case 'Control':\n                state.ctrl = false;\n                break;\n            case 'Meta':\n                state.command = false;\n                state.win = false;\n                break;\n            case 'Shift':\n                state.shift = false;\n                break;\n            case 'Tab':\n                state.tab = false;\n                break;\n        }\n        if (keyup !== undefined) {\n            Object.keys(keyup).forEach(key => {\n                if (key !== e.key)\n                    return;\n                const handler = keyup[key];\n                if (typeof handler === 'function') {\n                    handler(e);\n                }\n                else {\n                    const { stop = false, prevent = false } = handler;\n                    if (stop)\n                        e.stopPropagation();\n                    if (prevent)\n                        e.preventDefault();\n                    handler.handler(e);\n                }\n            });\n        }\n    };\n    const setup = () => {\n        if (enabledRef === undefined || enabledRef.value) {\n            on('keydown', document, keydownHandler);\n            on('keyup', document, keyupHandler);\n        }\n        if (enabledRef !== undefined) {\n            watch(enabledRef, value => {\n                if (value) {\n                    on('keydown', document, keydownHandler);\n                    on('keyup', document, keyupHandler);\n                }\n                else {\n                    off('keydown', document, keydownHandler);\n                    off('keyup', document, keyupHandler);\n                }\n            });\n        }\n    };\n    if (hasInstance()) {\n        onBeforeMount(setup);\n        onBeforeUnmount(() => {\n            if (enabledRef === undefined || enabledRef.value) {\n                off('keydown', document, keydownHandler);\n                off('keyup', document, keyupHandler);\n            }\n        });\n    }\n    else {\n        setup();\n    }\n    return readonly(state);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}