{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, defineComponent, computed, provide, ref, watch, toRef, isReactive, watchEffect, nextTick } from 'vue';\nimport { createTreeMate, SubtreeNotLoadedError } from 'treemate';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { depx, changeColor, happensIn, getPreciseEventTarget } from 'seemly';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { NInternalSelection } from '../../_internal';\nimport { useLocale, useTheme, useConfig, useFormItem, useThemeClass } from '../../_mixins';\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from '../../_utils';\nimport { cascaderLight } from '../styles';\nimport { getPathLabel, getRawNodePath } from './utils';\nimport CascaderMenu from './CascaderMenu';\nimport CascaderSelectMenu from './CascaderSelectMenu';\nimport { cascaderInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nexport const cascaderProps = Object.assign(Object.assign({}, useTheme.props), {\n  allowCheckingNotLoaded: Boolean,\n  to: useAdjustedTo.propTo,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  options: {\n    type: Array,\n    default: () => []\n  },\n  value: [String, Number, Array],\n  defaultValue: {\n    type: [String, Number, Array],\n    default: null\n  },\n  placeholder: String,\n  multiple: Boolean,\n  size: String,\n  filterable: Boolean,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  disabledField: {\n    type: String,\n    default: 'disabled'\n  },\n  expandTrigger: {\n    type: String,\n    default: 'click'\n  },\n  clearable: Boolean,\n  clearFilterAfterSelect: {\n    type: Boolean,\n    default: true\n  },\n  remote: Boolean,\n  onLoad: Function,\n  separator: {\n    type: String,\n    default: ' / '\n  },\n  filter: Function,\n  placement: {\n    type: String,\n    default: 'bottom-start'\n  },\n  cascade: {\n    type: Boolean,\n    default: true\n  },\n  leafOnly: Boolean,\n  showPath: {\n    type: Boolean,\n    default: true\n  },\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  maxTagCount: [String, Number],\n  menuProps: Object,\n  filterMenuProps: Object,\n  virtualScroll: {\n    type: Boolean,\n    default: true\n  },\n  checkStrategy: {\n    type: String,\n    default: 'all'\n  },\n  valueField: {\n    type: String,\n    default: 'value'\n  },\n  labelField: {\n    type: String,\n    default: 'label'\n  },\n  childrenField: {\n    type: String,\n    default: 'children'\n  },\n  renderLabel: Function,\n  status: String,\n  'onUpdate:value': [Function, Array],\n  onUpdateValue: [Function, Array],\n  'onUpdate:show': [Function, Array],\n  onUpdateShow: [Function, Array],\n  onBlur: Function,\n  onFocus: Function,\n  // deprecated\n  onChange: [Function, Array]\n});\nexport default defineComponent({\n  name: 'Cascader',\n  props: cascaderProps,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.leafOnly) {\n          warnOnce('cascader', '`leaf-only` is deprecated, please use `check-strategy=\"child\"` instead');\n        }\n        if (props.onChange !== undefined) {\n          warnOnce('cascader', '`on-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n    const {\n      mergedBorderedRef,\n      mergedClsPrefixRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Cascader', '-cascader', style, cascaderLight, props, mergedClsPrefixRef);\n    const {\n      localeRef\n    } = useLocale('Cascader');\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = computed(() => props.value);\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const mergedCheckStrategyRef = computed(() => {\n      return props.leafOnly ? 'child' : props.checkStrategy;\n    });\n    const patternRef = ref('');\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef,\n      mergedStatusRef\n    } = formItem;\n    const cascaderMenuInstRef = ref(null);\n    const selectMenuInstRef = ref(null);\n    const triggerInstRef = ref(null);\n    const keyboardKeyRef = ref(null);\n    const hoverKeyRef = ref(null);\n    const loadingKeySetRef = ref(new Set());\n    const selectMenuFollowerRef = ref(null);\n    const cascaderMenuFollowerRef = ref(null);\n    const adjustedToRef = useAdjustedTo(props);\n    const focusedRef = ref(false);\n    const addLoadingKey = key => {\n      loadingKeySetRef.value.add(key);\n    };\n    const deleteLoadingKey = key => {\n      loadingKeySetRef.value.delete(key);\n    };\n    const treeMateRef = computed(() => {\n      const {\n        valueField,\n        childrenField,\n        disabledField\n      } = props;\n      return createTreeMate(props.options, {\n        getDisabled(node) {\n          return node[disabledField];\n        },\n        getKey(node) {\n          return node[valueField];\n        },\n        getChildren(node) {\n          return node[childrenField];\n        }\n      });\n    });\n    const mergedKeysRef = computed(() => {\n      const {\n        cascade,\n        multiple\n      } = props;\n      if (multiple && Array.isArray(mergedValueRef.value)) {\n        return treeMateRef.value.getCheckedKeys(mergedValueRef.value, {\n          cascade,\n          allowNotLoaded: props.allowCheckingNotLoaded\n        });\n      } else {\n        return {\n          checkedKeys: [],\n          indeterminateKeys: []\n        };\n      }\n    });\n    const checkedKeysRef = computed(() => mergedKeysRef.value.checkedKeys);\n    const indeterminateKeysRef = computed(() => mergedKeysRef.value.indeterminateKeys);\n    const menuModelRef = computed(() => {\n      const {\n        treeNodePath,\n        treeNode\n      } = treeMateRef.value.getPath(hoverKeyRef.value);\n      let ret;\n      if (treeNode === null) {\n        ret = [treeMateRef.value.treeNodes];\n      } else {\n        ret = treeNodePath.map(treeNode => treeNode.siblings);\n        if (!treeNode.isLeaf && !loadingKeySetRef.value.has(treeNode.key) && treeNode.children) {\n          ret.push(treeNode.children);\n        }\n      }\n      return ret;\n    });\n    const hoverKeyPathRef = computed(() => {\n      const {\n        keyPath\n      } = treeMateRef.value.getPath(hoverKeyRef.value);\n      return keyPath;\n    });\n    const optionHeightRef = computed(() => {\n      return themeRef.value.self.optionHeight;\n    });\n    if (isReactive(props.options)) {\n      watch(props.options, (value, oldValue) => {\n        if (!(value === oldValue)) {\n          hoverKeyRef.value = null;\n          keyboardKeyRef.value = null;\n        }\n      });\n    }\n    function doUpdateShow(value) {\n      const {\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow\n      } = props;\n      if (onUpdateShow) {\n        call(onUpdateShow, value);\n      }\n      if (_onUpdateShow) {\n        call(_onUpdateShow, value);\n      }\n      uncontrolledShowRef.value = value;\n    }\n    function doUpdateValue(value, option, optionPath) {\n      const {\n        onUpdateValue,\n        'onUpdate:value': _onUpdateValue,\n        onChange\n      } = props;\n      const {\n        nTriggerFormInput,\n        nTriggerFormChange\n      } = formItem;\n      if (onUpdateValue) {\n        call(onUpdateValue, value, option, optionPath);\n      }\n      if (_onUpdateValue) {\n        call(_onUpdateValue, value, option, optionPath);\n      }\n      if (onChange) {\n        call(onChange, value, option, optionPath);\n      }\n      uncontrolledValueRef.value = value;\n      nTriggerFormInput();\n      nTriggerFormChange();\n    }\n    function updateKeyboardKey(key) {\n      keyboardKeyRef.value = key;\n    }\n    function updateHoverKey(key) {\n      hoverKeyRef.value = key;\n    }\n    function doCheck(key) {\n      var _a;\n      const {\n        cascade,\n        multiple,\n        filterable\n      } = props;\n      const {\n        value: {\n          check,\n          getNode,\n          getPath\n        }\n      } = treeMateRef;\n      if (multiple) {\n        try {\n          const {\n            checkedKeys\n          } = check(key, mergedKeysRef.value.checkedKeys, {\n            cascade,\n            checkStrategy: mergedCheckStrategyRef.value,\n            allowNotLoaded: props.allowCheckingNotLoaded\n          });\n          doUpdateValue(checkedKeys, checkedKeys.map(checkedKey => {\n            var _a;\n            return ((_a = getNode(checkedKey)) === null || _a === void 0 ? void 0 : _a.rawNode) || null;\n          }), checkedKeys.map(checkedKey => {\n            var _a;\n            return getRawNodePath((_a = getPath(checkedKey)) === null || _a === void 0 ? void 0 : _a.treeNodePath);\n          }));\n          if (filterable) focusSelectionInput();\n          keyboardKeyRef.value = key;\n          hoverKeyRef.value = key;\n        } catch (err) {\n          if (err instanceof SubtreeNotLoadedError) {\n            if (cascaderMenuInstRef.value) {\n              const tmNode = getNode(key);\n              if (tmNode !== null) {\n                cascaderMenuInstRef.value.showErrorMessage(tmNode.rawNode[props.labelField]);\n              }\n            }\n          } else {\n            throw err;\n          }\n        }\n      } else {\n        if (mergedCheckStrategyRef.value === 'child') {\n          const tmNode = getNode(key);\n          if (tmNode === null || tmNode === void 0 ? void 0 : tmNode.isLeaf) {\n            doUpdateValue(key, tmNode.rawNode, getRawNodePath(getPath(key).treeNodePath));\n          } else {\n            return false;\n          }\n        } else {\n          const tmNode = getNode(key);\n          doUpdateValue(key, (tmNode === null || tmNode === void 0 ? void 0 : tmNode.rawNode) || null, getRawNodePath((_a = getPath(key)) === null || _a === void 0 ? void 0 : _a.treeNodePath));\n        }\n      }\n      return true;\n    }\n    function doUncheck(key) {\n      const {\n        cascade,\n        multiple\n      } = props;\n      if (multiple) {\n        const {\n          value: {\n            uncheck,\n            getNode,\n            getPath\n          }\n        } = treeMateRef;\n        const {\n          checkedKeys\n        } = uncheck(key, mergedKeysRef.value.checkedKeys, {\n          cascade,\n          checkStrategy: mergedCheckStrategyRef.value,\n          allowNotLoaded: props.allowCheckingNotLoaded\n        });\n        doUpdateValue(checkedKeys, checkedKeys.map(checkedKey => {\n          var _a;\n          return ((_a = getNode(checkedKey)) === null || _a === void 0 ? void 0 : _a.rawNode) || null;\n        }), checkedKeys.map(checkedKey => {\n          var _a;\n          return getRawNodePath((_a = getPath(checkedKey)) === null || _a === void 0 ? void 0 : _a.treeNodePath);\n        }));\n        keyboardKeyRef.value = key;\n        hoverKeyRef.value = key;\n      }\n    }\n    const selectedOptionsRef = computed(() => {\n      if (props.multiple) {\n        const {\n          showPath,\n          separator,\n          labelField,\n          cascade\n        } = props;\n        const {\n          getCheckedKeys,\n          getNode\n        } = treeMateRef.value;\n        const value = getCheckedKeys(checkedKeysRef.value, {\n          cascade,\n          checkStrategy: mergedCheckStrategyRef.value,\n          allowNotLoaded: props.allowCheckingNotLoaded\n        }).checkedKeys;\n        return value.map(key => {\n          const node = getNode(key);\n          if (node === null) {\n            return {\n              label: String(key),\n              value: key\n            };\n          } else {\n            return {\n              label: showPath ? getPathLabel(node, separator, labelField) : node.rawNode[labelField],\n              value: node.key\n            };\n          }\n        });\n      } else return [];\n    });\n    const selectedOptionRef = computed(() => {\n      const {\n        multiple,\n        showPath,\n        separator,\n        labelField\n      } = props;\n      const {\n        value\n      } = mergedValueRef;\n      if (!multiple && !Array.isArray(value)) {\n        const {\n          getNode\n        } = treeMateRef.value;\n        if (value === null) {\n          return null;\n        }\n        const node = getNode(value);\n        if (node === null) {\n          return {\n            label: String(value),\n            value\n          };\n        } else {\n          return {\n            label: showPath ? getPathLabel(node, separator, labelField) : node.rawNode[labelField],\n            value: node.key\n          };\n        }\n      } else return null;\n    });\n    const uncontrolledShowRef = ref(false);\n    const controlledShowRef = toRef(props, 'show');\n    const mergedShowRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n    const localizedPlaceholderRef = computed(() => {\n      const {\n        placeholder\n      } = props;\n      if (placeholder !== undefined) return placeholder;\n      return localeRef.value.placeholder;\n    });\n    // select option related\n    const showSelectMenuRef = computed(() => {\n      return !!(props.filterable && patternRef.value);\n    });\n    // init hover key\n    watch(mergedShowRef, show => {\n      if (!show) return;\n      if (props.multiple) return;\n      const {\n        value\n      } = mergedValueRef;\n      if (!Array.isArray(value) && value !== null) {\n        keyboardKeyRef.value = value;\n        hoverKeyRef.value = value;\n        void nextTick(() => {\n          var _a;\n          if (!mergedShowRef.value) return;\n          const {\n            value: hoverKey\n          } = hoverKeyRef;\n          if (mergedValueRef.value !== null) {\n            const node = treeMateRef.value.getNode(hoverKey);\n            if (node) {\n              (_a = cascaderMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.scroll(node.level, node.index, depx(optionHeightRef.value));\n            }\n          }\n        });\n      } else {\n        keyboardKeyRef.value = null;\n        hoverKeyRef.value = null;\n      }\n    }, {\n      immediate: true\n    });\n    // --- methods\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      const {\n        nTriggerFormBlur\n      } = formItem;\n      if (onBlur) call(onBlur, e);\n      nTriggerFormBlur();\n    }\n    function doFocus(e) {\n      const {\n        onFocus\n      } = props;\n      const {\n        nTriggerFormFocus\n      } = formItem;\n      if (onFocus) call(onFocus, e);\n      nTriggerFormFocus();\n    }\n    function focusSelectionInput() {\n      var _a;\n      (_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n    }\n    function focusSelection() {\n      var _a;\n      (_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    function openMenu() {\n      if (!mergedDisabledRef.value) {\n        patternRef.value = '';\n        doUpdateShow(true);\n        if (props.filterable) {\n          focusSelectionInput();\n        }\n      }\n    }\n    function closeMenu(returnFocus = false) {\n      if (returnFocus) {\n        focusSelection();\n      }\n      doUpdateShow(false);\n      patternRef.value = '';\n    }\n    function handleCascaderMenuClickOutside(e) {\n      var _a;\n      if (showSelectMenuRef.value) return;\n      if (mergedShowRef.value) {\n        if (!((_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n          closeMenu();\n        }\n      }\n    }\n    function handleSelectMenuClickOutside(e) {\n      if (!showSelectMenuRef.value) return;\n      handleCascaderMenuClickOutside(e);\n    }\n    function clearPattern() {\n      if (props.clearFilterAfterSelect) patternRef.value = '';\n    }\n    // --- keyboard\n    function move(direction) {\n      var _a, _b, _c;\n      const {\n        value: keyboardKey\n      } = keyboardKeyRef;\n      const {\n        value: treeMate\n      } = treeMateRef;\n      switch (direction) {\n        case 'prev':\n          if (keyboardKey !== null) {\n            const node = treeMate.getPrev(keyboardKey, {\n              loop: true\n            });\n            if (node !== null) {\n              updateKeyboardKey(node.key);\n              (_a = cascaderMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.scroll(node.level, node.index, depx(optionHeightRef.value));\n            }\n          }\n          break;\n        case 'next':\n          if (keyboardKey === null) {\n            const node = treeMate.getFirstAvailableNode();\n            if (node !== null) {\n              updateKeyboardKey(node.key);\n              (_b = cascaderMenuInstRef.value) === null || _b === void 0 ? void 0 : _b.scroll(node.level, node.index, depx(optionHeightRef.value));\n            }\n          } else {\n            const node = treeMate.getNext(keyboardKey, {\n              loop: true\n            });\n            if (node !== null) {\n              updateKeyboardKey(node.key);\n              (_c = cascaderMenuInstRef.value) === null || _c === void 0 ? void 0 : _c.scroll(node.level, node.index, depx(optionHeightRef.value));\n            }\n          }\n          break;\n        case 'child':\n          if (keyboardKey !== null) {\n            const currentNode = treeMate.getNode(keyboardKey);\n            if (currentNode !== null) {\n              if (currentNode.shallowLoaded) {\n                const node = treeMate.getChild(keyboardKey);\n                if (node !== null) {\n                  updateHoverKey(keyboardKey);\n                  updateKeyboardKey(node.key);\n                }\n              } else {\n                const {\n                  value: loadingKeySet\n                } = loadingKeySetRef;\n                if (!loadingKeySet.has(keyboardKey)) {\n                  addLoadingKey(keyboardKey);\n                  updateHoverKey(keyboardKey);\n                  const {\n                    onLoad\n                  } = props;\n                  if (onLoad) {\n                    onLoad(currentNode.rawNode).then(() => {\n                      deleteLoadingKey(keyboardKey);\n                    }).catch(() => {\n                      deleteLoadingKey(keyboardKey);\n                    });\n                  }\n                }\n              }\n            }\n          }\n          break;\n        case 'parent':\n          if (keyboardKey !== null) {\n            const node = treeMate.getParent(keyboardKey);\n            if (node !== null) {\n              updateKeyboardKey(node.key);\n              const parentNode = node.getParent();\n              if (parentNode === null) {\n                updateHoverKey(null);\n              } else {\n                updateHoverKey(parentNode.key);\n              }\n            }\n          }\n          break;\n      }\n    }\n    function handleKeydown(e) {\n      var _a, _b;\n      switch (e.key) {\n        case ' ':\n        case 'ArrowDown':\n        case 'ArrowUp':\n          if (props.filterable && mergedShowRef.value) {\n            break;\n          }\n          e.preventDefault();\n          break;\n      }\n      if (happensIn(e, 'action')) return;\n      switch (e.key) {\n        case ' ':\n          if (props.filterable) return;\n        // eslint-disable-next-line no-fallthrough\n        case 'Enter':\n          if (!mergedShowRef.value) {\n            openMenu();\n          } else {\n            const {\n              value: showSelectMenu\n            } = showSelectMenuRef;\n            const {\n              value: keyboardKey\n            } = keyboardKeyRef;\n            if (!showSelectMenu) {\n              if (keyboardKey !== null) {\n                if (checkedKeysRef.value.includes(keyboardKey) || indeterminateKeysRef.value.includes(keyboardKey)) {\n                  doUncheck(keyboardKey);\n                } else {\n                  const checkIsValid = doCheck(keyboardKey);\n                  if (!props.multiple && checkIsValid) {\n                    closeMenu(true);\n                  }\n                }\n              }\n            } else {\n              if (selectMenuInstRef.value) {\n                const hasCorrespondingOption = selectMenuInstRef.value.enter();\n                if (hasCorrespondingOption) clearPattern();\n              }\n            }\n          }\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          if (mergedShowRef.value) {\n            if (showSelectMenuRef.value) {\n              (_a = selectMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.prev();\n            } else {\n              move('prev');\n            }\n          }\n          break;\n        case 'ArrowDown':\n          e.preventDefault();\n          if (mergedShowRef.value) {\n            if (showSelectMenuRef.value) {\n              (_b = selectMenuInstRef.value) === null || _b === void 0 ? void 0 : _b.next();\n            } else {\n              move('next');\n            }\n          } else {\n            openMenu();\n          }\n          break;\n        case 'ArrowLeft':\n          e.preventDefault();\n          if (mergedShowRef.value && !showSelectMenuRef.value) {\n            move('parent');\n          }\n          break;\n        case 'ArrowRight':\n          e.preventDefault();\n          if (mergedShowRef.value && !showSelectMenuRef.value) {\n            move('child');\n          }\n          break;\n        case 'Escape':\n          if (mergedShowRef.value) {\n            markEventEffectPerformed(e);\n            closeMenu(true);\n          }\n      }\n    }\n    function handleMenuKeydown(e) {\n      handleKeydown(e);\n    }\n    // --- search\n    function handleClear(e) {\n      e.stopPropagation();\n      if (props.multiple) {\n        doUpdateValue([], [], []);\n      } else {\n        doUpdateValue(null, null, null);\n      }\n    }\n    function handleTriggerFocus(e) {\n      var _a;\n      if (!((_a = cascaderMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))) {\n        focusedRef.value = true;\n        doFocus(e);\n      }\n    }\n    function handleTriggerBlur(e) {\n      var _a;\n      if (!((_a = cascaderMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))) {\n        focusedRef.value = false;\n        doBlur(e);\n        closeMenu();\n      }\n    }\n    function handleMenuFocus(e) {\n      var _a;\n      if (!((_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))) {\n        focusedRef.value = true;\n        doFocus(e);\n      }\n    }\n    function handleMenuBlur(e) {\n      var _a;\n      if (!((_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))) {\n        focusedRef.value = false;\n        doBlur(e);\n      }\n    }\n    function handleMenuMousedown(e) {\n      if (!happensIn(e, 'action')) {\n        if (props.multiple && props.filter) {\n          e.preventDefault();\n          focusSelectionInput();\n        }\n      }\n    }\n    function handleMenuTabout() {\n      closeMenu(true);\n    }\n    function handleTriggerClick() {\n      if (props.filterable) {\n        openMenu();\n      } else {\n        if (mergedShowRef.value) {\n          closeMenu(true);\n        } else {\n          openMenu();\n        }\n      }\n    }\n    function handlePatternInput(e) {\n      patternRef.value = e.target.value;\n    }\n    function handleDeleteOption(option) {\n      const {\n        multiple\n      } = props;\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      if (multiple && Array.isArray(mergedValue) && option.value !== undefined) {\n        doUncheck(option.value);\n      } else {\n        doUpdateValue(null, null, null);\n      }\n    }\n    // sync position\n    function syncSelectMenuPosition() {\n      var _a;\n      (_a = selectMenuFollowerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n    }\n    function syncCascaderMenuPosition() {\n      var _a;\n      (_a = cascaderMenuFollowerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n    }\n    function handleTriggerResize() {\n      if (mergedShowRef.value) {\n        if (showSelectMenuRef.value) {\n          syncSelectMenuPosition();\n        } else {\n          syncCascaderMenuPosition();\n        }\n      }\n    }\n    provide(cascaderInjectionKey, {\n      mergedClsPrefixRef,\n      mergedThemeRef: themeRef,\n      mergedValueRef,\n      checkedKeysRef,\n      indeterminateKeysRef,\n      hoverKeyPathRef,\n      mergedCheckStrategyRef,\n      cascadeRef: toRef(props, 'cascade'),\n      multipleRef: toRef(props, 'multiple'),\n      keyboardKeyRef,\n      hoverKeyRef,\n      remoteRef: toRef(props, 'remote'),\n      loadingKeySetRef,\n      expandTriggerRef: toRef(props, 'expandTrigger'),\n      isMountedRef: useIsMounted(),\n      onLoadRef: toRef(props, 'onLoad'),\n      virtualScrollRef: toRef(props, 'virtualScroll'),\n      optionHeightRef,\n      localeRef,\n      labelFieldRef: toRef(props, 'labelField'),\n      renderLabelRef: toRef(props, 'renderLabel'),\n      syncCascaderMenuPosition,\n      syncSelectMenuPosition,\n      updateKeyboardKey,\n      updateHoverKey,\n      addLoadingKey,\n      deleteLoadingKey,\n      doCheck,\n      doUncheck,\n      closeMenu,\n      handleSelectMenuClickOutside,\n      handleCascaderMenuClickOutside,\n      clearPattern\n    });\n    const exposedMethods = {\n      focus: () => {\n        var _a;\n        (_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      blur: () => {\n        var _a;\n        (_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n      }\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        self: {\n          optionArrowColor,\n          optionTextColor,\n          optionTextColorActive,\n          optionTextColorDisabled,\n          optionCheckMarkColor,\n          menuColor,\n          menuBoxShadow,\n          menuDividerColor,\n          menuBorderRadius,\n          menuHeight,\n          optionColorHover,\n          optionHeight,\n          optionFontSize,\n          loadingColor,\n          columnWidth\n        },\n        common: {\n          cubicBezierEaseInOut\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-menu-border-radius': menuBorderRadius,\n        '--n-menu-box-shadow': menuBoxShadow,\n        '--n-menu-height': menuHeight,\n        '--n-column-width': columnWidth,\n        '--n-menu-color': menuColor,\n        '--n-menu-divider-color': menuDividerColor,\n        '--n-option-height': optionHeight,\n        '--n-option-font-size': optionFontSize,\n        '--n-option-text-color': optionTextColor,\n        '--n-option-text-color-disabled': optionTextColorDisabled,\n        '--n-option-text-color-active': optionTextColorActive,\n        '--n-option-color-hover': optionColorHover,\n        '--n-option-check-mark-color': optionCheckMarkColor,\n        '--n-option-arrow-color': optionArrowColor,\n        '--n-menu-mask-color': changeColor(menuColor, {\n          alpha: 0.75\n        }),\n        '--n-loading-color': loadingColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('cascader', undefined, cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, exposedMethods), {\n      handleTriggerResize,\n      mergedStatus: mergedStatusRef,\n      selectMenuFollowerRef,\n      cascaderMenuFollowerRef,\n      triggerInstRef,\n      selectMenuInstRef,\n      cascaderMenuInstRef,\n      mergedBordered: mergedBorderedRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      namespace: namespaceRef,\n      mergedValue: mergedValueRef,\n      mergedShow: mergedShowRef,\n      showSelectMenu: showSelectMenuRef,\n      pattern: patternRef,\n      treeMate: treeMateRef,\n      mergedSize: mergedSizeRef,\n      mergedDisabled: mergedDisabledRef,\n      localizedPlaceholder: localizedPlaceholderRef,\n      selectedOption: selectedOptionRef,\n      selectedOptions: selectedOptionsRef,\n      adjustedTo: adjustedToRef,\n      menuModel: menuModelRef,\n      handleMenuTabout,\n      handleMenuFocus,\n      handleMenuBlur,\n      handleMenuKeydown,\n      handleMenuMousedown,\n      handleTriggerFocus,\n      handleTriggerBlur,\n      handleTriggerClick,\n      handleClear,\n      handleDeleteOption,\n      handlePatternInput,\n      handleKeydown,\n      focused: focusedRef,\n      optionHeight: optionHeightRef,\n      mergedTheme: themeRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    const {\n      mergedClsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${mergedClsPrefix}-cascader`\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(NInternalSelection, {\n          onResize: this.handleTriggerResize,\n          ref: \"triggerInstRef\",\n          status: this.mergedStatus,\n          clsPrefix: mergedClsPrefix,\n          maxTagCount: this.maxTagCount,\n          bordered: this.mergedBordered,\n          size: this.mergedSize,\n          theme: this.mergedTheme.peers.InternalSelection,\n          themeOverrides: this.mergedTheme.peerOverrides.InternalSelection,\n          active: this.mergedShow,\n          pattern: this.pattern,\n          placeholder: this.localizedPlaceholder,\n          selectedOption: this.selectedOption,\n          selectedOptions: this.selectedOptions,\n          multiple: this.multiple,\n          filterable: this.filterable,\n          clearable: this.clearable,\n          disabled: this.mergedDisabled,\n          focused: this.focused,\n          onFocus: this.handleTriggerFocus,\n          onBlur: this.handleTriggerBlur,\n          onClick: this.handleTriggerClick,\n          onClear: this.handleClear,\n          onDeleteOption: this.handleDeleteOption,\n          onPatternInput: this.handlePatternInput,\n          onKeydown: this.handleKeydown\n        }, {\n          arrow: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a);\n          }\n        })\n      }), h(VFollower, {\n        key: \"cascaderMenu\",\n        ref: \"cascaderMenuFollowerRef\",\n        show: this.mergedShow && !this.showSelectMenu,\n        containerClass: this.namespace,\n        placement: this.placement,\n        width: !this.options.length ? 'target' : undefined,\n        teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey,\n        to: this.adjustedTo\n      }, {\n        default: () => {\n          var _a;\n          (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n          const {\n            menuProps\n          } = this;\n          return h(CascaderMenu, Object.assign({}, menuProps, {\n            ref: \"cascaderMenuInstRef\",\n            class: [this.themeClass, menuProps === null || menuProps === void 0 ? void 0 : menuProps.class],\n            value: this.mergedValue,\n            show: this.mergedShow && !this.showSelectMenu,\n            menuModel: this.menuModel,\n            style: [this.cssVars, menuProps === null || menuProps === void 0 ? void 0 : menuProps.style],\n            onFocus: this.handleMenuFocus,\n            onBlur: this.handleMenuBlur,\n            onKeydown: this.handleMenuKeydown,\n            onMousedown: this.handleMenuMousedown,\n            onTabout: this.handleMenuTabout\n          }), {\n            action: () => {\n              var _a, _b;\n              return (_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a);\n            },\n            empty: () => {\n              var _a, _b;\n              return (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a);\n            }\n          });\n        }\n      }), h(VFollower, {\n        key: \"selectMenu\",\n        ref: \"selectMenuFollowerRef\",\n        show: this.mergedShow && this.showSelectMenu,\n        containerClass: this.namespace,\n        width: \"target\",\n        placement: this.placement,\n        to: this.adjustedTo,\n        teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey\n      }, {\n        default: () => {\n          var _a;\n          (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n          const {\n            filterMenuProps\n          } = this;\n          return h(CascaderSelectMenu, Object.assign({}, filterMenuProps, {\n            ref: \"selectMenuInstRef\",\n            class: [this.themeClass, filterMenuProps === null || filterMenuProps === void 0 ? void 0 : filterMenuProps.class],\n            value: this.mergedValue,\n            show: this.mergedShow && this.showSelectMenu,\n            pattern: this.pattern,\n            multiple: this.multiple,\n            tmNodes: this.treeMate.treeNodes,\n            filter: this.filter,\n            labelField: this.labelField,\n            separator: this.separator,\n            style: [this.cssVars, filterMenuProps === null || filterMenuProps === void 0 ? void 0 : filterMenuProps.style]\n          }));\n        }\n      })]\n    }));\n  }\n});","map":{"version":3,"names":["h","defineComponent","computed","provide","ref","watch","toRef","isReactive","watchEffect","nextTick","createTreeMate","SubtreeNotLoadedError","VBinder","VTarget","VFollower","depx","changeColor","happensIn","getPreciseEventTarget","useIsMounted","useMergedState","NInternalSelection","useLocale","useTheme","useConfig","useFormItem","useThemeClass","call","markEventEffectPerformed","useAdjustedTo","warnOnce","cascaderLight","getPathLabel","getRawNodePath","CascaderMenu","CascaderSelectMenu","cascaderInjectionKey","style","cascaderProps","Object","assign","props","allowCheckingNotLoaded","Boolean","to","propTo","bordered","type","default","undefined","options","Array","value","String","Number","defaultValue","placeholder","multiple","size","filterable","disabled","disabledField","expandTrigger","clearable","clearFilterAfterSelect","remote","onLoad","Function","separator","filter","placement","cascade","leafOnly","showPath","show","maxTagCount","menuProps","filterMenuProps","virtualScroll","checkStrategy","valueField","labelField","childrenField","renderLabel","status","onUpdateValue","onUpdateShow","onBlur","onFocus","onChange","name","setup","process","env","NODE_ENV","mergedBorderedRef","mergedClsPrefixRef","namespaceRef","inlineThemeDisabled","themeRef","localeRef","uncontrolledValueRef","controlledValueRef","mergedValueRef","mergedCheckStrategyRef","patternRef","formItem","mergedSizeRef","mergedDisabledRef","mergedStatusRef","cascaderMenuInstRef","selectMenuInstRef","triggerInstRef","keyboardKeyRef","hoverKeyRef","loadingKeySetRef","Set","selectMenuFollowerRef","cascaderMenuFollowerRef","adjustedToRef","focusedRef","addLoadingKey","key","add","deleteLoadingKey","delete","treeMateRef","getDisabled","node","getKey","getChildren","mergedKeysRef","isArray","getCheckedKeys","allowNotLoaded","checkedKeys","indeterminateKeys","checkedKeysRef","indeterminateKeysRef","menuModelRef","treeNodePath","treeNode","getPath","ret","treeNodes","map","siblings","isLeaf","has","children","push","hoverKeyPathRef","keyPath","optionHeightRef","self","optionHeight","oldValue","doUpdateShow","_onUpdateShow","uncontrolledShowRef","doUpdateValue","option","optionPath","_onUpdateValue","nTriggerFormInput","nTriggerFormChange","updateKeyboardKey","updateHoverKey","doCheck","_a","check","getNode","checkedKey","rawNode","focusSelectionInput","err","tmNode","showErrorMessage","doUncheck","uncheck","selectedOptionsRef","label","selectedOptionRef","controlledShowRef","mergedShowRef","localizedPlaceholderRef","showSelectMenuRef","hoverKey","scroll","level","index","immediate","doBlur","e","nTriggerFormBlur","doFocus","nTriggerFormFocus","focusInput","focusSelection","focus","openMenu","closeMenu","returnFocus","handleCascaderMenuClickOutside","$el","contains","handleSelectMenuClickOutside","clearPattern","move","direction","_b","_c","keyboardKey","treeMate","getPrev","loop","getFirstAvailableNode","getNext","currentNode","shallowLoaded","getChild","loadingKeySet","then","catch","getParent","parentNode","handleKeydown","preventDefault","showSelectMenu","includes","checkIsValid","hasCorrespondingOption","enter","prev","next","handleMenuKeydown","handleClear","stopPropagation","handleTriggerFocus","relatedTarget","handleTriggerBlur","handleMenuFocus","handleMenuBlur","handleMenuMousedown","handleMenuTabout","handleTriggerClick","handlePatternInput","target","handleDeleteOption","mergedValue","syncSelectMenuPosition","syncPosition","syncCascaderMenuPosition","handleTriggerResize","mergedThemeRef","cascadeRef","multipleRef","remoteRef","expandTriggerRef","isMountedRef","onLoadRef","virtualScrollRef","labelFieldRef","renderLabelRef","exposedMethods","blur","cssVarsRef","optionArrowColor","optionTextColor","optionTextColorActive","optionTextColorDisabled","optionCheckMarkColor","menuColor","menuBoxShadow","menuDividerColor","menuBorderRadius","menuHeight","optionColorHover","optionFontSize","loadingColor","columnWidth","common","cubicBezierEaseInOut","alpha","themeClassHandle","mergedStatus","mergedBordered","mergedClsPrefix","namespace","mergedShow","pattern","mergedSize","mergedDisabled","localizedPlaceholder","selectedOption","selectedOptions","adjustedTo","menuModel","focused","mergedTheme","cssVars","themeClass","onRender","render","class","onResize","clsPrefix","theme","peers","InternalSelection","themeOverrides","peerOverrides","active","onClick","onClear","onDeleteOption","onPatternInput","onKeydown","arrow","$slots","containerClass","width","length","teleportDisabled","tdkey","onMousedown","onTabout","action","empty","tmNodes"],"sources":["/Users/elmo/GitHub/meetings_vue3/node_modules/naive-ui/es/cascader/src/Cascader.js"],"sourcesContent":["import { h, defineComponent, computed, provide, ref, watch, toRef, isReactive, watchEffect, nextTick } from 'vue';\nimport { createTreeMate, SubtreeNotLoadedError } from 'treemate';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { depx, changeColor, happensIn, getPreciseEventTarget } from 'seemly';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { NInternalSelection } from '../../_internal';\nimport { useLocale, useTheme, useConfig, useFormItem, useThemeClass } from '../../_mixins';\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from '../../_utils';\nimport { cascaderLight } from '../styles';\nimport { getPathLabel, getRawNodePath } from './utils';\nimport CascaderMenu from './CascaderMenu';\nimport CascaderSelectMenu from './CascaderSelectMenu';\nimport { cascaderInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nexport const cascaderProps = Object.assign(Object.assign({}, useTheme.props), { allowCheckingNotLoaded: Boolean, to: useAdjustedTo.propTo, bordered: {\n        type: Boolean,\n        default: undefined\n    }, options: {\n        type: Array,\n        default: () => []\n    }, value: [String, Number, Array], defaultValue: {\n        type: [String, Number, Array],\n        default: null\n    }, placeholder: String, multiple: Boolean, size: String, filterable: Boolean, disabled: {\n        type: Boolean,\n        default: undefined\n    }, disabledField: {\n        type: String,\n        default: 'disabled'\n    }, expandTrigger: {\n        type: String,\n        default: 'click'\n    }, clearable: Boolean, clearFilterAfterSelect: {\n        type: Boolean,\n        default: true\n    }, remote: Boolean, onLoad: Function, separator: {\n        type: String,\n        default: ' / '\n    }, filter: Function, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, cascade: {\n        type: Boolean,\n        default: true\n    }, leafOnly: Boolean, showPath: {\n        type: Boolean,\n        default: true\n    }, show: {\n        type: Boolean,\n        default: undefined\n    }, maxTagCount: [String, Number], menuProps: Object, filterMenuProps: Object, virtualScroll: {\n        type: Boolean,\n        default: true\n    }, checkStrategy: {\n        type: String,\n        default: 'all'\n    }, valueField: {\n        type: String,\n        default: 'value'\n    }, labelField: {\n        type: String,\n        default: 'label'\n    }, childrenField: {\n        type: String,\n        default: 'children'\n    }, renderLabel: Function, status: String, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array], 'onUpdate:show': [Function, Array], onUpdateShow: [Function, Array], onBlur: Function, onFocus: Function, \n    // deprecated\n    onChange: [Function, Array] });\nexport default defineComponent({\n    name: 'Cascader',\n    props: cascaderProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.leafOnly) {\n                    warnOnce('cascader', '`leaf-only` is deprecated, please use `check-strategy=\"child\"` instead');\n                }\n                if (props.onChange !== undefined) {\n                    warnOnce('cascader', '`on-change` is deprecated, please use `on-update:value` instead.');\n                }\n            });\n        }\n        const { mergedBorderedRef, mergedClsPrefixRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Cascader', '-cascader', style, cascaderLight, props, mergedClsPrefixRef);\n        const { localeRef } = useLocale('Cascader');\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = computed(() => props.value);\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const mergedCheckStrategyRef = computed(() => {\n            return props.leafOnly ? 'child' : props.checkStrategy;\n        });\n        const patternRef = ref('');\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef, mergedStatusRef } = formItem;\n        const cascaderMenuInstRef = ref(null);\n        const selectMenuInstRef = ref(null);\n        const triggerInstRef = ref(null);\n        const keyboardKeyRef = ref(null);\n        const hoverKeyRef = ref(null);\n        const loadingKeySetRef = ref(new Set());\n        const selectMenuFollowerRef = ref(null);\n        const cascaderMenuFollowerRef = ref(null);\n        const adjustedToRef = useAdjustedTo(props);\n        const focusedRef = ref(false);\n        const addLoadingKey = (key) => {\n            loadingKeySetRef.value.add(key);\n        };\n        const deleteLoadingKey = (key) => {\n            loadingKeySetRef.value.delete(key);\n        };\n        const treeMateRef = computed(() => {\n            const { valueField, childrenField, disabledField } = props;\n            return createTreeMate(props.options, {\n                getDisabled(node) {\n                    return node[disabledField];\n                },\n                getKey(node) {\n                    return node[valueField];\n                },\n                getChildren(node) {\n                    return node[childrenField];\n                }\n            });\n        });\n        const mergedKeysRef = computed(() => {\n            const { cascade, multiple } = props;\n            if (multiple && Array.isArray(mergedValueRef.value)) {\n                return treeMateRef.value.getCheckedKeys(mergedValueRef.value, {\n                    cascade,\n                    allowNotLoaded: props.allowCheckingNotLoaded\n                });\n            }\n            else {\n                return {\n                    checkedKeys: [],\n                    indeterminateKeys: []\n                };\n            }\n        });\n        const checkedKeysRef = computed(() => mergedKeysRef.value.checkedKeys);\n        const indeterminateKeysRef = computed(() => mergedKeysRef.value.indeterminateKeys);\n        const menuModelRef = computed(() => {\n            const { treeNodePath, treeNode } = treeMateRef.value.getPath(hoverKeyRef.value);\n            let ret;\n            if (treeNode === null) {\n                ret = [treeMateRef.value.treeNodes];\n            }\n            else {\n                ret = treeNodePath.map((treeNode) => treeNode.siblings);\n                if (!treeNode.isLeaf &&\n                    !loadingKeySetRef.value.has(treeNode.key) &&\n                    treeNode.children) {\n                    ret.push(treeNode.children);\n                }\n            }\n            return ret;\n        });\n        const hoverKeyPathRef = computed(() => {\n            const { keyPath } = treeMateRef.value.getPath(hoverKeyRef.value);\n            return keyPath;\n        });\n        const optionHeightRef = computed(() => {\n            return themeRef.value.self.optionHeight;\n        });\n        if (isReactive(props.options)) {\n            watch(props.options, (value, oldValue) => {\n                if (!(value === oldValue)) {\n                    hoverKeyRef.value = null;\n                    keyboardKeyRef.value = null;\n                }\n            });\n        }\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow) {\n                call(onUpdateShow, value);\n            }\n            if (_onUpdateShow) {\n                call(_onUpdateShow, value);\n            }\n            uncontrolledShowRef.value = value;\n        }\n        function doUpdateValue(value, option, optionPath) {\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue, onChange } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (onUpdateValue) {\n                call(onUpdateValue, value, option, optionPath);\n            }\n            if (_onUpdateValue) {\n                call(_onUpdateValue, value, option, optionPath);\n            }\n            if (onChange) {\n                call(onChange, value, option, optionPath);\n            }\n            uncontrolledValueRef.value = value;\n            nTriggerFormInput();\n            nTriggerFormChange();\n        }\n        function updateKeyboardKey(key) {\n            keyboardKeyRef.value = key;\n        }\n        function updateHoverKey(key) {\n            hoverKeyRef.value = key;\n        }\n        function doCheck(key) {\n            var _a;\n            const { cascade, multiple, filterable } = props;\n            const { value: { check, getNode, getPath } } = treeMateRef;\n            if (multiple) {\n                try {\n                    const { checkedKeys } = check(key, mergedKeysRef.value.checkedKeys, {\n                        cascade,\n                        checkStrategy: mergedCheckStrategyRef.value,\n                        allowNotLoaded: props.allowCheckingNotLoaded\n                    });\n                    doUpdateValue(checkedKeys, checkedKeys.map((checkedKey) => { var _a; return ((_a = getNode(checkedKey)) === null || _a === void 0 ? void 0 : _a.rawNode) || null; }), checkedKeys.map((checkedKey) => { var _a; return getRawNodePath((_a = getPath(checkedKey)) === null || _a === void 0 ? void 0 : _a.treeNodePath); }));\n                    if (filterable)\n                        focusSelectionInput();\n                    keyboardKeyRef.value = key;\n                    hoverKeyRef.value = key;\n                }\n                catch (err) {\n                    if (err instanceof SubtreeNotLoadedError) {\n                        if (cascaderMenuInstRef.value) {\n                            const tmNode = getNode(key);\n                            if (tmNode !== null) {\n                                cascaderMenuInstRef.value.showErrorMessage(tmNode.rawNode[props.labelField]);\n                            }\n                        }\n                    }\n                    else {\n                        throw err;\n                    }\n                }\n            }\n            else {\n                if (mergedCheckStrategyRef.value === 'child') {\n                    const tmNode = getNode(key);\n                    if (tmNode === null || tmNode === void 0 ? void 0 : tmNode.isLeaf) {\n                        doUpdateValue(key, tmNode.rawNode, getRawNodePath(getPath(key).treeNodePath));\n                    }\n                    else {\n                        return false;\n                    }\n                }\n                else {\n                    const tmNode = getNode(key);\n                    doUpdateValue(key, (tmNode === null || tmNode === void 0 ? void 0 : tmNode.rawNode) || null, getRawNodePath((_a = getPath(key)) === null || _a === void 0 ? void 0 : _a.treeNodePath));\n                }\n            }\n            return true;\n        }\n        function doUncheck(key) {\n            const { cascade, multiple } = props;\n            if (multiple) {\n                const { value: { uncheck, getNode, getPath } } = treeMateRef;\n                const { checkedKeys } = uncheck(key, mergedKeysRef.value.checkedKeys, {\n                    cascade,\n                    checkStrategy: mergedCheckStrategyRef.value,\n                    allowNotLoaded: props.allowCheckingNotLoaded\n                });\n                doUpdateValue(checkedKeys, checkedKeys.map((checkedKey) => { var _a; return ((_a = getNode(checkedKey)) === null || _a === void 0 ? void 0 : _a.rawNode) || null; }), checkedKeys.map((checkedKey) => { var _a; return getRawNodePath((_a = getPath(checkedKey)) === null || _a === void 0 ? void 0 : _a.treeNodePath); }));\n                keyboardKeyRef.value = key;\n                hoverKeyRef.value = key;\n            }\n        }\n        const selectedOptionsRef = computed(() => {\n            if (props.multiple) {\n                const { showPath, separator, labelField, cascade } = props;\n                const { getCheckedKeys, getNode } = treeMateRef.value;\n                const value = getCheckedKeys(checkedKeysRef.value, {\n                    cascade,\n                    checkStrategy: mergedCheckStrategyRef.value,\n                    allowNotLoaded: props.allowCheckingNotLoaded\n                }).checkedKeys;\n                return value.map((key) => {\n                    const node = getNode(key);\n                    if (node === null) {\n                        return {\n                            label: String(key),\n                            value: key\n                        };\n                    }\n                    else {\n                        return {\n                            label: showPath\n                                ? getPathLabel(node, separator, labelField)\n                                : node.rawNode[labelField],\n                            value: node.key\n                        };\n                    }\n                });\n            }\n            else\n                return [];\n        });\n        const selectedOptionRef = computed(() => {\n            const { multiple, showPath, separator, labelField } = props;\n            const { value } = mergedValueRef;\n            if (!multiple && !Array.isArray(value)) {\n                const { getNode } = treeMateRef.value;\n                if (value === null) {\n                    return null;\n                }\n                const node = getNode(value);\n                if (node === null) {\n                    return {\n                        label: String(value),\n                        value\n                    };\n                }\n                else {\n                    return {\n                        label: showPath\n                            ? getPathLabel(node, separator, labelField)\n                            : node.rawNode[labelField],\n                        value: node.key\n                    };\n                }\n            }\n            else\n                return null;\n        });\n        const uncontrolledShowRef = ref(false);\n        const controlledShowRef = toRef(props, 'show');\n        const mergedShowRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n        const localizedPlaceholderRef = computed(() => {\n            const { placeholder } = props;\n            if (placeholder !== undefined)\n                return placeholder;\n            return localeRef.value.placeholder;\n        });\n        // select option related\n        const showSelectMenuRef = computed(() => {\n            return !!(props.filterable && patternRef.value);\n        });\n        // init hover key\n        watch(mergedShowRef, (show) => {\n            if (!show)\n                return;\n            if (props.multiple)\n                return;\n            const { value } = mergedValueRef;\n            if (!Array.isArray(value) && value !== null) {\n                keyboardKeyRef.value = value;\n                hoverKeyRef.value = value;\n                void nextTick(() => {\n                    var _a;\n                    if (!mergedShowRef.value)\n                        return;\n                    const { value: hoverKey } = hoverKeyRef;\n                    if (mergedValueRef.value !== null) {\n                        const node = treeMateRef.value.getNode(hoverKey);\n                        if (node) {\n                            (_a = cascaderMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.scroll(node.level, node.index, depx(optionHeightRef.value));\n                        }\n                    }\n                });\n            }\n            else {\n                keyboardKeyRef.value = null;\n                hoverKeyRef.value = null;\n            }\n        }, {\n            immediate: true\n        });\n        // --- methods\n        function doBlur(e) {\n            const { onBlur } = props;\n            const { nTriggerFormBlur } = formItem;\n            if (onBlur)\n                call(onBlur, e);\n            nTriggerFormBlur();\n        }\n        function doFocus(e) {\n            const { onFocus } = props;\n            const { nTriggerFormFocus } = formItem;\n            if (onFocus)\n                call(onFocus, e);\n            nTriggerFormFocus();\n        }\n        function focusSelectionInput() {\n            var _a;\n            (_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n        }\n        function focusSelection() {\n            var _a;\n            (_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n        function openMenu() {\n            if (!mergedDisabledRef.value) {\n                patternRef.value = '';\n                doUpdateShow(true);\n                if (props.filterable) {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function closeMenu(returnFocus = false) {\n            if (returnFocus) {\n                focusSelection();\n            }\n            doUpdateShow(false);\n            patternRef.value = '';\n        }\n        function handleCascaderMenuClickOutside(e) {\n            var _a;\n            if (showSelectMenuRef.value)\n                return;\n            if (mergedShowRef.value) {\n                if (!((_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n                    closeMenu();\n                }\n            }\n        }\n        function handleSelectMenuClickOutside(e) {\n            if (!showSelectMenuRef.value)\n                return;\n            handleCascaderMenuClickOutside(e);\n        }\n        function clearPattern() {\n            if (props.clearFilterAfterSelect)\n                patternRef.value = '';\n        }\n        // --- keyboard\n        function move(direction) {\n            var _a, _b, _c;\n            const { value: keyboardKey } = keyboardKeyRef;\n            const { value: treeMate } = treeMateRef;\n            switch (direction) {\n                case 'prev':\n                    if (keyboardKey !== null) {\n                        const node = treeMate.getPrev(keyboardKey, { loop: true });\n                        if (node !== null) {\n                            updateKeyboardKey(node.key);\n                            (_a = cascaderMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.scroll(node.level, node.index, depx(optionHeightRef.value));\n                        }\n                    }\n                    break;\n                case 'next':\n                    if (keyboardKey === null) {\n                        const node = treeMate.getFirstAvailableNode();\n                        if (node !== null) {\n                            updateKeyboardKey(node.key);\n                            (_b = cascaderMenuInstRef.value) === null || _b === void 0 ? void 0 : _b.scroll(node.level, node.index, depx(optionHeightRef.value));\n                        }\n                    }\n                    else {\n                        const node = treeMate.getNext(keyboardKey, { loop: true });\n                        if (node !== null) {\n                            updateKeyboardKey(node.key);\n                            (_c = cascaderMenuInstRef.value) === null || _c === void 0 ? void 0 : _c.scroll(node.level, node.index, depx(optionHeightRef.value));\n                        }\n                    }\n                    break;\n                case 'child':\n                    if (keyboardKey !== null) {\n                        const currentNode = treeMate.getNode(keyboardKey);\n                        if (currentNode !== null) {\n                            if (currentNode.shallowLoaded) {\n                                const node = treeMate.getChild(keyboardKey);\n                                if (node !== null) {\n                                    updateHoverKey(keyboardKey);\n                                    updateKeyboardKey(node.key);\n                                }\n                            }\n                            else {\n                                const { value: loadingKeySet } = loadingKeySetRef;\n                                if (!loadingKeySet.has(keyboardKey)) {\n                                    addLoadingKey(keyboardKey);\n                                    updateHoverKey(keyboardKey);\n                                    const { onLoad } = props;\n                                    if (onLoad) {\n                                        onLoad(currentNode.rawNode)\n                                            .then(() => {\n                                            deleteLoadingKey(keyboardKey);\n                                        })\n                                            .catch(() => {\n                                            deleteLoadingKey(keyboardKey);\n                                        });\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'parent':\n                    if (keyboardKey !== null) {\n                        const node = treeMate.getParent(keyboardKey);\n                        if (node !== null) {\n                            updateKeyboardKey(node.key);\n                            const parentNode = node.getParent();\n                            if (parentNode === null) {\n                                updateHoverKey(null);\n                            }\n                            else {\n                                updateHoverKey(parentNode.key);\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n        function handleKeydown(e) {\n            var _a, _b;\n            switch (e.key) {\n                case ' ':\n                case 'ArrowDown':\n                case 'ArrowUp':\n                    if (props.filterable && mergedShowRef.value) {\n                        break;\n                    }\n                    e.preventDefault();\n                    break;\n            }\n            if (happensIn(e, 'action'))\n                return;\n            switch (e.key) {\n                case ' ':\n                    if (props.filterable)\n                        return;\n                // eslint-disable-next-line no-fallthrough\n                case 'Enter':\n                    if (!mergedShowRef.value) {\n                        openMenu();\n                    }\n                    else {\n                        const { value: showSelectMenu } = showSelectMenuRef;\n                        const { value: keyboardKey } = keyboardKeyRef;\n                        if (!showSelectMenu) {\n                            if (keyboardKey !== null) {\n                                if (checkedKeysRef.value.includes(keyboardKey) ||\n                                    indeterminateKeysRef.value.includes(keyboardKey)) {\n                                    doUncheck(keyboardKey);\n                                }\n                                else {\n                                    const checkIsValid = doCheck(keyboardKey);\n                                    if (!props.multiple && checkIsValid) {\n                                        closeMenu(true);\n                                    }\n                                }\n                            }\n                        }\n                        else {\n                            if (selectMenuInstRef.value) {\n                                const hasCorrespondingOption = selectMenuInstRef.value.enter();\n                                if (hasCorrespondingOption)\n                                    clearPattern();\n                            }\n                        }\n                    }\n                    break;\n                case 'ArrowUp':\n                    e.preventDefault();\n                    if (mergedShowRef.value) {\n                        if (showSelectMenuRef.value) {\n                            (_a = selectMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.prev();\n                        }\n                        else {\n                            move('prev');\n                        }\n                    }\n                    break;\n                case 'ArrowDown':\n                    e.preventDefault();\n                    if (mergedShowRef.value) {\n                        if (showSelectMenuRef.value) {\n                            (_b = selectMenuInstRef.value) === null || _b === void 0 ? void 0 : _b.next();\n                        }\n                        else {\n                            move('next');\n                        }\n                    }\n                    else {\n                        openMenu();\n                    }\n                    break;\n                case 'ArrowLeft':\n                    e.preventDefault();\n                    if (mergedShowRef.value && !showSelectMenuRef.value) {\n                        move('parent');\n                    }\n                    break;\n                case 'ArrowRight':\n                    e.preventDefault();\n                    if (mergedShowRef.value && !showSelectMenuRef.value) {\n                        move('child');\n                    }\n                    break;\n                case 'Escape':\n                    if (mergedShowRef.value) {\n                        markEventEffectPerformed(e);\n                        closeMenu(true);\n                    }\n            }\n        }\n        function handleMenuKeydown(e) {\n            handleKeydown(e);\n        }\n        // --- search\n        function handleClear(e) {\n            e.stopPropagation();\n            if (props.multiple) {\n                doUpdateValue([], [], []);\n            }\n            else {\n                doUpdateValue(null, null, null);\n            }\n        }\n        function handleTriggerFocus(e) {\n            var _a;\n            if (!((_a = cascaderMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))) {\n                focusedRef.value = true;\n                doFocus(e);\n            }\n        }\n        function handleTriggerBlur(e) {\n            var _a;\n            if (!((_a = cascaderMenuInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))) {\n                focusedRef.value = false;\n                doBlur(e);\n                closeMenu();\n            }\n        }\n        function handleMenuFocus(e) {\n            var _a;\n            if (!((_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))) {\n                focusedRef.value = true;\n                doFocus(e);\n            }\n        }\n        function handleMenuBlur(e) {\n            var _a;\n            if (!((_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))) {\n                focusedRef.value = false;\n                doBlur(e);\n            }\n        }\n        function handleMenuMousedown(e) {\n            if (!happensIn(e, 'action')) {\n                if (props.multiple && props.filter) {\n                    e.preventDefault();\n                    focusSelectionInput();\n                }\n            }\n        }\n        function handleMenuTabout() {\n            closeMenu(true);\n        }\n        function handleTriggerClick() {\n            if (props.filterable) {\n                openMenu();\n            }\n            else {\n                if (mergedShowRef.value) {\n                    closeMenu(true);\n                }\n                else {\n                    openMenu();\n                }\n            }\n        }\n        function handlePatternInput(e) {\n            patternRef.value = e.target.value;\n        }\n        function handleDeleteOption(option) {\n            const { multiple } = props;\n            const { value: mergedValue } = mergedValueRef;\n            if (multiple &&\n                Array.isArray(mergedValue) &&\n                option.value !== undefined) {\n                doUncheck(option.value);\n            }\n            else {\n                doUpdateValue(null, null, null);\n            }\n        }\n        // sync position\n        function syncSelectMenuPosition() {\n            var _a;\n            (_a = selectMenuFollowerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        function syncCascaderMenuPosition() {\n            var _a;\n            (_a = cascaderMenuFollowerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        function handleTriggerResize() {\n            if (mergedShowRef.value) {\n                if (showSelectMenuRef.value) {\n                    syncSelectMenuPosition();\n                }\n                else {\n                    syncCascaderMenuPosition();\n                }\n            }\n        }\n        provide(cascaderInjectionKey, {\n            mergedClsPrefixRef,\n            mergedThemeRef: themeRef,\n            mergedValueRef,\n            checkedKeysRef,\n            indeterminateKeysRef,\n            hoverKeyPathRef,\n            mergedCheckStrategyRef,\n            cascadeRef: toRef(props, 'cascade'),\n            multipleRef: toRef(props, 'multiple'),\n            keyboardKeyRef,\n            hoverKeyRef,\n            remoteRef: toRef(props, 'remote'),\n            loadingKeySetRef,\n            expandTriggerRef: toRef(props, 'expandTrigger'),\n            isMountedRef: useIsMounted(),\n            onLoadRef: toRef(props, 'onLoad'),\n            virtualScrollRef: toRef(props, 'virtualScroll'),\n            optionHeightRef,\n            localeRef,\n            labelFieldRef: toRef(props, 'labelField'),\n            renderLabelRef: toRef(props, 'renderLabel'),\n            syncCascaderMenuPosition,\n            syncSelectMenuPosition,\n            updateKeyboardKey,\n            updateHoverKey,\n            addLoadingKey,\n            deleteLoadingKey,\n            doCheck,\n            doUncheck,\n            closeMenu,\n            handleSelectMenuClickOutside,\n            handleCascaderMenuClickOutside,\n            clearPattern\n        });\n        const exposedMethods = {\n            focus: () => {\n                var _a;\n                (_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            },\n            blur: () => {\n                var _a;\n                (_a = triggerInstRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n            }\n        };\n        const cssVarsRef = computed(() => {\n            const { self: { optionArrowColor, optionTextColor, optionTextColorActive, optionTextColorDisabled, optionCheckMarkColor, menuColor, menuBoxShadow, menuDividerColor, menuBorderRadius, menuHeight, optionColorHover, optionHeight, optionFontSize, loadingColor, columnWidth }, common: { cubicBezierEaseInOut } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-menu-border-radius': menuBorderRadius,\n                '--n-menu-box-shadow': menuBoxShadow,\n                '--n-menu-height': menuHeight,\n                '--n-column-width': columnWidth,\n                '--n-menu-color': menuColor,\n                '--n-menu-divider-color': menuDividerColor,\n                '--n-option-height': optionHeight,\n                '--n-option-font-size': optionFontSize,\n                '--n-option-text-color': optionTextColor,\n                '--n-option-text-color-disabled': optionTextColorDisabled,\n                '--n-option-text-color-active': optionTextColorActive,\n                '--n-option-color-hover': optionColorHover,\n                '--n-option-check-mark-color': optionCheckMarkColor,\n                '--n-option-arrow-color': optionArrowColor,\n                '--n-menu-mask-color': changeColor(menuColor, { alpha: 0.75 }),\n                '--n-loading-color': loadingColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('cascader', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, exposedMethods), { handleTriggerResize, mergedStatus: mergedStatusRef, selectMenuFollowerRef,\n            cascaderMenuFollowerRef,\n            triggerInstRef,\n            selectMenuInstRef,\n            cascaderMenuInstRef, mergedBordered: mergedBorderedRef, mergedClsPrefix: mergedClsPrefixRef, namespace: namespaceRef, mergedValue: mergedValueRef, mergedShow: mergedShowRef, showSelectMenu: showSelectMenuRef, pattern: patternRef, treeMate: treeMateRef, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, localizedPlaceholder: localizedPlaceholderRef, selectedOption: selectedOptionRef, selectedOptions: selectedOptionsRef, adjustedTo: adjustedToRef, menuModel: menuModelRef, handleMenuTabout,\n            handleMenuFocus,\n            handleMenuBlur,\n            handleMenuKeydown,\n            handleMenuMousedown,\n            handleTriggerFocus,\n            handleTriggerBlur,\n            handleTriggerClick,\n            handleClear,\n            handleDeleteOption,\n            handlePatternInput,\n            handleKeydown, focused: focusedRef, optionHeight: optionHeightRef, mergedTheme: themeRef, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return (h(\"div\", { class: `${mergedClsPrefix}-cascader` },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(NInternalSelection, { onResize: this.handleTriggerResize, ref: \"triggerInstRef\", status: this.mergedStatus, clsPrefix: mergedClsPrefix, maxTagCount: this.maxTagCount, bordered: this.mergedBordered, size: this.mergedSize, theme: this.mergedTheme.peers.InternalSelection, themeOverrides: this.mergedTheme.peerOverrides.InternalSelection, active: this.mergedShow, pattern: this.pattern, placeholder: this.localizedPlaceholder, selectedOption: this.selectedOption, selectedOptions: this.selectedOptions, multiple: this.multiple, filterable: this.filterable, clearable: this.clearable, disabled: this.mergedDisabled, focused: this.focused, onFocus: this.handleTriggerFocus, onBlur: this.handleTriggerBlur, onClick: this.handleTriggerClick, onClear: this.handleClear, onDeleteOption: this.handleDeleteOption, onPatternInput: this.handlePatternInput, onKeydown: this.handleKeydown }, {\n                            arrow: () => { var _a, _b; return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a); }\n                        }))\n                    }),\n                    h(VFollower, { key: \"cascaderMenu\", ref: \"cascaderMenuFollowerRef\", show: this.mergedShow && !this.showSelectMenu, containerClass: this.namespace, placement: this.placement, width: !this.options.length ? 'target' : undefined, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, to: this.adjustedTo }, {\n                        default: () => {\n                            var _a;\n                            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                            const { menuProps } = this;\n                            return (h(CascaderMenu, Object.assign({}, menuProps, { ref: \"cascaderMenuInstRef\", class: [this.themeClass, menuProps === null || menuProps === void 0 ? void 0 : menuProps.class], value: this.mergedValue, show: this.mergedShow && !this.showSelectMenu, menuModel: this.menuModel, style: [\n                                    this.cssVars,\n                                    menuProps === null || menuProps === void 0 ? void 0 : menuProps.style\n                                ], onFocus: this.handleMenuFocus, onBlur: this.handleMenuBlur, onKeydown: this.handleMenuKeydown, onMousedown: this.handleMenuMousedown, onTabout: this.handleMenuTabout }), {\n                                action: () => { var _a, _b; return (_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                                empty: () => { var _a, _b; return (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a); }\n                            }));\n                        }\n                    }),\n                    h(VFollower, { key: \"selectMenu\", ref: \"selectMenuFollowerRef\", show: this.mergedShow && this.showSelectMenu, containerClass: this.namespace, width: \"target\", placement: this.placement, to: this.adjustedTo, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey }, {\n                        default: () => {\n                            var _a;\n                            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                            const { filterMenuProps } = this;\n                            return (h(CascaderSelectMenu, Object.assign({}, filterMenuProps, { ref: \"selectMenuInstRef\", class: [this.themeClass, filterMenuProps === null || filterMenuProps === void 0 ? void 0 : filterMenuProps.class], value: this.mergedValue, show: this.mergedShow && this.showSelectMenu, pattern: this.pattern, multiple: this.multiple, tmNodes: this.treeMate.treeNodes, filter: this.filter, labelField: this.labelField, separator: this.separator, style: [\n                                    this.cssVars,\n                                    filterMenuProps === null || filterMenuProps === void 0 ? void 0 : filterMenuProps.style\n                                ] })));\n                        }\n                    })\n                ]\n            })));\n    }\n});\n"],"mappings":";AAAA,SAASA,CAAC,EAAEC,eAAe,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,KAAK,EAAEC,UAAU,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,KAAK;AACjH,SAASC,cAAc,EAAEC,qBAAqB,QAAQ,UAAU;AAChE,SAASC,OAAO,EAAEC,OAAO,EAAEC,SAAS,QAAQ,OAAO;AACnD,SAASC,IAAI,EAAEC,WAAW,EAAEC,SAAS,EAAEC,qBAAqB,QAAQ,QAAQ;AAC5E,SAASC,YAAY,EAAEC,cAAc,QAAQ,OAAO;AACpD,SAASC,kBAAkB,QAAQ,iBAAiB;AACpD,SAASC,SAAS,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,aAAa,QAAQ,eAAe;AAC1F,SAASC,IAAI,EAAEC,wBAAwB,EAAEC,aAAa,EAAEC,QAAQ,QAAQ,cAAc;AACtF,SAASC,aAAa,QAAQ,WAAW;AACzC,SAASC,YAAY,EAAEC,cAAc,QAAQ,SAAS;AACtD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,SAASC,oBAAoB,QAAQ,aAAa;AAClD,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAO,MAAMC,aAAa,GAAGC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEjB,QAAQ,CAACkB,KAAK,CAAC,EAAE;EAAEC,sBAAsB,EAAEC,OAAO;EAAEC,EAAE,EAAEf,aAAa,CAACgB,MAAM;EAAEC,QAAQ,EAAE;IAC7IC,IAAI,EAAEJ,OAAO;IACbK,OAAO,EAAEC;EACb,CAAC;EAAEC,OAAO,EAAE;IACRH,IAAI,EAAEI,KAAK;IACXH,OAAO,EAAE,MAAM;EACnB,CAAC;EAAEI,KAAK,EAAE,CAACC,MAAM,EAAEC,MAAM,EAAEH,KAAK,CAAC;EAAEI,YAAY,EAAE;IAC7CR,IAAI,EAAE,CAACM,MAAM,EAAEC,MAAM,EAAEH,KAAK,CAAC;IAC7BH,OAAO,EAAE;EACb,CAAC;EAAEQ,WAAW,EAAEH,MAAM;EAAEI,QAAQ,EAAEd,OAAO;EAAEe,IAAI,EAAEL,MAAM;EAAEM,UAAU,EAAEhB,OAAO;EAAEiB,QAAQ,EAAE;IACpFb,IAAI,EAAEJ,OAAO;IACbK,OAAO,EAAEC;EACb,CAAC;EAAEY,aAAa,EAAE;IACdd,IAAI,EAAEM,MAAM;IACZL,OAAO,EAAE;EACb,CAAC;EAAEc,aAAa,EAAE;IACdf,IAAI,EAAEM,MAAM;IACZL,OAAO,EAAE;EACb,CAAC;EAAEe,SAAS,EAAEpB,OAAO;EAAEqB,sBAAsB,EAAE;IAC3CjB,IAAI,EAAEJ,OAAO;IACbK,OAAO,EAAE;EACb,CAAC;EAAEiB,MAAM,EAAEtB,OAAO;EAAEuB,MAAM,EAAEC,QAAQ;EAAEC,SAAS,EAAE;IAC7CrB,IAAI,EAAEM,MAAM;IACZL,OAAO,EAAE;EACb,CAAC;EAAEqB,MAAM,EAAEF,QAAQ;EAAEG,SAAS,EAAE;IAC5BvB,IAAI,EAAEM,MAAM;IACZL,OAAO,EAAE;EACb,CAAC;EAAEuB,OAAO,EAAE;IACRxB,IAAI,EAAEJ,OAAO;IACbK,OAAO,EAAE;EACb,CAAC;EAAEwB,QAAQ,EAAE7B,OAAO;EAAE8B,QAAQ,EAAE;IAC5B1B,IAAI,EAAEJ,OAAO;IACbK,OAAO,EAAE;EACb,CAAC;EAAE0B,IAAI,EAAE;IACL3B,IAAI,EAAEJ,OAAO;IACbK,OAAO,EAAEC;EACb,CAAC;EAAE0B,WAAW,EAAE,CAACtB,MAAM,EAAEC,MAAM,CAAC;EAAEsB,SAAS,EAAErC,MAAM;EAAEsC,eAAe,EAAEtC,MAAM;EAAEuC,aAAa,EAAE;IACzF/B,IAAI,EAAEJ,OAAO;IACbK,OAAO,EAAE;EACb,CAAC;EAAE+B,aAAa,EAAE;IACdhC,IAAI,EAAEM,MAAM;IACZL,OAAO,EAAE;EACb,CAAC;EAAEgC,UAAU,EAAE;IACXjC,IAAI,EAAEM,MAAM;IACZL,OAAO,EAAE;EACb,CAAC;EAAEiC,UAAU,EAAE;IACXlC,IAAI,EAAEM,MAAM;IACZL,OAAO,EAAE;EACb,CAAC;EAAEkC,aAAa,EAAE;IACdnC,IAAI,EAAEM,MAAM;IACZL,OAAO,EAAE;EACb,CAAC;EAAEmC,WAAW,EAAEhB,QAAQ;EAAEiB,MAAM,EAAE/B,MAAM;EAAE,gBAAgB,EAAE,CAACc,QAAQ,EAAEhB,KAAK,CAAC;EAAEkC,aAAa,EAAE,CAAClB,QAAQ,EAAEhB,KAAK,CAAC;EAAE,eAAe,EAAE,CAACgB,QAAQ,EAAEhB,KAAK,CAAC;EAAEmC,YAAY,EAAE,CAACnB,QAAQ,EAAEhB,KAAK,CAAC;EAAEoC,MAAM,EAAEpB,QAAQ;EAAEqB,OAAO,EAAErB,QAAQ;EACzN;EACAsB,QAAQ,EAAE,CAACtB,QAAQ,EAAEhB,KAAK;AAAE,CAAC,CAAC;AAClC,eAAelD,eAAe,CAAC;EAC3ByF,IAAI,EAAE,UAAU;EAChBjD,KAAK,EAAEH,aAAa;EACpBqD,KAAK,CAAClD,KAAK,EAAE;IACT,IAAImD,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;MACvCtF,WAAW,CAAC,MAAM;QACd,IAAIiC,KAAK,CAAC+B,QAAQ,EAAE;UAChB1C,QAAQ,CAAC,UAAU,EAAE,wEAAwE,CAAC;QAClG;QACA,IAAIW,KAAK,CAACgD,QAAQ,KAAKxC,SAAS,EAAE;UAC9BnB,QAAQ,CAAC,UAAU,EAAE,kEAAkE,CAAC;QAC5F;MACJ,CAAC,CAAC;IACN;IACA,MAAM;MAAEiE,iBAAiB;MAAEC,kBAAkB;MAAEC,YAAY;MAAEC;IAAoB,CAAC,GAAG1E,SAAS,CAACiB,KAAK,CAAC;IACrG,MAAM0D,QAAQ,GAAG5E,QAAQ,CAAC,UAAU,EAAE,WAAW,EAAEc,KAAK,EAAEN,aAAa,EAAEU,KAAK,EAAEuD,kBAAkB,CAAC;IACnG,MAAM;MAAEI;IAAU,CAAC,GAAG9E,SAAS,CAAC,UAAU,CAAC;IAC3C,MAAM+E,oBAAoB,GAAGjG,GAAG,CAACqC,KAAK,CAACc,YAAY,CAAC;IACpD,MAAM+C,kBAAkB,GAAGpG,QAAQ,CAAC,MAAMuC,KAAK,CAACW,KAAK,CAAC;IACtD,MAAMmD,cAAc,GAAGnF,cAAc,CAACkF,kBAAkB,EAAED,oBAAoB,CAAC;IAC/E,MAAMG,sBAAsB,GAAGtG,QAAQ,CAAC,MAAM;MAC1C,OAAOuC,KAAK,CAAC+B,QAAQ,GAAG,OAAO,GAAG/B,KAAK,CAACsC,aAAa;IACzD,CAAC,CAAC;IACF,MAAM0B,UAAU,GAAGrG,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMsG,QAAQ,GAAGjF,WAAW,CAACgB,KAAK,CAAC;IACnC,MAAM;MAAEkE,aAAa;MAAEC,iBAAiB;MAAEC;IAAgB,CAAC,GAAGH,QAAQ;IACtE,MAAMI,mBAAmB,GAAG1G,GAAG,CAAC,IAAI,CAAC;IACrC,MAAM2G,iBAAiB,GAAG3G,GAAG,CAAC,IAAI,CAAC;IACnC,MAAM4G,cAAc,GAAG5G,GAAG,CAAC,IAAI,CAAC;IAChC,MAAM6G,cAAc,GAAG7G,GAAG,CAAC,IAAI,CAAC;IAChC,MAAM8G,WAAW,GAAG9G,GAAG,CAAC,IAAI,CAAC;IAC7B,MAAM+G,gBAAgB,GAAG/G,GAAG,CAAC,IAAIgH,GAAG,EAAE,CAAC;IACvC,MAAMC,qBAAqB,GAAGjH,GAAG,CAAC,IAAI,CAAC;IACvC,MAAMkH,uBAAuB,GAAGlH,GAAG,CAAC,IAAI,CAAC;IACzC,MAAMmH,aAAa,GAAG1F,aAAa,CAACY,KAAK,CAAC;IAC1C,MAAM+E,UAAU,GAAGpH,GAAG,CAAC,KAAK,CAAC;IAC7B,MAAMqH,aAAa,GAAIC,GAAG,IAAK;MAC3BP,gBAAgB,CAAC/D,KAAK,CAACuE,GAAG,CAACD,GAAG,CAAC;IACnC,CAAC;IACD,MAAME,gBAAgB,GAAIF,GAAG,IAAK;MAC9BP,gBAAgB,CAAC/D,KAAK,CAACyE,MAAM,CAACH,GAAG,CAAC;IACtC,CAAC;IACD,MAAMI,WAAW,GAAG5H,QAAQ,CAAC,MAAM;MAC/B,MAAM;QAAE8E,UAAU;QAAEE,aAAa;QAAErB;MAAc,CAAC,GAAGpB,KAAK;MAC1D,OAAO/B,cAAc,CAAC+B,KAAK,CAACS,OAAO,EAAE;QACjC6E,WAAW,CAACC,IAAI,EAAE;UACd,OAAOA,IAAI,CAACnE,aAAa,CAAC;QAC9B,CAAC;QACDoE,MAAM,CAACD,IAAI,EAAE;UACT,OAAOA,IAAI,CAAChD,UAAU,CAAC;QAC3B,CAAC;QACDkD,WAAW,CAACF,IAAI,EAAE;UACd,OAAOA,IAAI,CAAC9C,aAAa,CAAC;QAC9B;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;IACF,MAAMiD,aAAa,GAAGjI,QAAQ,CAAC,MAAM;MACjC,MAAM;QAAEqE,OAAO;QAAEd;MAAS,CAAC,GAAGhB,KAAK;MACnC,IAAIgB,QAAQ,IAAIN,KAAK,CAACiF,OAAO,CAAC7B,cAAc,CAACnD,KAAK,CAAC,EAAE;QACjD,OAAO0E,WAAW,CAAC1E,KAAK,CAACiF,cAAc,CAAC9B,cAAc,CAACnD,KAAK,EAAE;UAC1DmB,OAAO;UACP+D,cAAc,EAAE7F,KAAK,CAACC;QAC1B,CAAC,CAAC;MACN,CAAC,MACI;QACD,OAAO;UACH6F,WAAW,EAAE,EAAE;UACfC,iBAAiB,EAAE;QACvB,CAAC;MACL;IACJ,CAAC,CAAC;IACF,MAAMC,cAAc,GAAGvI,QAAQ,CAAC,MAAMiI,aAAa,CAAC/E,KAAK,CAACmF,WAAW,CAAC;IACtE,MAAMG,oBAAoB,GAAGxI,QAAQ,CAAC,MAAMiI,aAAa,CAAC/E,KAAK,CAACoF,iBAAiB,CAAC;IAClF,MAAMG,YAAY,GAAGzI,QAAQ,CAAC,MAAM;MAChC,MAAM;QAAE0I,YAAY;QAAEC;MAAS,CAAC,GAAGf,WAAW,CAAC1E,KAAK,CAAC0F,OAAO,CAAC5B,WAAW,CAAC9D,KAAK,CAAC;MAC/E,IAAI2F,GAAG;MACP,IAAIF,QAAQ,KAAK,IAAI,EAAE;QACnBE,GAAG,GAAG,CAACjB,WAAW,CAAC1E,KAAK,CAAC4F,SAAS,CAAC;MACvC,CAAC,MACI;QACDD,GAAG,GAAGH,YAAY,CAACK,GAAG,CAAEJ,QAAQ,IAAKA,QAAQ,CAACK,QAAQ,CAAC;QACvD,IAAI,CAACL,QAAQ,CAACM,MAAM,IAChB,CAAChC,gBAAgB,CAAC/D,KAAK,CAACgG,GAAG,CAACP,QAAQ,CAACnB,GAAG,CAAC,IACzCmB,QAAQ,CAACQ,QAAQ,EAAE;UACnBN,GAAG,CAACO,IAAI,CAACT,QAAQ,CAACQ,QAAQ,CAAC;QAC/B;MACJ;MACA,OAAON,GAAG;IACd,CAAC,CAAC;IACF,MAAMQ,eAAe,GAAGrJ,QAAQ,CAAC,MAAM;MACnC,MAAM;QAAEsJ;MAAQ,CAAC,GAAG1B,WAAW,CAAC1E,KAAK,CAAC0F,OAAO,CAAC5B,WAAW,CAAC9D,KAAK,CAAC;MAChE,OAAOoG,OAAO;IAClB,CAAC,CAAC;IACF,MAAMC,eAAe,GAAGvJ,QAAQ,CAAC,MAAM;MACnC,OAAOiG,QAAQ,CAAC/C,KAAK,CAACsG,IAAI,CAACC,YAAY;IAC3C,CAAC,CAAC;IACF,IAAIpJ,UAAU,CAACkC,KAAK,CAACS,OAAO,CAAC,EAAE;MAC3B7C,KAAK,CAACoC,KAAK,CAACS,OAAO,EAAE,CAACE,KAAK,EAAEwG,QAAQ,KAAK;QACtC,IAAI,EAAExG,KAAK,KAAKwG,QAAQ,CAAC,EAAE;UACvB1C,WAAW,CAAC9D,KAAK,GAAG,IAAI;UACxB6D,cAAc,CAAC7D,KAAK,GAAG,IAAI;QAC/B;MACJ,CAAC,CAAC;IACN;IACA,SAASyG,YAAY,CAACzG,KAAK,EAAE;MACzB,MAAM;QAAEkC,YAAY;QAAE,eAAe,EAAEwE;MAAc,CAAC,GAAGrH,KAAK;MAC9D,IAAI6C,YAAY,EAAE;QACd3D,IAAI,CAAC2D,YAAY,EAAElC,KAAK,CAAC;MAC7B;MACA,IAAI0G,aAAa,EAAE;QACfnI,IAAI,CAACmI,aAAa,EAAE1G,KAAK,CAAC;MAC9B;MACA2G,mBAAmB,CAAC3G,KAAK,GAAGA,KAAK;IACrC;IACA,SAAS4G,aAAa,CAAC5G,KAAK,EAAE6G,MAAM,EAAEC,UAAU,EAAE;MAC9C,MAAM;QAAE7E,aAAa;QAAE,gBAAgB,EAAE8E,cAAc;QAAE1E;MAAS,CAAC,GAAGhD,KAAK;MAC3E,MAAM;QAAE2H,iBAAiB;QAAEC;MAAmB,CAAC,GAAG3D,QAAQ;MAC1D,IAAIrB,aAAa,EAAE;QACf1D,IAAI,CAAC0D,aAAa,EAAEjC,KAAK,EAAE6G,MAAM,EAAEC,UAAU,CAAC;MAClD;MACA,IAAIC,cAAc,EAAE;QAChBxI,IAAI,CAACwI,cAAc,EAAE/G,KAAK,EAAE6G,MAAM,EAAEC,UAAU,CAAC;MACnD;MACA,IAAIzE,QAAQ,EAAE;QACV9D,IAAI,CAAC8D,QAAQ,EAAErC,KAAK,EAAE6G,MAAM,EAAEC,UAAU,CAAC;MAC7C;MACA7D,oBAAoB,CAACjD,KAAK,GAAGA,KAAK;MAClCgH,iBAAiB,EAAE;MACnBC,kBAAkB,EAAE;IACxB;IACA,SAASC,iBAAiB,CAAC5C,GAAG,EAAE;MAC5BT,cAAc,CAAC7D,KAAK,GAAGsE,GAAG;IAC9B;IACA,SAAS6C,cAAc,CAAC7C,GAAG,EAAE;MACzBR,WAAW,CAAC9D,KAAK,GAAGsE,GAAG;IAC3B;IACA,SAAS8C,OAAO,CAAC9C,GAAG,EAAE;MAClB,IAAI+C,EAAE;MACN,MAAM;QAAElG,OAAO;QAAEd,QAAQ;QAAEE;MAAW,CAAC,GAAGlB,KAAK;MAC/C,MAAM;QAAEW,KAAK,EAAE;UAAEsH,KAAK;UAAEC,OAAO;UAAE7B;QAAQ;MAAE,CAAC,GAAGhB,WAAW;MAC1D,IAAIrE,QAAQ,EAAE;QACV,IAAI;UACA,MAAM;YAAE8E;UAAY,CAAC,GAAGmC,KAAK,CAAChD,GAAG,EAAES,aAAa,CAAC/E,KAAK,CAACmF,WAAW,EAAE;YAChEhE,OAAO;YACPQ,aAAa,EAAEyB,sBAAsB,CAACpD,KAAK;YAC3CkF,cAAc,EAAE7F,KAAK,CAACC;UAC1B,CAAC,CAAC;UACFsH,aAAa,CAACzB,WAAW,EAAEA,WAAW,CAACU,GAAG,CAAE2B,UAAU,IAAK;YAAE,IAAIH,EAAE;YAAE,OAAO,CAAC,CAACA,EAAE,GAAGE,OAAO,CAACC,UAAU,CAAC,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACI,OAAO,KAAK,IAAI;UAAE,CAAC,CAAC,EAAEtC,WAAW,CAACU,GAAG,CAAE2B,UAAU,IAAK;YAAE,IAAIH,EAAE;YAAE,OAAOxI,cAAc,CAAC,CAACwI,EAAE,GAAG3B,OAAO,CAAC8B,UAAU,CAAC,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC7B,YAAY,CAAC;UAAE,CAAC,CAAC,CAAC;UAC3T,IAAIjF,UAAU,EACVmH,mBAAmB,EAAE;UACzB7D,cAAc,CAAC7D,KAAK,GAAGsE,GAAG;UAC1BR,WAAW,CAAC9D,KAAK,GAAGsE,GAAG;QAC3B,CAAC,CACD,OAAOqD,GAAG,EAAE;UACR,IAAIA,GAAG,YAAYpK,qBAAqB,EAAE;YACtC,IAAImG,mBAAmB,CAAC1D,KAAK,EAAE;cAC3B,MAAM4H,MAAM,GAAGL,OAAO,CAACjD,GAAG,CAAC;cAC3B,IAAIsD,MAAM,KAAK,IAAI,EAAE;gBACjBlE,mBAAmB,CAAC1D,KAAK,CAAC6H,gBAAgB,CAACD,MAAM,CAACH,OAAO,CAACpI,KAAK,CAACwC,UAAU,CAAC,CAAC;cAChF;YACJ;UACJ,CAAC,MACI;YACD,MAAM8F,GAAG;UACb;QACJ;MACJ,CAAC,MACI;QACD,IAAIvE,sBAAsB,CAACpD,KAAK,KAAK,OAAO,EAAE;UAC1C,MAAM4H,MAAM,GAAGL,OAAO,CAACjD,GAAG,CAAC;UAC3B,IAAIsD,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAC7B,MAAM,EAAE;YAC/Da,aAAa,CAACtC,GAAG,EAAEsD,MAAM,CAACH,OAAO,EAAE5I,cAAc,CAAC6G,OAAO,CAACpB,GAAG,CAAC,CAACkB,YAAY,CAAC,CAAC;UACjF,CAAC,MACI;YACD,OAAO,KAAK;UAChB;QACJ,CAAC,MACI;UACD,MAAMoC,MAAM,GAAGL,OAAO,CAACjD,GAAG,CAAC;UAC3BsC,aAAa,CAACtC,GAAG,EAAE,CAACsD,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACH,OAAO,KAAK,IAAI,EAAE5I,cAAc,CAAC,CAACwI,EAAE,GAAG3B,OAAO,CAACpB,GAAG,CAAC,MAAM,IAAI,IAAI+C,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC7B,YAAY,CAAC,CAAC;QAC1L;MACJ;MACA,OAAO,IAAI;IACf;IACA,SAASsC,SAAS,CAACxD,GAAG,EAAE;MACpB,MAAM;QAAEnD,OAAO;QAAEd;MAAS,CAAC,GAAGhB,KAAK;MACnC,IAAIgB,QAAQ,EAAE;QACV,MAAM;UAAEL,KAAK,EAAE;YAAE+H,OAAO;YAAER,OAAO;YAAE7B;UAAQ;QAAE,CAAC,GAAGhB,WAAW;QAC5D,MAAM;UAAES;QAAY,CAAC,GAAG4C,OAAO,CAACzD,GAAG,EAAES,aAAa,CAAC/E,KAAK,CAACmF,WAAW,EAAE;UAClEhE,OAAO;UACPQ,aAAa,EAAEyB,sBAAsB,CAACpD,KAAK;UAC3CkF,cAAc,EAAE7F,KAAK,CAACC;QAC1B,CAAC,CAAC;QACFsH,aAAa,CAACzB,WAAW,EAAEA,WAAW,CAACU,GAAG,CAAE2B,UAAU,IAAK;UAAE,IAAIH,EAAE;UAAE,OAAO,CAAC,CAACA,EAAE,GAAGE,OAAO,CAACC,UAAU,CAAC,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACI,OAAO,KAAK,IAAI;QAAE,CAAC,CAAC,EAAEtC,WAAW,CAACU,GAAG,CAAE2B,UAAU,IAAK;UAAE,IAAIH,EAAE;UAAE,OAAOxI,cAAc,CAAC,CAACwI,EAAE,GAAG3B,OAAO,CAAC8B,UAAU,CAAC,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC7B,YAAY,CAAC;QAAE,CAAC,CAAC,CAAC;QAC3T3B,cAAc,CAAC7D,KAAK,GAAGsE,GAAG;QAC1BR,WAAW,CAAC9D,KAAK,GAAGsE,GAAG;MAC3B;IACJ;IACA,MAAM0D,kBAAkB,GAAGlL,QAAQ,CAAC,MAAM;MACtC,IAAIuC,KAAK,CAACgB,QAAQ,EAAE;QAChB,MAAM;UAAEgB,QAAQ;UAAEL,SAAS;UAAEa,UAAU;UAAEV;QAAQ,CAAC,GAAG9B,KAAK;QAC1D,MAAM;UAAE4F,cAAc;UAAEsC;QAAQ,CAAC,GAAG7C,WAAW,CAAC1E,KAAK;QACrD,MAAMA,KAAK,GAAGiF,cAAc,CAACI,cAAc,CAACrF,KAAK,EAAE;UAC/CmB,OAAO;UACPQ,aAAa,EAAEyB,sBAAsB,CAACpD,KAAK;UAC3CkF,cAAc,EAAE7F,KAAK,CAACC;QAC1B,CAAC,CAAC,CAAC6F,WAAW;QACd,OAAOnF,KAAK,CAAC6F,GAAG,CAAEvB,GAAG,IAAK;UACtB,MAAMM,IAAI,GAAG2C,OAAO,CAACjD,GAAG,CAAC;UACzB,IAAIM,IAAI,KAAK,IAAI,EAAE;YACf,OAAO;cACHqD,KAAK,EAAEhI,MAAM,CAACqE,GAAG,CAAC;cAClBtE,KAAK,EAAEsE;YACX,CAAC;UACL,CAAC,MACI;YACD,OAAO;cACH2D,KAAK,EAAE5G,QAAQ,GACTzC,YAAY,CAACgG,IAAI,EAAE5D,SAAS,EAAEa,UAAU,CAAC,GACzC+C,IAAI,CAAC6C,OAAO,CAAC5F,UAAU,CAAC;cAC9B7B,KAAK,EAAE4E,IAAI,CAACN;YAChB,CAAC;UACL;QACJ,CAAC,CAAC;MACN,CAAC,MAEG,OAAO,EAAE;IACjB,CAAC,CAAC;IACF,MAAM4D,iBAAiB,GAAGpL,QAAQ,CAAC,MAAM;MACrC,MAAM;QAAEuD,QAAQ;QAAEgB,QAAQ;QAAEL,SAAS;QAAEa;MAAW,CAAC,GAAGxC,KAAK;MAC3D,MAAM;QAAEW;MAAM,CAAC,GAAGmD,cAAc;MAChC,IAAI,CAAC9C,QAAQ,IAAI,CAACN,KAAK,CAACiF,OAAO,CAAChF,KAAK,CAAC,EAAE;QACpC,MAAM;UAAEuH;QAAQ,CAAC,GAAG7C,WAAW,CAAC1E,KAAK;QACrC,IAAIA,KAAK,KAAK,IAAI,EAAE;UAChB,OAAO,IAAI;QACf;QACA,MAAM4E,IAAI,GAAG2C,OAAO,CAACvH,KAAK,CAAC;QAC3B,IAAI4E,IAAI,KAAK,IAAI,EAAE;UACf,OAAO;YACHqD,KAAK,EAAEhI,MAAM,CAACD,KAAK,CAAC;YACpBA;UACJ,CAAC;QACL,CAAC,MACI;UACD,OAAO;YACHiI,KAAK,EAAE5G,QAAQ,GACTzC,YAAY,CAACgG,IAAI,EAAE5D,SAAS,EAAEa,UAAU,CAAC,GACzC+C,IAAI,CAAC6C,OAAO,CAAC5F,UAAU,CAAC;YAC9B7B,KAAK,EAAE4E,IAAI,CAACN;UAChB,CAAC;QACL;MACJ,CAAC,MAEG,OAAO,IAAI;IACnB,CAAC,CAAC;IACF,MAAMqC,mBAAmB,GAAG3J,GAAG,CAAC,KAAK,CAAC;IACtC,MAAMmL,iBAAiB,GAAGjL,KAAK,CAACmC,KAAK,EAAE,MAAM,CAAC;IAC9C,MAAM+I,aAAa,GAAGpK,cAAc,CAACmK,iBAAiB,EAAExB,mBAAmB,CAAC;IAC5E,MAAM0B,uBAAuB,GAAGvL,QAAQ,CAAC,MAAM;MAC3C,MAAM;QAAEsD;MAAY,CAAC,GAAGf,KAAK;MAC7B,IAAIe,WAAW,KAAKP,SAAS,EACzB,OAAOO,WAAW;MACtB,OAAO4C,SAAS,CAAChD,KAAK,CAACI,WAAW;IACtC,CAAC,CAAC;IACF;IACA,MAAMkI,iBAAiB,GAAGxL,QAAQ,CAAC,MAAM;MACrC,OAAO,CAAC,EAAEuC,KAAK,CAACkB,UAAU,IAAI8C,UAAU,CAACrD,KAAK,CAAC;IACnD,CAAC,CAAC;IACF;IACA/C,KAAK,CAACmL,aAAa,EAAG9G,IAAI,IAAK;MAC3B,IAAI,CAACA,IAAI,EACL;MACJ,IAAIjC,KAAK,CAACgB,QAAQ,EACd;MACJ,MAAM;QAAEL;MAAM,CAAC,GAAGmD,cAAc;MAChC,IAAI,CAACpD,KAAK,CAACiF,OAAO,CAAChF,KAAK,CAAC,IAAIA,KAAK,KAAK,IAAI,EAAE;QACzC6D,cAAc,CAAC7D,KAAK,GAAGA,KAAK;QAC5B8D,WAAW,CAAC9D,KAAK,GAAGA,KAAK;QACzB,KAAK3C,QAAQ,CAAC,MAAM;UAChB,IAAIgK,EAAE;UACN,IAAI,CAACe,aAAa,CAACpI,KAAK,EACpB;UACJ,MAAM;YAAEA,KAAK,EAAEuI;UAAS,CAAC,GAAGzE,WAAW;UACvC,IAAIX,cAAc,CAACnD,KAAK,KAAK,IAAI,EAAE;YAC/B,MAAM4E,IAAI,GAAGF,WAAW,CAAC1E,KAAK,CAACuH,OAAO,CAACgB,QAAQ,CAAC;YAChD,IAAI3D,IAAI,EAAE;cACN,CAACyC,EAAE,GAAG3D,mBAAmB,CAAC1D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmB,MAAM,CAAC5D,IAAI,CAAC6D,KAAK,EAAE7D,IAAI,CAAC8D,KAAK,EAAE/K,IAAI,CAAC0I,eAAe,CAACrG,KAAK,CAAC,CAAC;YACxI;UACJ;QACJ,CAAC,CAAC;MACN,CAAC,MACI;QACD6D,cAAc,CAAC7D,KAAK,GAAG,IAAI;QAC3B8D,WAAW,CAAC9D,KAAK,GAAG,IAAI;MAC5B;IACJ,CAAC,EAAE;MACC2I,SAAS,EAAE;IACf,CAAC,CAAC;IACF;IACA,SAASC,MAAM,CAACC,CAAC,EAAE;MACf,MAAM;QAAE1G;MAAO,CAAC,GAAG9C,KAAK;MACxB,MAAM;QAAEyJ;MAAiB,CAAC,GAAGxF,QAAQ;MACrC,IAAInB,MAAM,EACN5D,IAAI,CAAC4D,MAAM,EAAE0G,CAAC,CAAC;MACnBC,gBAAgB,EAAE;IACtB;IACA,SAASC,OAAO,CAACF,CAAC,EAAE;MAChB,MAAM;QAAEzG;MAAQ,CAAC,GAAG/C,KAAK;MACzB,MAAM;QAAE2J;MAAkB,CAAC,GAAG1F,QAAQ;MACtC,IAAIlB,OAAO,EACP7D,IAAI,CAAC6D,OAAO,EAAEyG,CAAC,CAAC;MACpBG,iBAAiB,EAAE;IACvB;IACA,SAAStB,mBAAmB,GAAG;MAC3B,IAAIL,EAAE;MACN,CAACA,EAAE,GAAGzD,cAAc,CAAC5D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4B,UAAU,EAAE;IACpF;IACA,SAASC,cAAc,GAAG;MACtB,IAAI7B,EAAE;MACN,CAACA,EAAE,GAAGzD,cAAc,CAAC5D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC8B,KAAK,EAAE;IAC/E;IACA,SAASC,QAAQ,GAAG;MAChB,IAAI,CAAC5F,iBAAiB,CAACxD,KAAK,EAAE;QAC1BqD,UAAU,CAACrD,KAAK,GAAG,EAAE;QACrByG,YAAY,CAAC,IAAI,CAAC;QAClB,IAAIpH,KAAK,CAACkB,UAAU,EAAE;UAClBmH,mBAAmB,EAAE;QACzB;MACJ;IACJ;IACA,SAAS2B,SAAS,CAACC,WAAW,GAAG,KAAK,EAAE;MACpC,IAAIA,WAAW,EAAE;QACbJ,cAAc,EAAE;MACpB;MACAzC,YAAY,CAAC,KAAK,CAAC;MACnBpD,UAAU,CAACrD,KAAK,GAAG,EAAE;IACzB;IACA,SAASuJ,8BAA8B,CAACV,CAAC,EAAE;MACvC,IAAIxB,EAAE;MACN,IAAIiB,iBAAiB,CAACtI,KAAK,EACvB;MACJ,IAAIoI,aAAa,CAACpI,KAAK,EAAE;QACrB,IAAI,EAAE,CAACqH,EAAE,GAAGzD,cAAc,CAAC5D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,GAAG,CAACC,QAAQ,CAAC3L,qBAAqB,CAAC+K,CAAC,CAAC,CAAC,CAAC,EAAE;UAC/GQ,SAAS,EAAE;QACf;MACJ;IACJ;IACA,SAASK,4BAA4B,CAACb,CAAC,EAAE;MACrC,IAAI,CAACP,iBAAiB,CAACtI,KAAK,EACxB;MACJuJ,8BAA8B,CAACV,CAAC,CAAC;IACrC;IACA,SAASc,YAAY,GAAG;MACpB,IAAItK,KAAK,CAACuB,sBAAsB,EAC5ByC,UAAU,CAACrD,KAAK,GAAG,EAAE;IAC7B;IACA;IACA,SAAS4J,IAAI,CAACC,SAAS,EAAE;MACrB,IAAIxC,EAAE,EAAEyC,EAAE,EAAEC,EAAE;MACd,MAAM;QAAE/J,KAAK,EAAEgK;MAAY,CAAC,GAAGnG,cAAc;MAC7C,MAAM;QAAE7D,KAAK,EAAEiK;MAAS,CAAC,GAAGvF,WAAW;MACvC,QAAQmF,SAAS;QACb,KAAK,MAAM;UACP,IAAIG,WAAW,KAAK,IAAI,EAAE;YACtB,MAAMpF,IAAI,GAAGqF,QAAQ,CAACC,OAAO,CAACF,WAAW,EAAE;cAAEG,IAAI,EAAE;YAAK,CAAC,CAAC;YAC1D,IAAIvF,IAAI,KAAK,IAAI,EAAE;cACfsC,iBAAiB,CAACtC,IAAI,CAACN,GAAG,CAAC;cAC3B,CAAC+C,EAAE,GAAG3D,mBAAmB,CAAC1D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmB,MAAM,CAAC5D,IAAI,CAAC6D,KAAK,EAAE7D,IAAI,CAAC8D,KAAK,EAAE/K,IAAI,CAAC0I,eAAe,CAACrG,KAAK,CAAC,CAAC;YACxI;UACJ;UACA;QACJ,KAAK,MAAM;UACP,IAAIgK,WAAW,KAAK,IAAI,EAAE;YACtB,MAAMpF,IAAI,GAAGqF,QAAQ,CAACG,qBAAqB,EAAE;YAC7C,IAAIxF,IAAI,KAAK,IAAI,EAAE;cACfsC,iBAAiB,CAACtC,IAAI,CAACN,GAAG,CAAC;cAC3B,CAACwF,EAAE,GAAGpG,mBAAmB,CAAC1D,KAAK,MAAM,IAAI,IAAI8J,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACtB,MAAM,CAAC5D,IAAI,CAAC6D,KAAK,EAAE7D,IAAI,CAAC8D,KAAK,EAAE/K,IAAI,CAAC0I,eAAe,CAACrG,KAAK,CAAC,CAAC;YACxI;UACJ,CAAC,MACI;YACD,MAAM4E,IAAI,GAAGqF,QAAQ,CAACI,OAAO,CAACL,WAAW,EAAE;cAAEG,IAAI,EAAE;YAAK,CAAC,CAAC;YAC1D,IAAIvF,IAAI,KAAK,IAAI,EAAE;cACfsC,iBAAiB,CAACtC,IAAI,CAACN,GAAG,CAAC;cAC3B,CAACyF,EAAE,GAAGrG,mBAAmB,CAAC1D,KAAK,MAAM,IAAI,IAAI+J,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACvB,MAAM,CAAC5D,IAAI,CAAC6D,KAAK,EAAE7D,IAAI,CAAC8D,KAAK,EAAE/K,IAAI,CAAC0I,eAAe,CAACrG,KAAK,CAAC,CAAC;YACxI;UACJ;UACA;QACJ,KAAK,OAAO;UACR,IAAIgK,WAAW,KAAK,IAAI,EAAE;YACtB,MAAMM,WAAW,GAAGL,QAAQ,CAAC1C,OAAO,CAACyC,WAAW,CAAC;YACjD,IAAIM,WAAW,KAAK,IAAI,EAAE;cACtB,IAAIA,WAAW,CAACC,aAAa,EAAE;gBAC3B,MAAM3F,IAAI,GAAGqF,QAAQ,CAACO,QAAQ,CAACR,WAAW,CAAC;gBAC3C,IAAIpF,IAAI,KAAK,IAAI,EAAE;kBACfuC,cAAc,CAAC6C,WAAW,CAAC;kBAC3B9C,iBAAiB,CAACtC,IAAI,CAACN,GAAG,CAAC;gBAC/B;cACJ,CAAC,MACI;gBACD,MAAM;kBAAEtE,KAAK,EAAEyK;gBAAc,CAAC,GAAG1G,gBAAgB;gBACjD,IAAI,CAAC0G,aAAa,CAACzE,GAAG,CAACgE,WAAW,CAAC,EAAE;kBACjC3F,aAAa,CAAC2F,WAAW,CAAC;kBAC1B7C,cAAc,CAAC6C,WAAW,CAAC;kBAC3B,MAAM;oBAAElJ;kBAAO,CAAC,GAAGzB,KAAK;kBACxB,IAAIyB,MAAM,EAAE;oBACRA,MAAM,CAACwJ,WAAW,CAAC7C,OAAO,CAAC,CACtBiD,IAAI,CAAC,MAAM;sBACZlG,gBAAgB,CAACwF,WAAW,CAAC;oBACjC,CAAC,CAAC,CACGW,KAAK,CAAC,MAAM;sBACbnG,gBAAgB,CAACwF,WAAW,CAAC;oBACjC,CAAC,CAAC;kBACN;gBACJ;cACJ;YACJ;UACJ;UACA;QACJ,KAAK,QAAQ;UACT,IAAIA,WAAW,KAAK,IAAI,EAAE;YACtB,MAAMpF,IAAI,GAAGqF,QAAQ,CAACW,SAAS,CAACZ,WAAW,CAAC;YAC5C,IAAIpF,IAAI,KAAK,IAAI,EAAE;cACfsC,iBAAiB,CAACtC,IAAI,CAACN,GAAG,CAAC;cAC3B,MAAMuG,UAAU,GAAGjG,IAAI,CAACgG,SAAS,EAAE;cACnC,IAAIC,UAAU,KAAK,IAAI,EAAE;gBACrB1D,cAAc,CAAC,IAAI,CAAC;cACxB,CAAC,MACI;gBACDA,cAAc,CAAC0D,UAAU,CAACvG,GAAG,CAAC;cAClC;YACJ;UACJ;UACA;MAAM;IAElB;IACA,SAASwG,aAAa,CAACjC,CAAC,EAAE;MACtB,IAAIxB,EAAE,EAAEyC,EAAE;MACV,QAAQjB,CAAC,CAACvE,GAAG;QACT,KAAK,GAAG;QACR,KAAK,WAAW;QAChB,KAAK,SAAS;UACV,IAAIjF,KAAK,CAACkB,UAAU,IAAI6H,aAAa,CAACpI,KAAK,EAAE;YACzC;UACJ;UACA6I,CAAC,CAACkC,cAAc,EAAE;UAClB;MAAM;MAEd,IAAIlN,SAAS,CAACgL,CAAC,EAAE,QAAQ,CAAC,EACtB;MACJ,QAAQA,CAAC,CAACvE,GAAG;QACT,KAAK,GAAG;UACJ,IAAIjF,KAAK,CAACkB,UAAU,EAChB;QACR;QACA,KAAK,OAAO;UACR,IAAI,CAAC6H,aAAa,CAACpI,KAAK,EAAE;YACtBoJ,QAAQ,EAAE;UACd,CAAC,MACI;YACD,MAAM;cAAEpJ,KAAK,EAAEgL;YAAe,CAAC,GAAG1C,iBAAiB;YACnD,MAAM;cAAEtI,KAAK,EAAEgK;YAAY,CAAC,GAAGnG,cAAc;YAC7C,IAAI,CAACmH,cAAc,EAAE;cACjB,IAAIhB,WAAW,KAAK,IAAI,EAAE;gBACtB,IAAI3E,cAAc,CAACrF,KAAK,CAACiL,QAAQ,CAACjB,WAAW,CAAC,IAC1C1E,oBAAoB,CAACtF,KAAK,CAACiL,QAAQ,CAACjB,WAAW,CAAC,EAAE;kBAClDlC,SAAS,CAACkC,WAAW,CAAC;gBAC1B,CAAC,MACI;kBACD,MAAMkB,YAAY,GAAG9D,OAAO,CAAC4C,WAAW,CAAC;kBACzC,IAAI,CAAC3K,KAAK,CAACgB,QAAQ,IAAI6K,YAAY,EAAE;oBACjC7B,SAAS,CAAC,IAAI,CAAC;kBACnB;gBACJ;cACJ;YACJ,CAAC,MACI;cACD,IAAI1F,iBAAiB,CAAC3D,KAAK,EAAE;gBACzB,MAAMmL,sBAAsB,GAAGxH,iBAAiB,CAAC3D,KAAK,CAACoL,KAAK,EAAE;gBAC9D,IAAID,sBAAsB,EACtBxB,YAAY,EAAE;cACtB;YACJ;UACJ;UACA;QACJ,KAAK,SAAS;UACVd,CAAC,CAACkC,cAAc,EAAE;UAClB,IAAI3C,aAAa,CAACpI,KAAK,EAAE;YACrB,IAAIsI,iBAAiB,CAACtI,KAAK,EAAE;cACzB,CAACqH,EAAE,GAAG1D,iBAAiB,CAAC3D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgE,IAAI,EAAE;YACjF,CAAC,MACI;cACDzB,IAAI,CAAC,MAAM,CAAC;YAChB;UACJ;UACA;QACJ,KAAK,WAAW;UACZf,CAAC,CAACkC,cAAc,EAAE;UAClB,IAAI3C,aAAa,CAACpI,KAAK,EAAE;YACrB,IAAIsI,iBAAiB,CAACtI,KAAK,EAAE;cACzB,CAAC8J,EAAE,GAAGnG,iBAAiB,CAAC3D,KAAK,MAAM,IAAI,IAAI8J,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwB,IAAI,EAAE;YACjF,CAAC,MACI;cACD1B,IAAI,CAAC,MAAM,CAAC;YAChB;UACJ,CAAC,MACI;YACDR,QAAQ,EAAE;UACd;UACA;QACJ,KAAK,WAAW;UACZP,CAAC,CAACkC,cAAc,EAAE;UAClB,IAAI3C,aAAa,CAACpI,KAAK,IAAI,CAACsI,iBAAiB,CAACtI,KAAK,EAAE;YACjD4J,IAAI,CAAC,QAAQ,CAAC;UAClB;UACA;QACJ,KAAK,YAAY;UACbf,CAAC,CAACkC,cAAc,EAAE;UAClB,IAAI3C,aAAa,CAACpI,KAAK,IAAI,CAACsI,iBAAiB,CAACtI,KAAK,EAAE;YACjD4J,IAAI,CAAC,OAAO,CAAC;UACjB;UACA;QACJ,KAAK,QAAQ;UACT,IAAIxB,aAAa,CAACpI,KAAK,EAAE;YACrBxB,wBAAwB,CAACqK,CAAC,CAAC;YAC3BQ,SAAS,CAAC,IAAI,CAAC;UACnB;MAAC;IAEb;IACA,SAASkC,iBAAiB,CAAC1C,CAAC,EAAE;MAC1BiC,aAAa,CAACjC,CAAC,CAAC;IACpB;IACA;IACA,SAAS2C,WAAW,CAAC3C,CAAC,EAAE;MACpBA,CAAC,CAAC4C,eAAe,EAAE;MACnB,IAAIpM,KAAK,CAACgB,QAAQ,EAAE;QAChBuG,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;MAC7B,CAAC,MACI;QACDA,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;MACnC;IACJ;IACA,SAAS8E,kBAAkB,CAAC7C,CAAC,EAAE;MAC3B,IAAIxB,EAAE;MACN,IAAI,EAAE,CAACA,EAAE,GAAG3D,mBAAmB,CAAC1D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,GAAG,CAACC,QAAQ,CAACZ,CAAC,CAAC8C,aAAa,CAAC,CAAC,EAAE;QAC3GvH,UAAU,CAACpE,KAAK,GAAG,IAAI;QACvB+I,OAAO,CAACF,CAAC,CAAC;MACd;IACJ;IACA,SAAS+C,iBAAiB,CAAC/C,CAAC,EAAE;MAC1B,IAAIxB,EAAE;MACN,IAAI,EAAE,CAACA,EAAE,GAAG3D,mBAAmB,CAAC1D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,GAAG,CAACC,QAAQ,CAACZ,CAAC,CAAC8C,aAAa,CAAC,CAAC,EAAE;QAC3GvH,UAAU,CAACpE,KAAK,GAAG,KAAK;QACxB4I,MAAM,CAACC,CAAC,CAAC;QACTQ,SAAS,EAAE;MACf;IACJ;IACA,SAASwC,eAAe,CAAChD,CAAC,EAAE;MACxB,IAAIxB,EAAE;MACN,IAAI,EAAE,CAACA,EAAE,GAAGzD,cAAc,CAAC5D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,GAAG,CAACC,QAAQ,CAACZ,CAAC,CAAC8C,aAAa,CAAC,CAAC,EAAE;QACtGvH,UAAU,CAACpE,KAAK,GAAG,IAAI;QACvB+I,OAAO,CAACF,CAAC,CAAC;MACd;IACJ;IACA,SAASiD,cAAc,CAACjD,CAAC,EAAE;MACvB,IAAIxB,EAAE;MACN,IAAI,EAAE,CAACA,EAAE,GAAGzD,cAAc,CAAC5D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,GAAG,CAACC,QAAQ,CAACZ,CAAC,CAAC8C,aAAa,CAAC,CAAC,EAAE;QACtGvH,UAAU,CAACpE,KAAK,GAAG,KAAK;QACxB4I,MAAM,CAACC,CAAC,CAAC;MACb;IACJ;IACA,SAASkD,mBAAmB,CAAClD,CAAC,EAAE;MAC5B,IAAI,CAAChL,SAAS,CAACgL,CAAC,EAAE,QAAQ,CAAC,EAAE;QACzB,IAAIxJ,KAAK,CAACgB,QAAQ,IAAIhB,KAAK,CAAC4B,MAAM,EAAE;UAChC4H,CAAC,CAACkC,cAAc,EAAE;UAClBrD,mBAAmB,EAAE;QACzB;MACJ;IACJ;IACA,SAASsE,gBAAgB,GAAG;MACxB3C,SAAS,CAAC,IAAI,CAAC;IACnB;IACA,SAAS4C,kBAAkB,GAAG;MAC1B,IAAI5M,KAAK,CAACkB,UAAU,EAAE;QAClB6I,QAAQ,EAAE;MACd,CAAC,MACI;QACD,IAAIhB,aAAa,CAACpI,KAAK,EAAE;UACrBqJ,SAAS,CAAC,IAAI,CAAC;QACnB,CAAC,MACI;UACDD,QAAQ,EAAE;QACd;MACJ;IACJ;IACA,SAAS8C,kBAAkB,CAACrD,CAAC,EAAE;MAC3BxF,UAAU,CAACrD,KAAK,GAAG6I,CAAC,CAACsD,MAAM,CAACnM,KAAK;IACrC;IACA,SAASoM,kBAAkB,CAACvF,MAAM,EAAE;MAChC,MAAM;QAAExG;MAAS,CAAC,GAAGhB,KAAK;MAC1B,MAAM;QAAEW,KAAK,EAAEqM;MAAY,CAAC,GAAGlJ,cAAc;MAC7C,IAAI9C,QAAQ,IACRN,KAAK,CAACiF,OAAO,CAACqH,WAAW,CAAC,IAC1BxF,MAAM,CAAC7G,KAAK,KAAKH,SAAS,EAAE;QAC5BiI,SAAS,CAACjB,MAAM,CAAC7G,KAAK,CAAC;MAC3B,CAAC,MACI;QACD4G,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;MACnC;IACJ;IACA;IACA,SAAS0F,sBAAsB,GAAG;MAC9B,IAAIjF,EAAE;MACN,CAACA,EAAE,GAAGpD,qBAAqB,CAACjE,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkF,YAAY,EAAE;IAC7F;IACA,SAASC,wBAAwB,GAAG;MAChC,IAAInF,EAAE;MACN,CAACA,EAAE,GAAGnD,uBAAuB,CAAClE,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkF,YAAY,EAAE;IAC/F;IACA,SAASE,mBAAmB,GAAG;MAC3B,IAAIrE,aAAa,CAACpI,KAAK,EAAE;QACrB,IAAIsI,iBAAiB,CAACtI,KAAK,EAAE;UACzBsM,sBAAsB,EAAE;QAC5B,CAAC,MACI;UACDE,wBAAwB,EAAE;QAC9B;MACJ;IACJ;IACAzP,OAAO,CAACiC,oBAAoB,EAAE;MAC1B4D,kBAAkB;MAClB8J,cAAc,EAAE3J,QAAQ;MACxBI,cAAc;MACdkC,cAAc;MACdC,oBAAoB;MACpBa,eAAe;MACf/C,sBAAsB;MACtBuJ,UAAU,EAAEzP,KAAK,CAACmC,KAAK,EAAE,SAAS,CAAC;MACnCuN,WAAW,EAAE1P,KAAK,CAACmC,KAAK,EAAE,UAAU,CAAC;MACrCwE,cAAc;MACdC,WAAW;MACX+I,SAAS,EAAE3P,KAAK,CAACmC,KAAK,EAAE,QAAQ,CAAC;MACjC0E,gBAAgB;MAChB+I,gBAAgB,EAAE5P,KAAK,CAACmC,KAAK,EAAE,eAAe,CAAC;MAC/C0N,YAAY,EAAEhP,YAAY,EAAE;MAC5BiP,SAAS,EAAE9P,KAAK,CAACmC,KAAK,EAAE,QAAQ,CAAC;MACjC4N,gBAAgB,EAAE/P,KAAK,CAACmC,KAAK,EAAE,eAAe,CAAC;MAC/CgH,eAAe;MACfrD,SAAS;MACTkK,aAAa,EAAEhQ,KAAK,CAACmC,KAAK,EAAE,YAAY,CAAC;MACzC8N,cAAc,EAAEjQ,KAAK,CAACmC,KAAK,EAAE,aAAa,CAAC;MAC3CmN,wBAAwB;MACxBF,sBAAsB;MACtBpF,iBAAiB;MACjBC,cAAc;MACd9C,aAAa;MACbG,gBAAgB;MAChB4C,OAAO;MACPU,SAAS;MACTuB,SAAS;MACTK,4BAA4B;MAC5BH,8BAA8B;MAC9BI;IACJ,CAAC,CAAC;IACF,MAAMyD,cAAc,GAAG;MACnBjE,KAAK,EAAE,MAAM;QACT,IAAI9B,EAAE;QACN,CAACA,EAAE,GAAGzD,cAAc,CAAC5D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC8B,KAAK,EAAE;MAC/E,CAAC;MACDkE,IAAI,EAAE,MAAM;QACR,IAAIhG,EAAE;QACN,CAACA,EAAE,GAAGzD,cAAc,CAAC5D,KAAK,MAAM,IAAI,IAAIqH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgG,IAAI,EAAE;MAC9E;IACJ,CAAC;IACD,MAAMC,UAAU,GAAGxQ,QAAQ,CAAC,MAAM;MAC9B,MAAM;QAAEwJ,IAAI,EAAE;UAAEiH,gBAAgB;UAAEC,eAAe;UAAEC,qBAAqB;UAAEC,uBAAuB;UAAEC,oBAAoB;UAAEC,SAAS;UAAEC,aAAa;UAAEC,gBAAgB;UAAEC,gBAAgB;UAAEC,UAAU;UAAEC,gBAAgB;UAAE1H,YAAY;UAAE2H,cAAc;UAAEC,YAAY;UAAEC;QAAY,CAAC;QAAEC,MAAM,EAAE;UAAEC;QAAqB;MAAE,CAAC,GAAGvL,QAAQ,CAAC/C,KAAK;MACnU,OAAO;QACH,YAAY,EAAEsO,oBAAoB;QAClC,wBAAwB,EAAEP,gBAAgB;QAC1C,qBAAqB,EAAEF,aAAa;QACpC,iBAAiB,EAAEG,UAAU;QAC7B,kBAAkB,EAAEI,WAAW;QAC/B,gBAAgB,EAAER,SAAS;QAC3B,wBAAwB,EAAEE,gBAAgB;QAC1C,mBAAmB,EAAEvH,YAAY;QACjC,sBAAsB,EAAE2H,cAAc;QACtC,uBAAuB,EAAEV,eAAe;QACxC,gCAAgC,EAAEE,uBAAuB;QACzD,8BAA8B,EAAED,qBAAqB;QACrD,wBAAwB,EAAEQ,gBAAgB;QAC1C,6BAA6B,EAAEN,oBAAoB;QACnD,wBAAwB,EAAEJ,gBAAgB;QAC1C,qBAAqB,EAAE3P,WAAW,CAACgQ,SAAS,EAAE;UAAEW,KAAK,EAAE;QAAK,CAAC,CAAC;QAC9D,mBAAmB,EAAEJ;MACzB,CAAC;IACL,CAAC,CAAC;IACF,MAAMK,gBAAgB,GAAG1L,mBAAmB,GACtCxE,aAAa,CAAC,UAAU,EAAEuB,SAAS,EAAEyN,UAAU,EAAEjO,KAAK,CAAC,GACvDQ,SAAS;IACf,OAAOV,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEgO,cAAc,CAAC,EAAE;MAAEX,mBAAmB;MAAEgC,YAAY,EAAEhL,eAAe;MAAEQ,qBAAqB;MAC/HC,uBAAuB;MACvBN,cAAc;MACdD,iBAAiB;MACjBD,mBAAmB;MAAEgL,cAAc,EAAE/L,iBAAiB;MAAEgM,eAAe,EAAE/L,kBAAkB;MAAEgM,SAAS,EAAE/L,YAAY;MAAEwJ,WAAW,EAAElJ,cAAc;MAAE0L,UAAU,EAAEzG,aAAa;MAAE4C,cAAc,EAAE1C,iBAAiB;MAAEwG,OAAO,EAAEzL,UAAU;MAAE4G,QAAQ,EAAEvF,WAAW;MAAEqK,UAAU,EAAExL,aAAa;MAAEyL,cAAc,EAAExL,iBAAiB;MAAEyL,oBAAoB,EAAE5G,uBAAuB;MAAE6G,cAAc,EAAEhH,iBAAiB;MAAEiH,eAAe,EAAEnH,kBAAkB;MAAEoH,UAAU,EAAEjL,aAAa;MAAEkL,SAAS,EAAE9J,YAAY;MAAEyG,gBAAgB;MACtfH,eAAe;MACfC,cAAc;MACdP,iBAAiB;MACjBQ,mBAAmB;MACnBL,kBAAkB;MAClBE,iBAAiB;MACjBK,kBAAkB;MAClBT,WAAW;MACXY,kBAAkB;MAClBF,kBAAkB;MAClBpB,aAAa;MAAEwE,OAAO,EAAElL,UAAU;MAAEmC,YAAY,EAAEF,eAAe;MAAEkJ,WAAW,EAAExM,QAAQ;MAAEyM,OAAO,EAAE1M,mBAAmB,GAAGjD,SAAS,GAAGyN,UAAU;MAAEmC,UAAU,EAAEjB,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACiB,UAAU;MAAEC,QAAQ,EAAElB,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACkB;IAAS,CAAC,CAAC;EAChX,CAAC;EACDC,MAAM,GAAG;IACL,MAAM;MAAEhB;IAAgB,CAAC,GAAG,IAAI;IAChC,OAAQ/R,CAAC,CAAC,KAAK,EAAE;MAAEgT,KAAK,EAAG,GAAEjB,eAAgB;IAAW,CAAC,EACrD/R,CAAC,CAACY,OAAO,EAAE,IAAI,EAAE;MACboC,OAAO,EAAE,MAAM,CACXhD,CAAC,CAACa,OAAO,EAAE,IAAI,EAAE;QACbmC,OAAO,EAAE,MAAOhD,CAAC,CAACqB,kBAAkB,EAAE;UAAE4R,QAAQ,EAAE,IAAI,CAACpD,mBAAmB;UAAEzP,GAAG,EAAE,gBAAgB;UAAEgF,MAAM,EAAE,IAAI,CAACyM,YAAY;UAAEqB,SAAS,EAAEnB,eAAe;UAAEpN,WAAW,EAAE,IAAI,CAACA,WAAW;UAAE7B,QAAQ,EAAE,IAAI,CAACgP,cAAc;UAAEpO,IAAI,EAAE,IAAI,CAACyO,UAAU;UAAEgB,KAAK,EAAE,IAAI,CAACR,WAAW,CAACS,KAAK,CAACC,iBAAiB;UAAEC,cAAc,EAAE,IAAI,CAACX,WAAW,CAACY,aAAa,CAACF,iBAAiB;UAAEG,MAAM,EAAE,IAAI,CAACvB,UAAU;UAAEC,OAAO,EAAE,IAAI,CAACA,OAAO;UAAE1O,WAAW,EAAE,IAAI,CAAC6O,oBAAoB;UAAEC,cAAc,EAAE,IAAI,CAACA,cAAc;UAAEC,eAAe,EAAE,IAAI,CAACA,eAAe;UAAE9O,QAAQ,EAAE,IAAI,CAACA,QAAQ;UAAEE,UAAU,EAAE,IAAI,CAACA,UAAU;UAAEI,SAAS,EAAE,IAAI,CAACA,SAAS;UAAEH,QAAQ,EAAE,IAAI,CAACwO,cAAc;UAAEM,OAAO,EAAE,IAAI,CAACA,OAAO;UAAElN,OAAO,EAAE,IAAI,CAACsJ,kBAAkB;UAAEvJ,MAAM,EAAE,IAAI,CAACyJ,iBAAiB;UAAEyE,OAAO,EAAE,IAAI,CAACpE,kBAAkB;UAAEqE,OAAO,EAAE,IAAI,CAAC9E,WAAW;UAAE+E,cAAc,EAAE,IAAI,CAACnE,kBAAkB;UAAEoE,cAAc,EAAE,IAAI,CAACtE,kBAAkB;UAAEuE,SAAS,EAAE,IAAI,CAAC3F;QAAc,CAAC,EAAE;UAC33B4F,KAAK,EAAE,MAAM;YAAE,IAAIrJ,EAAE,EAAEyC,EAAE;YAAE,OAAO,CAACA,EAAE,GAAG,CAACzC,EAAE,GAAG,IAAI,CAACsJ,MAAM,EAAED,KAAK,MAAM,IAAI,IAAI5G,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACvL,IAAI,CAAC8I,EAAE,CAAC;UAAE;QACxH,CAAC;MACL,CAAC,CAAC,EACFzK,CAAC,CAACc,SAAS,EAAE;QAAE4G,GAAG,EAAE,cAAc;QAAEtH,GAAG,EAAE,yBAAyB;QAAEsE,IAAI,EAAE,IAAI,CAACuN,UAAU,IAAI,CAAC,IAAI,CAAC7D,cAAc;QAAE4F,cAAc,EAAE,IAAI,CAAChC,SAAS;QAAE1N,SAAS,EAAE,IAAI,CAACA,SAAS;QAAE2P,KAAK,EAAE,CAAC,IAAI,CAAC/Q,OAAO,CAACgR,MAAM,GAAG,QAAQ,GAAGjR,SAAS;QAAEkR,gBAAgB,EAAE,IAAI,CAAC3B,UAAU,KAAK3Q,aAAa,CAACuS,KAAK;QAAExR,EAAE,EAAE,IAAI,CAAC4P;MAAW,CAAC,EAAE;QAChTxP,OAAO,EAAE,MAAM;UACX,IAAIyH,EAAE;UACN,CAACA,EAAE,GAAG,IAAI,CAACqI,QAAQ,MAAM,IAAI,IAAIrI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC9I,IAAI,CAAC,IAAI,CAAC;UACvE,MAAM;YAAEiD;UAAU,CAAC,GAAG,IAAI;UAC1B,OAAQ5E,CAAC,CAACkC,YAAY,EAAEK,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEoC,SAAS,EAAE;YAAExE,GAAG,EAAE,qBAAqB;YAAE4S,KAAK,EAAE,CAAC,IAAI,CAACH,UAAU,EAAEjO,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACoO,KAAK,CAAC;YAAE5P,KAAK,EAAE,IAAI,CAACqM,WAAW;YAAE/K,IAAI,EAAE,IAAI,CAACuN,UAAU,IAAI,CAAC,IAAI,CAAC7D,cAAc;YAAEqE,SAAS,EAAE,IAAI,CAACA,SAAS;YAAEpQ,KAAK,EAAE,CACtR,IAAI,CAACuQ,OAAO,EACZhO,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACvC,KAAK,CACxE;YAAEmD,OAAO,EAAE,IAAI,CAACyJ,eAAe;YAAE1J,MAAM,EAAE,IAAI,CAAC2J,cAAc;YAAE2E,SAAS,EAAE,IAAI,CAAClF,iBAAiB;YAAE0F,WAAW,EAAE,IAAI,CAAClF,mBAAmB;YAAEmF,QAAQ,EAAE,IAAI,CAAClF;UAAiB,CAAC,CAAC,EAAE;YAC7KmF,MAAM,EAAE,MAAM;cAAE,IAAI9J,EAAE,EAAEyC,EAAE;cAAE,OAAO,CAACA,EAAE,GAAG,CAACzC,EAAE,GAAG,IAAI,CAACsJ,MAAM,EAAEQ,MAAM,MAAM,IAAI,IAAIrH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACvL,IAAI,CAAC8I,EAAE,CAAC;YAAE,CAAC;YACvH+J,KAAK,EAAE,MAAM;cAAE,IAAI/J,EAAE,EAAEyC,EAAE;cAAE,OAAO,CAACA,EAAE,GAAG,CAACzC,EAAE,GAAG,IAAI,CAACsJ,MAAM,EAAES,KAAK,MAAM,IAAI,IAAItH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACvL,IAAI,CAAC8I,EAAE,CAAC;YAAE;UACxH,CAAC,CAAC;QACN;MACJ,CAAC,CAAC,EACFzK,CAAC,CAACc,SAAS,EAAE;QAAE4G,GAAG,EAAE,YAAY;QAAEtH,GAAG,EAAE,uBAAuB;QAAEsE,IAAI,EAAE,IAAI,CAACuN,UAAU,IAAI,IAAI,CAAC7D,cAAc;QAAE4F,cAAc,EAAE,IAAI,CAAChC,SAAS;QAAEiC,KAAK,EAAE,QAAQ;QAAE3P,SAAS,EAAE,IAAI,CAACA,SAAS;QAAE1B,EAAE,EAAE,IAAI,CAAC4P,UAAU;QAAE2B,gBAAgB,EAAE,IAAI,CAAC3B,UAAU,KAAK3Q,aAAa,CAACuS;MAAM,CAAC,EAAE;QACxQpR,OAAO,EAAE,MAAM;UACX,IAAIyH,EAAE;UACN,CAACA,EAAE,GAAG,IAAI,CAACqI,QAAQ,MAAM,IAAI,IAAIrI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC9I,IAAI,CAAC,IAAI,CAAC;UACvE,MAAM;YAAEkD;UAAgB,CAAC,GAAG,IAAI;UAChC,OAAQ7E,CAAC,CAACmC,kBAAkB,EAAEI,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEqC,eAAe,EAAE;YAAEzE,GAAG,EAAE,mBAAmB;YAAE4S,KAAK,EAAE,CAAC,IAAI,CAACH,UAAU,EAAEhO,eAAe,KAAK,IAAI,IAAIA,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACmO,KAAK,CAAC;YAAE5P,KAAK,EAAE,IAAI,CAACqM,WAAW;YAAE/K,IAAI,EAAE,IAAI,CAACuN,UAAU,IAAI,IAAI,CAAC7D,cAAc;YAAE8D,OAAO,EAAE,IAAI,CAACA,OAAO;YAAEzO,QAAQ,EAAE,IAAI,CAACA,QAAQ;YAAEgR,OAAO,EAAE,IAAI,CAACpH,QAAQ,CAACrE,SAAS;YAAE3E,MAAM,EAAE,IAAI,CAACA,MAAM;YAAEY,UAAU,EAAE,IAAI,CAACA,UAAU;YAAEb,SAAS,EAAE,IAAI,CAACA,SAAS;YAAE/B,KAAK,EAAE,CACrb,IAAI,CAACuQ,OAAO,EACZ/N,eAAe,KAAK,IAAI,IAAIA,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACxC,KAAK;UACzF,CAAC,CAAC,CAAC;QACb;MACJ,CAAC,CAAC;IAEV,CAAC,CAAC,CAAC;EACX;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}