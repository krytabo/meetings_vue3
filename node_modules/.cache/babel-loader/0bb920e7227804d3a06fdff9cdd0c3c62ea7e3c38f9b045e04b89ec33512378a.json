{"ast":null,"code":"import { on, off } from 'evtd';\nconst ctxKey = '@@coContext';\nconst clickoutside = {\n  mounted(el, {\n    value,\n    modifiers\n  }) {\n    el[ctxKey] = {\n      handler: undefined\n    };\n    if (typeof value === 'function') {\n      el[ctxKey].handler = value;\n      on('clickoutside', el, value, {\n        capture: modifiers.capture\n      });\n    }\n  },\n  updated(el, {\n    value,\n    modifiers\n  }) {\n    const ctx = el[ctxKey];\n    if (typeof value === 'function') {\n      if (ctx.handler) {\n        if (ctx.handler !== value) {\n          off('clickoutside', el, ctx.handler, {\n            capture: modifiers.capture\n          });\n          ctx.handler = value;\n          on('clickoutside', el, value, {\n            capture: modifiers.capture\n          });\n        }\n      } else {\n        el[ctxKey].handler = value;\n        on('clickoutside', el, value, {\n          capture: modifiers.capture\n        });\n      }\n    } else {\n      if (ctx.handler) {\n        off('clickoutside', el, ctx.handler, {\n          capture: modifiers.capture\n        });\n        ctx.handler = undefined;\n      }\n    }\n  },\n  unmounted(el, {\n    modifiers\n  }) {\n    const {\n      handler\n    } = el[ctxKey];\n    if (handler) {\n      off('clickoutside', el, handler, {\n        capture: modifiers.capture\n      });\n    }\n    el[ctxKey].handler = undefined;\n  }\n};\nexport default clickoutside;","map":{"version":3,"names":["on","off","ctxKey","clickoutside","mounted","el","value","modifiers","handler","undefined","capture","updated","ctx","unmounted"],"sources":["/Users/elmo/GitHub/meetings_vue3/node_modules/vdirs/es/clickoutside.js"],"sourcesContent":["import { on, off } from 'evtd';\nconst ctxKey = '@@coContext';\nconst clickoutside = {\n    mounted(el, { value, modifiers }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('clickoutside', el, value, {\n                capture: modifiers.capture\n            });\n        }\n    },\n    updated(el, { value, modifiers }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('clickoutside', el, ctx.handler, {\n                        capture: modifiers.capture\n                    });\n                    ctx.handler = value;\n                    on('clickoutside', el, value, {\n                        capture: modifiers.capture\n                    });\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('clickoutside', el, value, {\n                    capture: modifiers.capture\n                });\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('clickoutside', el, ctx.handler, {\n                    capture: modifiers.capture\n                });\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el, { modifiers }) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('clickoutside', el, handler, {\n                capture: modifiers.capture\n            });\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default clickoutside;\n"],"mappings":"AAAA,SAASA,EAAE,EAAEC,GAAG,QAAQ,MAAM;AAC9B,MAAMC,MAAM,GAAG,aAAa;AAC5B,MAAMC,YAAY,GAAG;EACjBC,OAAO,CAACC,EAAE,EAAE;IAAEC,KAAK;IAAEC;EAAU,CAAC,EAAE;IAC9BF,EAAE,CAACH,MAAM,CAAC,GAAG;MACTM,OAAO,EAAEC;IACb,CAAC;IACD,IAAI,OAAOH,KAAK,KAAK,UAAU,EAAE;MAC7BD,EAAE,CAACH,MAAM,CAAC,CAACM,OAAO,GAAGF,KAAK;MAC1BN,EAAE,CAAC,cAAc,EAAEK,EAAE,EAAEC,KAAK,EAAE;QAC1BI,OAAO,EAAEH,SAAS,CAACG;MACvB,CAAC,CAAC;IACN;EACJ,CAAC;EACDC,OAAO,CAACN,EAAE,EAAE;IAAEC,KAAK;IAAEC;EAAU,CAAC,EAAE;IAC9B,MAAMK,GAAG,GAAGP,EAAE,CAACH,MAAM,CAAC;IACtB,IAAI,OAAOI,KAAK,KAAK,UAAU,EAAE;MAC7B,IAAIM,GAAG,CAACJ,OAAO,EAAE;QACb,IAAII,GAAG,CAACJ,OAAO,KAAKF,KAAK,EAAE;UACvBL,GAAG,CAAC,cAAc,EAAEI,EAAE,EAAEO,GAAG,CAACJ,OAAO,EAAE;YACjCE,OAAO,EAAEH,SAAS,CAACG;UACvB,CAAC,CAAC;UACFE,GAAG,CAACJ,OAAO,GAAGF,KAAK;UACnBN,EAAE,CAAC,cAAc,EAAEK,EAAE,EAAEC,KAAK,EAAE;YAC1BI,OAAO,EAAEH,SAAS,CAACG;UACvB,CAAC,CAAC;QACN;MACJ,CAAC,MACI;QACDL,EAAE,CAACH,MAAM,CAAC,CAACM,OAAO,GAAGF,KAAK;QAC1BN,EAAE,CAAC,cAAc,EAAEK,EAAE,EAAEC,KAAK,EAAE;UAC1BI,OAAO,EAAEH,SAAS,CAACG;QACvB,CAAC,CAAC;MACN;IACJ,CAAC,MACI;MACD,IAAIE,GAAG,CAACJ,OAAO,EAAE;QACbP,GAAG,CAAC,cAAc,EAAEI,EAAE,EAAEO,GAAG,CAACJ,OAAO,EAAE;UACjCE,OAAO,EAAEH,SAAS,CAACG;QACvB,CAAC,CAAC;QACFE,GAAG,CAACJ,OAAO,GAAGC,SAAS;MAC3B;IACJ;EACJ,CAAC;EACDI,SAAS,CAACR,EAAE,EAAE;IAAEE;EAAU,CAAC,EAAE;IACzB,MAAM;MAAEC;IAAQ,CAAC,GAAGH,EAAE,CAACH,MAAM,CAAC;IAC9B,IAAIM,OAAO,EAAE;MACTP,GAAG,CAAC,cAAc,EAAEI,EAAE,EAAEG,OAAO,EAAE;QAC7BE,OAAO,EAAEH,SAAS,CAACG;MACvB,CAAC,CAAC;IACN;IACAL,EAAE,CAACH,MAAM,CAAC,CAACM,OAAO,GAAGC,SAAS;EAClC;AACJ,CAAC;AACD,eAAeN,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}