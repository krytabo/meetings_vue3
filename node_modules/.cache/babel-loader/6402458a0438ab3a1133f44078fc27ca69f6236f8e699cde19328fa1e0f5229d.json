{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, Fragment, ref, computed, watch, toRef, nextTick, watchEffect, onMounted } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { NPopover } from '../../../popover';\nimport { NTag } from '../../../tag';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from '../../../_utils';\nimport Suffix from '../../suffix';\nimport { internalSelectionLight } from '../styles';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n  name: 'InternalSelection',\n  props: Object.assign(Object.assign({}, useTheme.props), {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    bordered: {\n      type: Boolean,\n      default: undefined\n    },\n    active: Boolean,\n    pattern: {\n      type: String,\n      default: ''\n    },\n    placeholder: String,\n    selectedOption: {\n      type: Object,\n      default: null\n    },\n    selectedOptions: {\n      type: Array,\n      default: null\n    },\n    labelField: {\n      type: String,\n      default: 'label'\n    },\n    valueField: {\n      type: String,\n      default: 'value'\n    },\n    multiple: Boolean,\n    filterable: Boolean,\n    clearable: Boolean,\n    disabled: Boolean,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    loading: Boolean,\n    autofocus: Boolean,\n    showArrow: {\n      type: Boolean,\n      default: true\n    },\n    inputProps: Object,\n    focused: Boolean,\n    renderTag: Function,\n    onKeydown: Function,\n    onClick: Function,\n    onBlur: Function,\n    onFocus: Function,\n    onDeleteOption: Function,\n    maxTagCount: [String, Number],\n    onClear: Function,\n    onPatternInput: Function,\n    onPatternFocus: Function,\n    onPatternBlur: Function,\n    renderLabel: Function,\n    status: String,\n    inlineThemeDisabled: Boolean,\n    ignoreComposition: {\n      type: Boolean,\n      default: true\n    },\n    onResize: Function\n  }),\n  setup(props) {\n    const patternInputMirrorRef = ref(null);\n    const patternInputRef = ref(null);\n    const selfRef = ref(null);\n    const multipleElRef = ref(null);\n    const singleElRef = ref(null);\n    const patternInputWrapperRef = ref(null);\n    const counterRef = ref(null);\n    const counterWrapperRef = ref(null);\n    const overflowRef = ref(null);\n    const inputTagElRef = ref(null);\n    const showTagsPopoverRef = ref(false);\n    const patternInputFocusedRef = ref(false);\n    const hoverRef = ref(false);\n    const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n    const mergedClearableRef = computed(() => {\n      return props.clearable && !props.disabled && (hoverRef.value || props.active);\n    });\n    const filterablePlaceholderRef = computed(() => {\n      return props.selectedOption ? props.renderTag ? props.renderTag({\n        option: props.selectedOption,\n        handleClose: () => {}\n      }) : props.renderLabel ? props.renderLabel(props.selectedOption, true) : render(props.selectedOption[props.labelField], props.selectedOption, true) : props.placeholder;\n    });\n    const labelRef = computed(() => {\n      const option = props.selectedOption;\n      if (!option) return undefined;\n      return option[props.labelField];\n    });\n    const selectedRef = computed(() => {\n      if (props.multiple) {\n        return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n      } else {\n        return props.selectedOption !== null;\n      }\n    });\n    function syncMirrorWidth() {\n      var _a;\n      const {\n        value: patternInputMirrorEl\n      } = patternInputMirrorRef;\n      if (patternInputMirrorEl) {\n        const {\n          value: patternInputEl\n        } = patternInputRef;\n        if (patternInputEl) {\n          patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n          if (props.maxTagCount !== 'responsive') {\n            (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n          }\n        }\n      }\n    }\n    function hideInputTag() {\n      const {\n        value: inputTagEl\n      } = inputTagElRef;\n      if (inputTagEl) inputTagEl.style.display = 'none';\n    }\n    function showInputTag() {\n      const {\n        value: inputTagEl\n      } = inputTagElRef;\n      if (inputTagEl) inputTagEl.style.display = 'inline-block';\n    }\n    watch(toRef(props, 'active'), value => {\n      if (!value) hideInputTag();\n    });\n    watch(toRef(props, 'pattern'), () => {\n      if (props.multiple) {\n        void nextTick(syncMirrorWidth);\n      }\n    });\n    function doFocus(e) {\n      const {\n        onFocus\n      } = props;\n      if (onFocus) onFocus(e);\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      if (onBlur) onBlur(e);\n    }\n    function doDeleteOption(value) {\n      const {\n        onDeleteOption\n      } = props;\n      if (onDeleteOption) onDeleteOption(value);\n    }\n    function doClear(e) {\n      const {\n        onClear\n      } = props;\n      if (onClear) onClear(e);\n    }\n    function doPatternInput(value) {\n      const {\n        onPatternInput\n      } = props;\n      if (onPatternInput) onPatternInput(value);\n    }\n    function handleFocusin(e) {\n      var _a;\n      if (!e.relatedTarget || !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n        doFocus(e);\n      }\n    }\n    function handleFocusout(e) {\n      var _a;\n      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget)) return;\n      doBlur(e);\n    }\n    function handleClear(e) {\n      doClear(e);\n    }\n    function handleMouseEnter() {\n      hoverRef.value = true;\n    }\n    function handleMouseLeave() {\n      hoverRef.value = false;\n    }\n    function handleMouseDown(e) {\n      if (!props.active || !props.filterable) return;\n      if (e.target === patternInputRef.value) return;\n      e.preventDefault();\n    }\n    function handleDeleteOption(option) {\n      doDeleteOption(option);\n    }\n    function handlePatternKeyDown(e) {\n      if (e.key === 'Backspace' && !isComposingRef.value) {\n        if (!props.pattern.length) {\n          const {\n            selectedOptions\n          } = props;\n          if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n            handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n          }\n        }\n      }\n    }\n    const isComposingRef = ref(false);\n    // the composition end is later than its input so we can cached the event\n    // and return the input event\n    let cachedInputEvent = null;\n    function handlePatternInputInput(e) {\n      // we should sync mirror width here\n      const {\n        value: patternInputMirrorEl\n      } = patternInputMirrorRef;\n      if (patternInputMirrorEl) {\n        const inputText = e.target.value;\n        patternInputMirrorEl.textContent = inputText;\n        syncMirrorWidth();\n      }\n      if (props.ignoreComposition) {\n        if (!isComposingRef.value) {\n          doPatternInput(e);\n        } else {\n          cachedInputEvent = e;\n        }\n      } else {\n        doPatternInput(e);\n      }\n    }\n    function handleCompositionStart() {\n      isComposingRef.value = true;\n    }\n    function handleCompositionEnd() {\n      isComposingRef.value = false;\n      if (props.ignoreComposition) {\n        doPatternInput(cachedInputEvent);\n      }\n      cachedInputEvent = null;\n    }\n    function handlePatternInputFocus(e) {\n      var _a;\n      patternInputFocusedRef.value = true;\n      (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handlePatternInputBlur(e) {\n      var _a;\n      patternInputFocusedRef.value = false;\n      (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function blur() {\n      var _a, _b;\n      if (props.filterable) {\n        patternInputFocusedRef.value = false;\n        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n        (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n      } else if (props.multiple) {\n        const {\n          value: multipleEl\n        } = multipleElRef;\n        multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n      } else {\n        const {\n          value: singleEl\n        } = singleElRef;\n        singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n      }\n    }\n    function focus() {\n      var _a, _b, _c;\n      if (props.filterable) {\n        patternInputFocusedRef.value = false;\n        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      } else if (props.multiple) {\n        (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n      } else {\n        (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n      }\n    }\n    function focusInput() {\n      const {\n        value: patternInputEl\n      } = patternInputRef;\n      if (patternInputEl) {\n        showInputTag();\n        patternInputEl.focus();\n      }\n    }\n    function blurInput() {\n      const {\n        value: patternInputEl\n      } = patternInputRef;\n      if (patternInputEl) {\n        patternInputEl.blur();\n      }\n    }\n    function updateCounter(count) {\n      const {\n        value\n      } = counterRef;\n      if (value) {\n        value.setTextContent(`+${count}`);\n      }\n    }\n    function getCounter() {\n      const {\n        value\n      } = counterWrapperRef;\n      return value;\n    }\n    function getTail() {\n      return patternInputRef.value;\n    }\n    let enterTimerId = null;\n    function clearEnterTimer() {\n      if (enterTimerId !== null) window.clearTimeout(enterTimerId);\n    }\n    function handleMouseEnterCounter() {\n      if (props.disabled || props.active) return;\n      clearEnterTimer();\n      enterTimerId = window.setTimeout(() => {\n        if (selectedRef.value) {\n          showTagsPopoverRef.value = true;\n        }\n      }, 100);\n    }\n    function handleMouseLeaveCounter() {\n      clearEnterTimer();\n    }\n    function onPopoverUpdateShow(show) {\n      if (!show) {\n        clearEnterTimer();\n        showTagsPopoverRef.value = false;\n      }\n    }\n    watch(selectedRef, value => {\n      if (!value) {\n        showTagsPopoverRef.value = false;\n      }\n    });\n    onMounted(() => {\n      watchEffect(() => {\n        const patternInputWrapperEl = patternInputWrapperRef.value;\n        if (!patternInputWrapperEl) return;\n        patternInputWrapperEl.tabIndex = props.disabled || patternInputFocusedRef.value ? -1 : 0;\n      });\n    });\n    useOnResize(selfRef, props.onResize);\n    const {\n      inlineThemeDisabled\n    } = props;\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          borderRadius,\n          color,\n          placeholderColor,\n          textColor,\n          paddingSingle,\n          paddingMultiple,\n          caretColor,\n          colorDisabled,\n          textColorDisabled,\n          placeholderColorDisabled,\n          colorActive,\n          boxShadowFocus,\n          boxShadowActive,\n          boxShadowHover,\n          border,\n          borderFocus,\n          borderHover,\n          borderActive,\n          arrowColor,\n          arrowColorDisabled,\n          loadingColor,\n          // form warning\n          colorActiveWarning,\n          boxShadowFocusWarning,\n          boxShadowActiveWarning,\n          boxShadowHoverWarning,\n          borderWarning,\n          borderFocusWarning,\n          borderHoverWarning,\n          borderActiveWarning,\n          // form error\n          colorActiveError,\n          boxShadowFocusError,\n          boxShadowActiveError,\n          boxShadowHoverError,\n          borderError,\n          borderFocusError,\n          borderHoverError,\n          borderActiveError,\n          // clear\n          clearColor,\n          clearColorHover,\n          clearColorPressed,\n          clearSize,\n          // arrow\n          arrowSize,\n          [createKey('height', size)]: height,\n          [createKey('fontSize', size)]: fontSize\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border': border,\n        '--n-border-active': borderActive,\n        '--n-border-focus': borderFocus,\n        '--n-border-hover': borderHover,\n        '--n-border-radius': borderRadius,\n        '--n-box-shadow-active': boxShadowActive,\n        '--n-box-shadow-focus': boxShadowFocus,\n        '--n-box-shadow-hover': boxShadowHover,\n        '--n-caret-color': caretColor,\n        '--n-color': color,\n        '--n-color-active': colorActive,\n        '--n-color-disabled': colorDisabled,\n        '--n-font-size': fontSize,\n        '--n-height': height,\n        '--n-padding-single': paddingSingle,\n        '--n-padding-multiple': paddingMultiple,\n        '--n-placeholder-color': placeholderColor,\n        '--n-placeholder-color-disabled': placeholderColorDisabled,\n        '--n-text-color': textColor,\n        '--n-text-color-disabled': textColorDisabled,\n        '--n-arrow-color': arrowColor,\n        '--n-arrow-color-disabled': arrowColorDisabled,\n        '--n-loading-color': loadingColor,\n        // form warning\n        '--n-color-active-warning': colorActiveWarning,\n        '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n        '--n-box-shadow-active-warning': boxShadowActiveWarning,\n        '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n        '--n-border-warning': borderWarning,\n        '--n-border-focus-warning': borderFocusWarning,\n        '--n-border-hover-warning': borderHoverWarning,\n        '--n-border-active-warning': borderActiveWarning,\n        // form error\n        '--n-color-active-error': colorActiveError,\n        '--n-box-shadow-focus-error': boxShadowFocusError,\n        '--n-box-shadow-active-error': boxShadowActiveError,\n        '--n-box-shadow-hover-error': boxShadowHoverError,\n        '--n-border-error': borderError,\n        '--n-border-focus-error': borderFocusError,\n        '--n-border-hover-error': borderHoverError,\n        '--n-border-active-error': borderActiveError,\n        // clear\n        '--n-clear-size': clearSize,\n        '--n-clear-color': clearColor,\n        '--n-clear-color-hover': clearColorHover,\n        '--n-clear-color-pressed': clearColorPressed,\n        // arrow-size\n        '--n-arrow-size': arrowSize\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('internal-selection', computed(() => {\n      return props.size[0];\n    }), cssVarsRef, props) : undefined;\n    return {\n      mergedTheme: themeRef,\n      mergedClearable: mergedClearableRef,\n      patternInputFocused: patternInputFocusedRef,\n      filterablePlaceholder: filterablePlaceholderRef,\n      label: labelRef,\n      selected: selectedRef,\n      showTagsPanel: showTagsPopoverRef,\n      isComposing: isComposingRef,\n      // dom ref\n      counterRef,\n      counterWrapperRef,\n      patternInputMirrorRef,\n      patternInputRef,\n      selfRef,\n      multipleElRef,\n      singleElRef,\n      patternInputWrapperRef,\n      overflowRef,\n      inputTagElRef,\n      handleMouseDown,\n      handleFocusin,\n      handleClear,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleDeleteOption,\n      handlePatternKeyDown,\n      handlePatternInputInput,\n      handlePatternInputBlur,\n      handlePatternInputFocus,\n      handleMouseEnterCounter,\n      handleMouseLeaveCounter,\n      handleFocusout,\n      handleCompositionEnd,\n      handleCompositionStart,\n      onPopoverUpdateShow,\n      focus,\n      focusInput,\n      blur,\n      blurInput,\n      updateCounter,\n      getCounter,\n      getTail,\n      renderLabel: props.renderLabel,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      status,\n      multiple,\n      size,\n      disabled,\n      filterable,\n      maxTagCount,\n      bordered,\n      clsPrefix,\n      onRender,\n      renderTag,\n      renderLabel\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const maxTagCountResponsive = maxTagCount === 'responsive';\n    const maxTagCountNumeric = typeof maxTagCount === 'number';\n    const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n    const suffix = h(Wrapper, null, {\n      default: () => h(Suffix, {\n        clsPrefix: clsPrefix,\n        loading: this.loading,\n        showArrow: this.showArrow,\n        showClear: this.mergedClearable && this.selected,\n        onClear: this.handleClear\n      }, {\n        default: () => {\n          var _a, _b;\n          return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n      })\n    });\n    let body;\n    if (multiple) {\n      const {\n        labelField\n      } = this;\n      const createTag = option => h(\"div\", {\n        class: `${clsPrefix}-base-selection-tag-wrapper`,\n        key: option.value\n      }, renderTag ? renderTag({\n        option,\n        handleClose: () => this.handleDeleteOption(option)\n      }) : h(NTag, {\n        size: size,\n        closable: !option.disabled,\n        disabled: disabled,\n        onClose: () => this.handleDeleteOption(option),\n        internalCloseIsButtonTag: false,\n        internalCloseFocusable: false\n      }, {\n        default: () => renderLabel ? renderLabel(option, true) : render(option[labelField], option, true)\n      }));\n      const originalTags = (maxTagCountNumeric ? this.selectedOptions.slice(0, maxTagCount) : this.selectedOptions).map(createTag);\n      const input = filterable ? h(\"div\", {\n        class: `${clsPrefix}-base-selection-input-tag`,\n        ref: \"inputTagElRef\",\n        key: \"__input-tag__\"\n      }, h(\"input\", Object.assign({}, this.inputProps, {\n        ref: \"patternInputRef\",\n        tabindex: -1,\n        disabled: disabled,\n        value: this.pattern,\n        autofocus: this.autofocus,\n        class: `${clsPrefix}-base-selection-input-tag__input`,\n        onBlur: this.handlePatternInputBlur,\n        onFocus: this.handlePatternInputFocus,\n        onKeydown: this.handlePatternKeyDown,\n        onInput: this.handlePatternInputInput,\n        onCompositionstart: this.handleCompositionStart,\n        onCompositionend: this.handleCompositionEnd\n      })), h(\"span\", {\n        ref: \"patternInputMirrorRef\",\n        class: `${clsPrefix}-base-selection-input-tag__mirror`\n      }, this.pattern)) : null;\n      // May Overflow\n      const renderCounter = maxTagCountResponsive ? () => h(\"div\", {\n        class: `${clsPrefix}-base-selection-tag-wrapper`,\n        ref: \"counterWrapperRef\"\n      }, h(NTag, {\n        size: size,\n        ref: \"counterRef\",\n        onMouseenter: this.handleMouseEnterCounter,\n        onMouseleave: this.handleMouseLeaveCounter,\n        disabled: disabled\n      })) : undefined;\n      let counter;\n      if (maxTagCountNumeric) {\n        const rest = this.selectedOptions.length - maxTagCount;\n        if (rest > 0) {\n          counter = h(\"div\", {\n            class: `${clsPrefix}-base-selection-tag-wrapper`,\n            key: \"__counter__\"\n          }, h(NTag, {\n            size: size,\n            ref: \"counterRef\",\n            onMouseenter: this.handleMouseEnterCounter,\n            disabled: disabled\n          }, {\n            default: () => `+${rest}`\n          }));\n        }\n      }\n      const tags = maxTagCountResponsive ? filterable ? h(VOverflow, {\n        ref: \"overflowRef\",\n        updateCounter: this.updateCounter,\n        getCounter: this.getCounter,\n        getTail: this.getTail,\n        style: {\n          width: '100%',\n          display: 'flex',\n          overflow: 'hidden'\n        }\n      }, {\n        default: () => originalTags,\n        counter: renderCounter,\n        tail: () => input\n      }) : h(VOverflow, {\n        ref: \"overflowRef\",\n        updateCounter: this.updateCounter,\n        getCounter: this.getCounter,\n        style: {\n          width: '100%',\n          display: 'flex',\n          overflow: 'hidden'\n        }\n      }, {\n        default: () => originalTags,\n        counter: renderCounter\n      }) : maxTagCountNumeric ? originalTags.concat(counter) : originalTags;\n      const renderPopover = useMaxTagCount ? () => h(\"div\", {\n        class: `${clsPrefix}-base-selection-popover`\n      }, maxTagCountResponsive ? originalTags : this.selectedOptions.map(createTag)) : undefined;\n      const popoverProps = useMaxTagCount ? {\n        show: this.showTagsPanel,\n        trigger: 'hover',\n        overlap: true,\n        placement: 'top',\n        width: 'trigger',\n        onUpdateShow: this.onPopoverUpdateShow,\n        theme: this.mergedTheme.peers.Popover,\n        themeOverrides: this.mergedTheme.peerOverrides.Popover\n      } : null;\n      const showPlaceholder = this.selected ? false : this.active ? !this.pattern && !this.isComposing : true;\n      const placeholder = showPlaceholder ? h(\"div\", {\n        class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`\n      }, h(\"div\", {\n        class: `${clsPrefix}-base-selection-placeholder__inner`\n      }, this.placeholder)) : null;\n      const popoverTrigger = filterable ? h(\"div\", {\n        ref: \"patternInputWrapperRef\",\n        class: `${clsPrefix}-base-selection-tags`\n      }, tags, maxTagCountResponsive ? null : input, suffix) : h(\"div\", {\n        ref: \"multipleElRef\",\n        class: `${clsPrefix}-base-selection-tags`,\n        tabindex: disabled ? undefined : 0\n      }, tags, suffix);\n      body = h(Fragment, null, useMaxTagCount ? h(NPopover, Object.assign({}, popoverProps, {\n        scrollable: true,\n        style: \"max-height: calc(var(--v-target-height) * 6.6);\"\n      }), {\n        trigger: () => popoverTrigger,\n        default: renderPopover\n      }) : popoverTrigger, placeholder);\n    } else {\n      if (filterable) {\n        const hasInput = this.pattern || this.isComposing;\n        const showPlaceholder = this.active ? !hasInput : !this.selected;\n        const showSelectedLabel = this.active ? false : this.selected;\n        body = h(\"div\", {\n          ref: \"patternInputWrapperRef\",\n          class: `${clsPrefix}-base-selection-label`\n        }, h(\"input\", Object.assign({}, this.inputProps, {\n          ref: \"patternInputRef\",\n          class: `${clsPrefix}-base-selection-input`,\n          value: this.active ? this.pattern : '',\n          placeholder: \"\",\n          readonly: disabled,\n          disabled: disabled,\n          tabindex: -1,\n          autofocus: this.autofocus,\n          onFocus: this.handlePatternInputFocus,\n          onBlur: this.handlePatternInputBlur,\n          onInput: this.handlePatternInputInput,\n          onCompositionstart: this.handleCompositionStart,\n          onCompositionend: this.handleCompositionEnd\n        })), showSelectedLabel ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`,\n          key: \"input\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-overlay__wrapper`\n        }, renderTag ? renderTag({\n          option: this.selectedOption,\n          handleClose: () => {}\n        }) : renderLabel ? renderLabel(this.selectedOption, true) : render(this.label, this.selectedOption, true))) : null, showPlaceholder ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,\n          key: \"placeholder\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-overlay__wrapper`\n        }, this.filterablePlaceholder)) : null, suffix);\n      } else {\n        body = h(\"div\", {\n          ref: \"singleElRef\",\n          class: `${clsPrefix}-base-selection-label`,\n          tabindex: this.disabled ? undefined : 0\n        }, this.label !== undefined ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-input`,\n          title: getTitleAttribute(this.label),\n          key: \"input\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-input__content`\n        }, renderTag ? renderTag({\n          option: this.selectedOption,\n          handleClose: () => {}\n        }) : renderLabel ? renderLabel(this.selectedOption, true) : render(this.label, this.selectedOption, true))) : h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,\n          key: \"placeholder\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder__inner`\n        }, this.placeholder)), suffix);\n      }\n    }\n    return h(\"div\", {\n      ref: \"selfRef\",\n      class: [`${clsPrefix}-base-selection`, this.themeClass, status && `${clsPrefix}-base-selection--${status}-status`, {\n        [`${clsPrefix}-base-selection--active`]: this.active,\n        [`${clsPrefix}-base-selection--selected`]: this.selected || this.active && this.pattern,\n        [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n        [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n        // focus is not controlled by selection itself since it always need\n        // to be managed together with menu. provide :focus style will cause\n        // many redundant codes.\n        [`${clsPrefix}-base-selection--focus`]: this.focused\n      }],\n      style: this.cssVars,\n      onClick: this.onClick,\n      onMouseenter: this.handleMouseEnter,\n      onMouseleave: this.handleMouseLeave,\n      onKeydown: this.onKeydown,\n      onFocusin: this.handleFocusin,\n      onFocusout: this.handleFocusout,\n      onMousedown: this.handleMouseDown\n    }, body, bordered ? h(\"div\", {\n      class: `${clsPrefix}-base-selection__border`\n    }) : null, bordered ? h(\"div\", {\n      class: `${clsPrefix}-base-selection__state-border`\n    }) : null);\n  }\n});","map":{"version":3,"names":["h","defineComponent","Fragment","ref","computed","watch","toRef","nextTick","watchEffect","onMounted","VOverflow","NPopover","NTag","useThemeClass","useTheme","createKey","getTitleAttribute","render","useOnResize","Wrapper","Suffix","internalSelectionLight","style","name","props","Object","assign","clsPrefix","type","String","required","bordered","Boolean","default","undefined","active","pattern","placeholder","selectedOption","selectedOptions","Array","labelField","valueField","multiple","filterable","clearable","disabled","size","loading","autofocus","showArrow","inputProps","focused","renderTag","Function","onKeydown","onClick","onBlur","onFocus","onDeleteOption","maxTagCount","Number","onClear","onPatternInput","onPatternFocus","onPatternBlur","renderLabel","status","inlineThemeDisabled","ignoreComposition","onResize","setup","patternInputMirrorRef","patternInputRef","selfRef","multipleElRef","singleElRef","patternInputWrapperRef","counterRef","counterWrapperRef","overflowRef","inputTagElRef","showTagsPopoverRef","patternInputFocusedRef","hoverRef","themeRef","mergedClearableRef","value","filterablePlaceholderRef","option","handleClose","labelRef","selectedRef","isArray","length","syncMirrorWidth","_a","patternInputMirrorEl","patternInputEl","width","offsetWidth","sync","hideInputTag","inputTagEl","display","showInputTag","doFocus","e","doBlur","doDeleteOption","doClear","doPatternInput","handleFocusin","relatedTarget","contains","handleFocusout","handleClear","handleMouseEnter","handleMouseLeave","handleMouseDown","target","preventDefault","handleDeleteOption","handlePatternKeyDown","key","isComposingRef","cachedInputEvent","handlePatternInputInput","inputText","textContent","handleCompositionStart","handleCompositionEnd","handlePatternInputFocus","call","handlePatternInputBlur","blur","_b","multipleEl","singleEl","focus","_c","focusInput","blurInput","updateCounter","count","setTextContent","getCounter","getTail","enterTimerId","clearEnterTimer","window","clearTimeout","handleMouseEnterCounter","setTimeout","handleMouseLeaveCounter","onPopoverUpdateShow","show","patternInputWrapperEl","tabIndex","cssVarsRef","common","cubicBezierEaseInOut","self","borderRadius","color","placeholderColor","textColor","paddingSingle","paddingMultiple","caretColor","colorDisabled","textColorDisabled","placeholderColorDisabled","colorActive","boxShadowFocus","boxShadowActive","boxShadowHover","border","borderFocus","borderHover","borderActive","arrowColor","arrowColorDisabled","loadingColor","colorActiveWarning","boxShadowFocusWarning","boxShadowActiveWarning","boxShadowHoverWarning","borderWarning","borderFocusWarning","borderHoverWarning","borderActiveWarning","colorActiveError","boxShadowFocusError","boxShadowActiveError","boxShadowHoverError","borderError","borderFocusError","borderHoverError","borderActiveError","clearColor","clearColorHover","clearColorPressed","clearSize","arrowSize","height","fontSize","themeClassHandle","mergedTheme","mergedClearable","patternInputFocused","filterablePlaceholder","label","selected","showTagsPanel","isComposing","cssVars","themeClass","onRender","maxTagCountResponsive","maxTagCountNumeric","useMaxTagCount","suffix","showClear","$slots","arrow","body","createTag","class","closable","onClose","internalCloseIsButtonTag","internalCloseFocusable","originalTags","slice","map","input","tabindex","onInput","onCompositionstart","onCompositionend","renderCounter","onMouseenter","onMouseleave","counter","rest","tags","overflow","tail","concat","renderPopover","popoverProps","trigger","overlap","placement","onUpdateShow","theme","peers","Popover","themeOverrides","peerOverrides","showPlaceholder","popoverTrigger","scrollable","hasInput","showSelectedLabel","readonly","title","onFocusin","onFocusout","onMousedown"],"sources":["/Users/krystal/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/_internal/selection/src/Selection.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, Fragment, ref, computed, watch, toRef, nextTick, watchEffect, onMounted } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { NPopover } from '../../../popover';\nimport { NTag } from '../../../tag';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from '../../../_utils';\nimport Suffix from '../../suffix';\nimport { internalSelectionLight } from '../styles';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelection',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, bordered: {\n            type: Boolean,\n            default: undefined\n        }, active: Boolean, pattern: {\n            type: String,\n            default: ''\n        }, placeholder: String, selectedOption: {\n            type: Object,\n            default: null\n        }, selectedOptions: {\n            type: Array,\n            default: null\n        }, labelField: { type: String, default: 'label' }, valueField: {\n            type: String,\n            default: 'value'\n        }, multiple: Boolean, filterable: Boolean, clearable: Boolean, disabled: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, loading: Boolean, autofocus: Boolean, showArrow: {\n            type: Boolean,\n            default: true\n        }, inputProps: Object, focused: Boolean, renderTag: Function, onKeydown: Function, onClick: Function, onBlur: Function, onFocus: Function, onDeleteOption: Function, maxTagCount: [String, Number], onClear: Function, onPatternInput: Function, onPatternFocus: Function, onPatternBlur: Function, renderLabel: Function, status: String, inlineThemeDisabled: Boolean, ignoreComposition: { type: Boolean, default: true }, onResize: Function }),\n    setup(props) {\n        const patternInputMirrorRef = ref(null);\n        const patternInputRef = ref(null);\n        const selfRef = ref(null);\n        const multipleElRef = ref(null);\n        const singleElRef = ref(null);\n        const patternInputWrapperRef = ref(null);\n        const counterRef = ref(null);\n        const counterWrapperRef = ref(null);\n        const overflowRef = ref(null);\n        const inputTagElRef = ref(null);\n        const showTagsPopoverRef = ref(false);\n        const patternInputFocusedRef = ref(false);\n        const hoverRef = ref(false);\n        const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n        const mergedClearableRef = computed(() => {\n            return (props.clearable && !props.disabled && (hoverRef.value || props.active));\n        });\n        const filterablePlaceholderRef = computed(() => {\n            return props.selectedOption\n                ? props.renderTag\n                    ? props.renderTag({\n                        option: props.selectedOption,\n                        handleClose: () => { }\n                    })\n                    : props.renderLabel\n                        ? props.renderLabel(props.selectedOption, true)\n                        : render(props.selectedOption[props.labelField], props.selectedOption, true)\n                : props.placeholder;\n        });\n        const labelRef = computed(() => {\n            const option = props.selectedOption;\n            if (!option)\n                return undefined;\n            return option[props.labelField];\n        });\n        const selectedRef = computed(() => {\n            if (props.multiple) {\n                return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n            }\n            else {\n                return props.selectedOption !== null;\n            }\n        });\n        function syncMirrorWidth() {\n            var _a;\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const { value: patternInputEl } = patternInputRef;\n                if (patternInputEl) {\n                    patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n                    if (props.maxTagCount !== 'responsive') {\n                        (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n                    }\n                }\n            }\n        }\n        function hideInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'none';\n        }\n        function showInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'inline-block';\n        }\n        watch(toRef(props, 'active'), (value) => {\n            if (!value)\n                hideInputTag();\n        });\n        watch(toRef(props, 'pattern'), () => {\n            if (props.multiple) {\n                void nextTick(syncMirrorWidth);\n            }\n        });\n        function doFocus(e) {\n            const { onFocus } = props;\n            if (onFocus)\n                onFocus(e);\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            if (onBlur)\n                onBlur(e);\n        }\n        function doDeleteOption(value) {\n            const { onDeleteOption } = props;\n            if (onDeleteOption)\n                onDeleteOption(value);\n        }\n        function doClear(e) {\n            const { onClear } = props;\n            if (onClear)\n                onClear(e);\n        }\n        function doPatternInput(value) {\n            const { onPatternInput } = props;\n            if (onPatternInput)\n                onPatternInput(value);\n        }\n        function handleFocusin(e) {\n            var _a;\n            if (!e.relatedTarget ||\n                !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                doFocus(e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))\n                return;\n            doBlur(e);\n        }\n        function handleClear(e) {\n            doClear(e);\n        }\n        function handleMouseEnter() {\n            hoverRef.value = true;\n        }\n        function handleMouseLeave() {\n            hoverRef.value = false;\n        }\n        function handleMouseDown(e) {\n            if (!props.active || !props.filterable)\n                return;\n            if (e.target === patternInputRef.value)\n                return;\n            e.preventDefault();\n        }\n        function handleDeleteOption(option) {\n            doDeleteOption(option);\n        }\n        function handlePatternKeyDown(e) {\n            if (e.key === 'Backspace' && !isComposingRef.value) {\n                if (!props.pattern.length) {\n                    const { selectedOptions } = props;\n                    if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n                        handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n                    }\n                }\n            }\n        }\n        const isComposingRef = ref(false);\n        // the composition end is later than its input so we can cached the event\n        // and return the input event\n        let cachedInputEvent = null;\n        function handlePatternInputInput(e) {\n            // we should sync mirror width here\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const inputText = e.target.value;\n                patternInputMirrorEl.textContent = inputText;\n                syncMirrorWidth();\n            }\n            if (props.ignoreComposition) {\n                if (!isComposingRef.value) {\n                    doPatternInput(e);\n                }\n                else {\n                    cachedInputEvent = e;\n                }\n            }\n            else {\n                doPatternInput(e);\n            }\n        }\n        function handleCompositionStart() {\n            isComposingRef.value = true;\n        }\n        function handleCompositionEnd() {\n            isComposingRef.value = false;\n            if (props.ignoreComposition) {\n                doPatternInput(cachedInputEvent);\n            }\n            cachedInputEvent = null;\n        }\n        function handlePatternInputFocus(e) {\n            var _a;\n            patternInputFocusedRef.value = true;\n            (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handlePatternInputBlur(e) {\n            var _a;\n            patternInputFocusedRef.value = false;\n            (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function blur() {\n            var _a, _b;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n                (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n            }\n            else if (props.multiple) {\n                const { value: multipleEl } = multipleElRef;\n                multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n            }\n            else {\n                const { value: singleEl } = singleElRef;\n                singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n            }\n        }\n        function focus() {\n            var _a, _b, _c;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n            else if (props.multiple) {\n                (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n            }\n            else {\n                (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        function focusInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                showInputTag();\n                patternInputEl.focus();\n            }\n        }\n        function blurInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                patternInputEl.blur();\n            }\n        }\n        function updateCounter(count) {\n            const { value } = counterRef;\n            if (value) {\n                value.setTextContent(`+${count}`);\n            }\n        }\n        function getCounter() {\n            const { value } = counterWrapperRef;\n            return value;\n        }\n        function getTail() {\n            return patternInputRef.value;\n        }\n        let enterTimerId = null;\n        function clearEnterTimer() {\n            if (enterTimerId !== null)\n                window.clearTimeout(enterTimerId);\n        }\n        function handleMouseEnterCounter() {\n            if (props.disabled || props.active)\n                return;\n            clearEnterTimer();\n            enterTimerId = window.setTimeout(() => {\n                if (selectedRef.value) {\n                    showTagsPopoverRef.value = true;\n                }\n            }, 100);\n        }\n        function handleMouseLeaveCounter() {\n            clearEnterTimer();\n        }\n        function onPopoverUpdateShow(show) {\n            if (!show) {\n                clearEnterTimer();\n                showTagsPopoverRef.value = false;\n            }\n        }\n        watch(selectedRef, (value) => {\n            if (!value) {\n                showTagsPopoverRef.value = false;\n            }\n        });\n        onMounted(() => {\n            watchEffect(() => {\n                const patternInputWrapperEl = patternInputWrapperRef.value;\n                if (!patternInputWrapperEl)\n                    return;\n                patternInputWrapperEl.tabIndex =\n                    props.disabled || patternInputFocusedRef.value ? -1 : 0;\n            });\n        });\n        useOnResize(selfRef, props.onResize);\n        const { inlineThemeDisabled } = props;\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { borderRadius, color, placeholderColor, textColor, paddingSingle, paddingMultiple, caretColor, colorDisabled, textColorDisabled, placeholderColorDisabled, colorActive, boxShadowFocus, boxShadowActive, boxShadowHover, border, borderFocus, borderHover, borderActive, arrowColor, arrowColorDisabled, loadingColor, \n            // form warning\n            colorActiveWarning, boxShadowFocusWarning, boxShadowActiveWarning, boxShadowHoverWarning, borderWarning, borderFocusWarning, borderHoverWarning, borderActiveWarning, \n            // form error\n            colorActiveError, boxShadowFocusError, boxShadowActiveError, boxShadowHoverError, borderError, borderFocusError, borderHoverError, borderActiveError, \n            // clear\n            clearColor, clearColorHover, clearColorPressed, clearSize, \n            // arrow\n            arrowSize, [createKey('height', size)]: height, [createKey('fontSize', size)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border': border,\n                '--n-border-active': borderActive,\n                '--n-border-focus': borderFocus,\n                '--n-border-hover': borderHover,\n                '--n-border-radius': borderRadius,\n                '--n-box-shadow-active': boxShadowActive,\n                '--n-box-shadow-focus': boxShadowFocus,\n                '--n-box-shadow-hover': boxShadowHover,\n                '--n-caret-color': caretColor,\n                '--n-color': color,\n                '--n-color-active': colorActive,\n                '--n-color-disabled': colorDisabled,\n                '--n-font-size': fontSize,\n                '--n-height': height,\n                '--n-padding-single': paddingSingle,\n                '--n-padding-multiple': paddingMultiple,\n                '--n-placeholder-color': placeholderColor,\n                '--n-placeholder-color-disabled': placeholderColorDisabled,\n                '--n-text-color': textColor,\n                '--n-text-color-disabled': textColorDisabled,\n                '--n-arrow-color': arrowColor,\n                '--n-arrow-color-disabled': arrowColorDisabled,\n                '--n-loading-color': loadingColor,\n                // form warning\n                '--n-color-active-warning': colorActiveWarning,\n                '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n                '--n-box-shadow-active-warning': boxShadowActiveWarning,\n                '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n                '--n-border-warning': borderWarning,\n                '--n-border-focus-warning': borderFocusWarning,\n                '--n-border-hover-warning': borderHoverWarning,\n                '--n-border-active-warning': borderActiveWarning,\n                // form error\n                '--n-color-active-error': colorActiveError,\n                '--n-box-shadow-focus-error': boxShadowFocusError,\n                '--n-box-shadow-active-error': boxShadowActiveError,\n                '--n-box-shadow-hover-error': boxShadowHoverError,\n                '--n-border-error': borderError,\n                '--n-border-focus-error': borderFocusError,\n                '--n-border-hover-error': borderHoverError,\n                '--n-border-active-error': borderActiveError,\n                // clear\n                '--n-clear-size': clearSize,\n                '--n-clear-color': clearColor,\n                '--n-clear-color-hover': clearColorHover,\n                '--n-clear-color-pressed': clearColorPressed,\n                // arrow-size\n                '--n-arrow-size': arrowSize\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-selection', computed(() => {\n                return props.size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedTheme: themeRef,\n            mergedClearable: mergedClearableRef,\n            patternInputFocused: patternInputFocusedRef,\n            filterablePlaceholder: filterablePlaceholderRef,\n            label: labelRef,\n            selected: selectedRef,\n            showTagsPanel: showTagsPopoverRef,\n            isComposing: isComposingRef,\n            // dom ref\n            counterRef,\n            counterWrapperRef,\n            patternInputMirrorRef,\n            patternInputRef,\n            selfRef,\n            multipleElRef,\n            singleElRef,\n            patternInputWrapperRef,\n            overflowRef,\n            inputTagElRef,\n            handleMouseDown,\n            handleFocusin,\n            handleClear,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleDeleteOption,\n            handlePatternKeyDown,\n            handlePatternInputInput,\n            handlePatternInputBlur,\n            handlePatternInputFocus,\n            handleMouseEnterCounter,\n            handleMouseLeaveCounter,\n            handleFocusout,\n            handleCompositionEnd,\n            handleCompositionStart,\n            onPopoverUpdateShow,\n            focus,\n            focusInput,\n            blur,\n            blurInput,\n            updateCounter,\n            getCounter,\n            getTail,\n            renderLabel: props.renderLabel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { status, multiple, size, disabled, filterable, maxTagCount, bordered, clsPrefix, onRender, renderTag, renderLabel } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const maxTagCountResponsive = maxTagCount === 'responsive';\n        const maxTagCountNumeric = typeof maxTagCount === 'number';\n        const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n        const suffix = (h(Wrapper, null, {\n            default: () => (h(Suffix, { clsPrefix: clsPrefix, loading: this.loading, showArrow: this.showArrow, showClear: this.mergedClearable && this.selected, onClear: this.handleClear }, {\n                default: () => { var _a, _b; return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a); }\n            }))\n        }));\n        let body;\n        if (multiple) {\n            const { labelField } = this;\n            const createTag = (option) => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: option.value }, renderTag ? (renderTag({\n                option,\n                handleClose: () => this.handleDeleteOption(option)\n            })) : (h(NTag, { size: size, closable: !option.disabled, disabled: disabled, onClose: () => this.handleDeleteOption(option), internalCloseIsButtonTag: false, internalCloseFocusable: false }, {\n                default: () => renderLabel\n                    ? renderLabel(option, true)\n                    : render(option[labelField], option, true)\n            }))));\n            const originalTags = (maxTagCountNumeric\n                ? this.selectedOptions.slice(0, maxTagCount)\n                : this.selectedOptions).map(createTag);\n            const input = filterable ? (h(\"div\", { class: `${clsPrefix}-base-selection-input-tag`, ref: \"inputTagElRef\", key: \"__input-tag__\" },\n                h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", tabindex: -1, disabled: disabled, value: this.pattern, autofocus: this.autofocus, class: `${clsPrefix}-base-selection-input-tag__input`, onBlur: this.handlePatternInputBlur, onFocus: this.handlePatternInputFocus, onKeydown: this.handlePatternKeyDown, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                h(\"span\", { ref: \"patternInputMirrorRef\", class: `${clsPrefix}-base-selection-input-tag__mirror` }, this.pattern))) : null;\n            // May Overflow\n            const renderCounter = maxTagCountResponsive\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, ref: \"counterWrapperRef\" },\n                    h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, onMouseleave: this.handleMouseLeaveCounter, disabled: disabled })))\n                : undefined;\n            let counter;\n            if (maxTagCountNumeric) {\n                const rest = this.selectedOptions.length - maxTagCount;\n                if (rest > 0) {\n                    counter = (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: \"__counter__\" },\n                        h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, disabled: disabled }, {\n                            default: () => `+${rest}`\n                        })));\n                }\n            }\n            const tags = maxTagCountResponsive ? (filterable ? (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, getTail: this.getTail, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: () => originalTags,\n                counter: renderCounter,\n                tail: () => input\n            })) : (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: () => originalTags,\n                counter: renderCounter\n            }))) : maxTagCountNumeric ? (originalTags.concat(counter)) : (originalTags);\n            const renderPopover = useMaxTagCount\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-popover` }, maxTagCountResponsive\n                    ? originalTags\n                    : this.selectedOptions.map(createTag)))\n                : undefined;\n            const popoverProps = useMaxTagCount\n                ? {\n                    show: this.showTagsPanel,\n                    trigger: 'hover',\n                    overlap: true,\n                    placement: 'top',\n                    width: 'trigger',\n                    onUpdateShow: this.onPopoverUpdateShow,\n                    theme: this.mergedTheme.peers.Popover,\n                    themeOverrides: this.mergedTheme.peerOverrides.Popover\n                }\n                : null;\n            const showPlaceholder = this.selected\n                ? false\n                : this.active\n                    ? !this.pattern && !this.isComposing\n                    : true;\n            const placeholder = showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay` },\n                h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))) : null;\n            const popoverTrigger = filterable ? (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-tags` },\n                tags,\n                maxTagCountResponsive ? null : input,\n                suffix)) : (h(\"div\", { ref: \"multipleElRef\", class: `${clsPrefix}-base-selection-tags`, tabindex: disabled ? undefined : 0 },\n                tags,\n                suffix));\n            body = (h(Fragment, null,\n                useMaxTagCount ? (h(NPopover, Object.assign({}, popoverProps, { scrollable: true, style: \"max-height: calc(var(--v-target-height) * 6.6);\" }), {\n                    trigger: () => popoverTrigger,\n                    default: renderPopover\n                })) : (popoverTrigger),\n                placeholder));\n        }\n        else {\n            if (filterable) {\n                const hasInput = this.pattern || this.isComposing;\n                const showPlaceholder = this.active ? !hasInput : !this.selected;\n                const showSelectedLabel = this.active ? false : this.selected;\n                body = (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-label` },\n                    h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", class: `${clsPrefix}-base-selection-input`, value: this.active ? this.pattern : '', placeholder: \"\", readonly: disabled, disabled: disabled, tabindex: -1, autofocus: this.autofocus, onFocus: this.handlePatternInputFocus, onBlur: this.handlePatternInputBlur, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                    showSelectedLabel ? (h(\"div\", { class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`, key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : null,\n                    showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, this.filterablePlaceholder))) : null,\n                    suffix));\n            }\n            else {\n                body = (h(\"div\", { ref: \"singleElRef\", class: `${clsPrefix}-base-selection-label`, tabindex: this.disabled ? undefined : 0 },\n                    this.label !== undefined ? (h(\"div\", { class: `${clsPrefix}-base-selection-input`, title: getTitleAttribute(this.label), key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-input__content` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))),\n                    suffix));\n            }\n        }\n        return (h(\"div\", { ref: \"selfRef\", class: [\n                `${clsPrefix}-base-selection`,\n                this.themeClass,\n                status && `${clsPrefix}-base-selection--${status}-status`,\n                {\n                    [`${clsPrefix}-base-selection--active`]: this.active,\n                    [`${clsPrefix}-base-selection--selected`]: this.selected || (this.active && this.pattern),\n                    [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n                    [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n                    // focus is not controlled by selection itself since it always need\n                    // to be managed together with menu. provide :focus style will cause\n                    // many redundant codes.\n                    [`${clsPrefix}-base-selection--focus`]: this.focused\n                }\n            ], style: this.cssVars, onClick: this.onClick, onMouseenter: this.handleMouseEnter, onMouseleave: this.handleMouseLeave, onKeydown: this.onKeydown, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onMousedown: this.handleMouseDown },\n            body,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__border` })) : null,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__state-border` })) : null));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}