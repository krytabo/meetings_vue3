{"ast":null,"code":"import { createApp, h, unref } from 'vue';\nimport { NConfigProvider } from '../../config-provider';\nimport { useDialog } from '../../dialog';\nimport { useLoadingBar } from '../../loading-bar';\nimport { useMessage } from '../../message';\nimport { useNotification } from '../../notification';\nimport { isBrowser, warn } from '../../_utils';\nimport { NInjectionExtractor } from './InjectionExtractor';\nconst injectionFactoryMap = {\n  message: useMessage,\n  notification: useNotification,\n  loadingBar: useLoadingBar,\n  dialog: useDialog\n};\nexport function createDiscreteApp({\n  providersAndProps,\n  configProviderProps\n}) {\n  const App = () => {\n    return h(NConfigProvider, unref(configProviderProps), {\n      default: () => providersAndProps.map(({\n        type,\n        Provider,\n        props\n      }) => {\n        return h(Provider, unref(props), {\n          default: () => h(NInjectionExtractor, {\n            onSetup: () => extractedApi[type] = injectionFactoryMap[type]()\n          })\n        });\n      })\n    });\n  };\n  let app = createApp(App);\n  const extractedApi = {\n    app\n  };\n  let hostEl;\n  if (isBrowser) {\n    hostEl = document.createElement('div');\n    document.body.appendChild(hostEl);\n    app.mount(hostEl);\n  }\n  const unmount = () => {\n    var _a;\n    if (app === null || hostEl === null) {\n      warn('discrete', 'unmount call no need because discrete app has been unmounted');\n      return;\n    }\n    app.unmount();\n    (_a = hostEl.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(hostEl);\n    hostEl = null;\n    app = null;\n  };\n  return Object.assign({\n    unmount\n  }, extractedApi);\n}","map":{"version":3,"names":["createApp","h","unref","NConfigProvider","useDialog","useLoadingBar","useMessage","useNotification","isBrowser","warn","NInjectionExtractor","injectionFactoryMap","message","notification","loadingBar","dialog","createDiscreteApp","providersAndProps","configProviderProps","App","default","map","type","Provider","props","onSetup","extractedApi","app","hostEl","document","createElement","body","appendChild","mount","unmount","_a","parentNode","removeChild","Object","assign"],"sources":["/Users/elmo/Documents/GitHub/meetings_vue3/node_modules/naive-ui/es/discrete/src/discreteApp.js"],"sourcesContent":["import { createApp, h, unref } from 'vue';\nimport { NConfigProvider } from '../../config-provider';\nimport { useDialog } from '../../dialog';\nimport { useLoadingBar } from '../../loading-bar';\nimport { useMessage } from '../../message';\nimport { useNotification } from '../../notification';\nimport { isBrowser, warn } from '../../_utils';\nimport { NInjectionExtractor } from './InjectionExtractor';\nconst injectionFactoryMap = {\n    message: useMessage,\n    notification: useNotification,\n    loadingBar: useLoadingBar,\n    dialog: useDialog\n};\nexport function createDiscreteApp({ providersAndProps, configProviderProps }) {\n    const App = () => {\n        return h(NConfigProvider, unref(configProviderProps), {\n            default: () => providersAndProps.map(({ type, Provider, props }) => {\n                return h(Provider, unref(props), {\n                    default: () => h(NInjectionExtractor, {\n                        onSetup: () => (extractedApi[type] = injectionFactoryMap[type]())\n                    })\n                });\n            })\n        });\n    };\n    let app = createApp(App);\n    const extractedApi = {\n        app\n    };\n    let hostEl;\n    if (isBrowser) {\n        hostEl = document.createElement('div');\n        document.body.appendChild(hostEl);\n        app.mount(hostEl);\n    }\n    const unmount = () => {\n        var _a;\n        if (app === null || hostEl === null) {\n            warn('discrete', 'unmount call no need because discrete app has been unmounted');\n            return;\n        }\n        app.unmount();\n        (_a = hostEl.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(hostEl);\n        hostEl = null;\n        app = null;\n    };\n    return Object.assign({ unmount }, extractedApi);\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,CAAC,EAAEC,KAAK,QAAQ,KAAK;AACzC,SAASC,eAAe,QAAQ,uBAAuB;AACvD,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,UAAU,QAAQ,eAAe;AAC1C,SAASC,eAAe,QAAQ,oBAAoB;AACpD,SAASC,SAAS,EAAEC,IAAI,QAAQ,cAAc;AAC9C,SAASC,mBAAmB,QAAQ,sBAAsB;AAC1D,MAAMC,mBAAmB,GAAG;EACxBC,OAAO,EAAEN,UAAU;EACnBO,YAAY,EAAEN,eAAe;EAC7BO,UAAU,EAAET,aAAa;EACzBU,MAAM,EAAEX;AACZ,CAAC;AACD,OAAO,SAASY,iBAAiB,CAAC;EAAEC,iBAAiB;EAAEC;AAAoB,CAAC,EAAE;EAC1E,MAAMC,GAAG,GAAG,MAAM;IACd,OAAOlB,CAAC,CAACE,eAAe,EAAED,KAAK,CAACgB,mBAAmB,CAAC,EAAE;MAClDE,OAAO,EAAE,MAAMH,iBAAiB,CAACI,GAAG,CAAC,CAAC;QAAEC,IAAI;QAAEC,QAAQ;QAAEC;MAAM,CAAC,KAAK;QAChE,OAAOvB,CAAC,CAACsB,QAAQ,EAAErB,KAAK,CAACsB,KAAK,CAAC,EAAE;UAC7BJ,OAAO,EAAE,MAAMnB,CAAC,CAACS,mBAAmB,EAAE;YAClCe,OAAO,EAAE,MAAOC,YAAY,CAACJ,IAAI,CAAC,GAAGX,mBAAmB,CAACW,IAAI,CAAC;UAClE,CAAC;QACL,CAAC,CAAC;MACN,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACD,IAAIK,GAAG,GAAG3B,SAAS,CAACmB,GAAG,CAAC;EACxB,MAAMO,YAAY,GAAG;IACjBC;EACJ,CAAC;EACD,IAAIC,MAAM;EACV,IAAIpB,SAAS,EAAE;IACXoB,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACtCD,QAAQ,CAACE,IAAI,CAACC,WAAW,CAACJ,MAAM,CAAC;IACjCD,GAAG,CAACM,KAAK,CAACL,MAAM,CAAC;EACrB;EACA,MAAMM,OAAO,GAAG,MAAM;IAClB,IAAIC,EAAE;IACN,IAAIR,GAAG,KAAK,IAAI,IAAIC,MAAM,KAAK,IAAI,EAAE;MACjCnB,IAAI,CAAC,UAAU,EAAE,8DAA8D,CAAC;MAChF;IACJ;IACAkB,GAAG,CAACO,OAAO,EAAE;IACb,CAACC,EAAE,GAAGP,MAAM,CAACQ,UAAU,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,WAAW,CAACT,MAAM,CAAC;IACpFA,MAAM,GAAG,IAAI;IACbD,GAAG,GAAG,IAAI;EACd,CAAC;EACD,OAAOW,MAAM,CAACC,MAAM,CAAC;IAAEL;EAAQ,CAAC,EAAER,YAAY,CAAC;AACnD"},"metadata":{},"sourceType":"module","externalDependencies":[]}